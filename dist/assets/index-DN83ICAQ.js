(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function FT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Kf={exports:{}},Wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function GT(){if(Py)return Wl;Py=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Wl.Fragment=e,Wl.jsx=i,Wl.jsxs=i,Wl}var Uy;function QT(){return Uy||(Uy=1,Kf.exports=GT()),Kf.exports}var rt=QT(),Xf={exports:{}},Ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function YT(){if(ky)return Ot;ky=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.iterator;function C(N){return N===null||typeof N!="object"?null:(N=R&&N[R]||N["@@iterator"],typeof N=="function"?N:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,$={};function F(N,q,tt){this.props=N,this.context=q,this.refs=$,this.updater=tt||P}F.prototype.isReactComponent={},F.prototype.setState=function(N,q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,q,"setState")},F.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function nt(){}nt.prototype=F.prototype;function at(N,q,tt){this.props=N,this.context=q,this.refs=$,this.updater=tt||P}var st=at.prototype=new nt;st.constructor=at,H(st,F.prototype),st.isPureReactComponent=!0;var Et=Array.isArray,gt={H:null,A:null,T:null,S:null,V:null},wt=Object.prototype.hasOwnProperty;function O(N,q,tt,G,ct,yt){return tt=yt.ref,{$$typeof:r,type:N,key:q,ref:tt!==void 0?tt:null,props:yt}}function E(N,q){return O(N.type,q,void 0,void 0,void 0,N.props)}function T(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function w(N){var q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(tt){return q[tt]})}var x=/\/+/g;function I(N,q){return typeof N=="object"&&N!==null&&N.key!=null?w(""+N.key):q.toString(36)}function D(){}function Ut(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(D,D):(N.status="pending",N.then(function(q){N.status==="pending"&&(N.status="fulfilled",N.value=q)},function(q){N.status==="pending"&&(N.status="rejected",N.reason=q)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function jt(N,q,tt,G,ct){var yt=typeof N;(yt==="undefined"||yt==="boolean")&&(N=null);var dt=!1;if(N===null)dt=!0;else switch(yt){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(N.$$typeof){case r:case e:dt=!0;break;case A:return dt=N._init,jt(dt(N._payload),q,tt,G,ct)}}if(dt)return ct=ct(N),dt=G===""?"."+I(N,0):G,Et(ct)?(tt="",dt!=null&&(tt=dt.replace(x,"$&/")+"/"),jt(ct,q,tt,"",function(It){return It})):ct!=null&&(T(ct)&&(ct=E(ct,tt+(ct.key==null||N&&N.key===ct.key?"":(""+ct.key).replace(x,"$&/")+"/")+dt)),q.push(ct)),1;dt=0;var Jt=G===""?".":G+":";if(Et(N))for(var pt=0;pt<N.length;pt++)G=N[pt],yt=Jt+I(G,pt),dt+=jt(G,q,tt,yt,ct);else if(pt=C(N),typeof pt=="function")for(N=pt.call(N),pt=0;!(G=N.next()).done;)G=G.value,yt=Jt+I(G,pt++),dt+=jt(G,q,tt,yt,ct);else if(yt==="object"){if(typeof N.then=="function")return jt(Ut(N),q,tt,G,ct);throw q=String(N),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return dt}function Y(N,q,tt){if(N==null)return N;var G=[],ct=0;return jt(N,G,"","",function(yt){return q.call(tt,yt,ct++)}),G}function W(N){if(N._status===-1){var q=N._result;q=q(),q.then(function(tt){(N._status===0||N._status===-1)&&(N._status=1,N._result=tt)},function(tt){(N._status===0||N._status===-1)&&(N._status=2,N._result=tt)}),N._status===-1&&(N._status=0,N._result=q)}if(N._status===1)return N._result.default;throw N._result}var ot=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function ut(){}return Ot.Children={map:Y,forEach:function(N,q,tt){Y(N,function(){q.apply(this,arguments)},tt)},count:function(N){var q=0;return Y(N,function(){q++}),q},toArray:function(N){return Y(N,function(q){return q})||[]},only:function(N){if(!T(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ot.Component=F,Ot.Fragment=i,Ot.Profiler=o,Ot.PureComponent=at,Ot.StrictMode=s,Ot.Suspense=y,Ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=gt,Ot.__COMPILER_RUNTIME={__proto__:null,c:function(N){return gt.H.useMemoCache(N)}},Ot.cache=function(N){return function(){return N.apply(null,arguments)}},Ot.cloneElement=function(N,q,tt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var G=H({},N.props),ct=N.key,yt=void 0;if(q!=null)for(dt in q.ref!==void 0&&(yt=void 0),q.key!==void 0&&(ct=""+q.key),q)!wt.call(q,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&q.ref===void 0||(G[dt]=q[dt]);var dt=arguments.length-2;if(dt===1)G.children=tt;else if(1<dt){for(var Jt=Array(dt),pt=0;pt<dt;pt++)Jt[pt]=arguments[pt+2];G.children=Jt}return O(N.type,ct,void 0,void 0,yt,G)},Ot.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},Ot.createElement=function(N,q,tt){var G,ct={},yt=null;if(q!=null)for(G in q.key!==void 0&&(yt=""+q.key),q)wt.call(q,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(ct[G]=q[G]);var dt=arguments.length-2;if(dt===1)ct.children=tt;else if(1<dt){for(var Jt=Array(dt),pt=0;pt<dt;pt++)Jt[pt]=arguments[pt+2];ct.children=Jt}if(N&&N.defaultProps)for(G in dt=N.defaultProps,dt)ct[G]===void 0&&(ct[G]=dt[G]);return O(N,yt,void 0,void 0,null,ct)},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(N){return{$$typeof:g,render:N}},Ot.isValidElement=T,Ot.lazy=function(N){return{$$typeof:A,_payload:{_status:-1,_result:N},_init:W}},Ot.memo=function(N,q){return{$$typeof:p,type:N,compare:q===void 0?null:q}},Ot.startTransition=function(N){var q=gt.T,tt={};gt.T=tt;try{var G=N(),ct=gt.S;ct!==null&&ct(tt,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(ut,ot)}catch(yt){ot(yt)}finally{gt.T=q}},Ot.unstable_useCacheRefresh=function(){return gt.H.useCacheRefresh()},Ot.use=function(N){return gt.H.use(N)},Ot.useActionState=function(N,q,tt){return gt.H.useActionState(N,q,tt)},Ot.useCallback=function(N,q){return gt.H.useCallback(N,q)},Ot.useContext=function(N){return gt.H.useContext(N)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(N,q){return gt.H.useDeferredValue(N,q)},Ot.useEffect=function(N,q,tt){var G=gt.H;if(typeof tt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(N,q)},Ot.useId=function(){return gt.H.useId()},Ot.useImperativeHandle=function(N,q,tt){return gt.H.useImperativeHandle(N,q,tt)},Ot.useInsertionEffect=function(N,q){return gt.H.useInsertionEffect(N,q)},Ot.useLayoutEffect=function(N,q){return gt.H.useLayoutEffect(N,q)},Ot.useMemo=function(N,q){return gt.H.useMemo(N,q)},Ot.useOptimistic=function(N,q){return gt.H.useOptimistic(N,q)},Ot.useReducer=function(N,q,tt){return gt.H.useReducer(N,q,tt)},Ot.useRef=function(N){return gt.H.useRef(N)},Ot.useState=function(N){return gt.H.useState(N)},Ot.useSyncExternalStore=function(N,q,tt){return gt.H.useSyncExternalStore(N,q,tt)},Ot.useTransition=function(){return gt.H.useTransition()},Ot.version="19.1.0",Ot}var zy;function Ld(){return zy||(zy=1,Xf.exports=YT()),Xf.exports}var K=Ld(),$f={exports:{}},to={},Zf={exports:{}},Jf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function KT(){return By||(By=1,function(r){function e(Y,W){var ot=Y.length;Y.push(W);t:for(;0<ot;){var ut=ot-1>>>1,N=Y[ut];if(0<o(N,W))Y[ut]=W,Y[ot]=N,ot=ut;else break t}}function i(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var W=Y[0],ot=Y.pop();if(ot!==W){Y[0]=ot;t:for(var ut=0,N=Y.length,q=N>>>1;ut<q;){var tt=2*(ut+1)-1,G=Y[tt],ct=tt+1,yt=Y[ct];if(0>o(G,ot))ct<N&&0>o(yt,G)?(Y[ut]=yt,Y[ct]=ot,ut=ct):(Y[ut]=G,Y[tt]=ot,ut=tt);else if(ct<N&&0>o(yt,ot))Y[ut]=yt,Y[ct]=ot,ut=ct;else break t}}return W}function o(Y,W){var ot=Y.sortIndex-W.sortIndex;return ot!==0?ot:Y.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],p=[],A=1,R=null,C=3,P=!1,H=!1,$=!1,F=!1,nt=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function Et(Y){for(var W=i(p);W!==null;){if(W.callback===null)s(p);else if(W.startTime<=Y)s(p),W.sortIndex=W.expirationTime,e(y,W);else break;W=i(p)}}function gt(Y){if($=!1,Et(Y),!H)if(i(y)!==null)H=!0,wt||(wt=!0,I());else{var W=i(p);W!==null&&jt(gt,W.startTime-Y)}}var wt=!1,O=-1,E=5,T=-1;function w(){return F?!0:!(r.unstable_now()-T<E)}function x(){if(F=!1,wt){var Y=r.unstable_now();T=Y;var W=!0;try{t:{H=!1,$&&($=!1,at(O),O=-1),P=!0;var ot=C;try{e:{for(Et(Y),R=i(y);R!==null&&!(R.expirationTime>Y&&w());){var ut=R.callback;if(typeof ut=="function"){R.callback=null,C=R.priorityLevel;var N=ut(R.expirationTime<=Y);if(Y=r.unstable_now(),typeof N=="function"){R.callback=N,Et(Y),W=!0;break e}R===i(y)&&s(y),Et(Y)}else s(y);R=i(y)}if(R!==null)W=!0;else{var q=i(p);q!==null&&jt(gt,q.startTime-Y),W=!1}}break t}finally{R=null,C=ot,P=!1}W=void 0}}finally{W?I():wt=!1}}}var I;if(typeof st=="function")I=function(){st(x)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ut=D.port2;D.port1.onmessage=x,I=function(){Ut.postMessage(null)}}else I=function(){nt(x,0)};function jt(Y,W){O=nt(function(){Y(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(Y){switch(C){case 1:case 2:case 3:var W=3;break;default:W=C}var ot=C;C=W;try{return Y()}finally{C=ot}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(Y,W){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ot=C;C=Y;try{return W()}finally{C=ot}},r.unstable_scheduleCallback=function(Y,W,ot){var ut=r.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?ut+ot:ut):ot=ut,Y){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ot+N,Y={id:A++,callback:W,priorityLevel:Y,startTime:ot,expirationTime:N,sortIndex:-1},ot>ut?(Y.sortIndex=ot,e(p,Y),i(y)===null&&Y===i(p)&&($?(at(O),O=-1):$=!0,jt(gt,ot-ut))):(Y.sortIndex=N,e(y,Y),H||P||(H=!0,wt||(wt=!0,I()))),Y},r.unstable_shouldYield=w,r.unstable_wrapCallback=function(Y){var W=C;return function(){var ot=C;C=W;try{return Y.apply(this,arguments)}finally{C=ot}}}}(Jf)),Jf}var jy;function XT(){return jy||(jy=1,Zf.exports=KT()),Zf.exports}var Wf={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function $T(){if(qy)return on;qy=1;var r=Ld();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)p+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,p,A){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:y,containerInfo:p,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,on.createPortal=function(y,p){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(y,p,null,A)},on.flushSync=function(y){var p=d.T,A=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=p,s.p=A,s.d.f()}},on.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},on.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},on.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var A=p.as,R=g(A,p.crossOrigin),C=typeof p.integrity=="string"?p.integrity:void 0,P=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;A==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:R,integrity:C,fetchPriority:P}):A==="script"&&s.d.X(y,{crossOrigin:R,integrity:C,fetchPriority:P,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},on.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var A=g(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},on.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var A=p.as,R=g(A,p.crossOrigin);s.d.L(y,A,{crossOrigin:R,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},on.preloadModule=function(y,p){if(typeof y=="string")if(p){var A=g(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},on.requestFormReset=function(y){s.d.r(y)},on.unstable_batchedUpdates=function(y,p){return y(p)},on.useFormState=function(y,p,A){return d.H.useFormState(y,p,A)},on.useFormStatus=function(){return d.H.useHostTransitionStatus()},on.version="19.1.0",on}var Hy;function ZT(){if(Hy)return Wf.exports;Hy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Wf.exports=$T(),Wf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function JT(){if(Fy)return to;Fy=1;var r=XT(),e=Ld(),i=ZT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===l)return g(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var v=!1,S=h.child;S;){if(S===a){v=!0,a=h,l=f;break}if(S===l){v=!0,l=h,a=f;break}S=S.sibling}if(!v){for(S=f.child;S;){if(S===a){v=!0,a=f,l=h;break}if(S===l){v=!0,l=f,a=h;break}S=S.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function p(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=p(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,R=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),nt=Symbol.for("react.provider"),at=Symbol.for("react.consumer"),st=Symbol.for("react.context"),Et=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function I(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Ut(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case F:return"Profiler";case $:return"StrictMode";case gt:return"Suspense";case wt:return"SuspenseList";case T:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case st:return(t.displayName||"Context")+".Provider";case at:return(t._context.displayName||"Context")+".Consumer";case Et:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Ut(t.type)||"Memo";case E:n=t._payload,t=t._init;try{return Ut(t(n))}catch{}}return null}var jt=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},ut=[],N=-1;function q(t){return{current:t}}function tt(t){0>N||(t.current=ut[N],ut[N]=null,N--)}function G(t,n){N++,ut[N]=t.current,t.current=n}var ct=q(null),yt=q(null),dt=q(null),Jt=q(null);function pt(t,n){switch(G(dt,n),G(yt,t),G(ct,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?cy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=cy(n),t=hy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}tt(ct),G(ct,t)}function It(){tt(ct),tt(yt),tt(dt)}function Wt(t){t.memoizedState!==null&&G(Jt,t);var n=ct.current,a=hy(n,t.type);n!==a&&(G(yt,t),G(ct,a))}function Rt(t){yt.current===t&&(tt(ct),tt(yt)),Jt.current===t&&(tt(Jt),Kl._currentValue=ot)}var Xt=Object.prototype.hasOwnProperty,fe=r.unstable_scheduleCallback,$t=r.unstable_cancelCallback,qt=r.unstable_shouldYield,Vt=r.unstable_requestPaint,re=r.unstable_now,Ht=r.unstable_getCurrentPriorityLevel,ee=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,yn=r.unstable_NormalPriority,_n=r.unstable_LowPriority,Mn=r.unstable_IdlePriority,Se=r.log,fn=r.unstable_setDisableYieldValue,Nt=null,Dt=null;function Ee(t){if(typeof Se=="function"&&fn(t),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(Nt,t)}catch{}}var Ve=Math.clz32?Math.clz32:Ge,Zr=Math.log,ai=Math.LN2;function Ge(t){return t>>>=0,t===0?32:31-(Zr(t)/ai|0)|0}var bn=256,si=4194304;function Xn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Pa(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~f,l!==0?h=Xn(l):(v&=S,v!==0?h=Xn(v):a||(a=S&~t,a!==0&&(h=Xn(a))))):(S=l&~f,S!==0?h=Xn(S):v!==0?h=Xn(v):a||(a=l&~t,a!==0&&(h=Xn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Jr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ks(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xs(){var t=bn;return bn<<=1,(bn&4194048)===0&&(bn=256),t}function $s(){var t=si;return si<<=1,(si&62914560)===0&&(si=4194304),t}function Ii(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Vi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Zs(t,n,a,l,h,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,V=t.expirationTimes,z=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-Ve(a),et=1<<X;S[X]=0,V[X]=-1;var B=z[X];if(B!==null)for(z[X]=null,X=0;X<B.length;X++){var j=B[X];j!==null&&(j.lane&=-536870913)}a&=~et}l!==0&&li(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function li(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ve(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Js(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Ve(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ua(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ur(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:Iy(t.type))}function No(t,n){var a=W.p;try{return W.p=t,n()}finally{W.p=a}}var ye=Math.random().toString(36).slice(2),ze="__reactFiber$"+ye,Ne="__reactProps$"+ye,Ln="__reactContainer$"+ye,Ws="__reactEvents$"+ye,$c="__reactListeners$"+ye,cr="__reactHandles$"+ye,Oo="__reactResources$"+ye,Wr="__reactMarker$"+ye;function hr(t){delete t[ze],delete t[Ne],delete t[Ws],delete t[$c],delete t[cr]}function Ni(t){var n=t[ze];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Ln]||a[ze]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=py(t);t!==null;){if(a=t[ze])return a;t=py(t)}return n}t=a,a=t.parentNode}return null}function oi(t){if(t=t[ze]||t[Ln]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function ui(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function dn(t){var n=t[Oo];return n||(n=t[Oo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Re(t){t[Wr]=!0}var tl=new Set,ka={};function $n(t,n){Oi(t,n),Oi(t+"Capture",n)}function Oi(t,n){for(ka[t]=n,t=0;t<n.length;t++)tl.add(n[t])}var Mo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},ta={};function Po(t){return Xt.call(ta,t)?!0:Xt.call(Lo,t)?!1:Mo.test(t)?ta[t]=!0:(Lo[t]=!0,!1)}function fr(t,n,a){if(Po(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function ci(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Je(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var ea,Uo;function Mi(t){if(ea===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ea=n&&n[1]||"",Uo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ea+t+Uo}var za=!1;function Ba(t,n){if(!t||za)return"";za=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(j){var B=j}Reflect.construct(t,[],et)}else{try{et.call()}catch(j){B=j}t.call(et.prototype)}}else{try{throw Error()}catch(j){B=j}(et=t())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(j){if(j&&B&&typeof j.stack=="string")return[j.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],S=f[1];if(v&&S){var V=v.split(`
`),z=S.split(`
`);for(h=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===V.length||h===z.length)for(l=V.length-1,h=z.length-1;1<=l&&0<=h&&V[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(V[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||V[l]!==z[h]){var X=`
`+V[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{za=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Mi(a):""}function el(t){switch(t.tag){case 26:case 27:case 5:return Mi(t.type);case 16:return Mi("Lazy");case 13:return Mi("Suspense");case 19:return Mi("SuspenseList");case 0:case 15:return Ba(t.type,!1);case 11:return Ba(t.type.render,!1);case 1:return Ba(t.type,!0);case 31:return Mi("Activity");default:return""}}function ja(t){try{var n="";do n+=el(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function mn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nl(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Zc(t){var n=nl(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function qa(t){t._valueTracker||(t._valueTracker=Zc(t))}function il(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=nl(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function na(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Jc=/[\n"\\]/g;function Oe(t){return t.replace(Jc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function wn(t,n,a,l,h,f,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+mn(n)):t.value!==""+mn(n)&&(t.value=""+mn(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?dr(t,v,mn(n)):a!=null?dr(t,v,mn(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+mn(S):t.removeAttribute("name")}function ia(t,n,a,l,h,f,v,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+mn(a):"",n=n!=null?""+mn(n):a,S||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function dr(t,n,a){n==="number"&&na(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Li(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+mn(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function le(t,n,a){if(n!=null&&(n=""+mn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+mn(a):""}function ra(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(jt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=mn(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Pn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var aa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||aa.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function rl(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&ko(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&ko(t,f,n[f])}function al(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),th=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ha(t){return th.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Pi=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ui=null,ki=null;function sl(t){var n=oi(t);if(n&&(t=n.stateNode)){var a=t[Ne]||null;t:switch(t=n.stateNode,n.type){case"input":if(wn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Oe(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Ne]||null;if(!h)throw Error(s(90));wn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&il(l)}break t;case"textarea":le(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Li(t,!!a.multiple,n,!1)}}}var hi=!1;function zo(t,n,a){if(hi)return t(n,a);hi=!0;try{var l=t(n);return l}finally{if(hi=!1,(Ui!==null||ki!==null)&&(Nu(),Ui&&(n=Ui,t=ki,ki=Ui=null,sl(n),t)))for(n=0;n<t.length;n++)sl(t[n])}}function sa(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Ne]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kn=!1;if(Zn)try{var la={};Object.defineProperty(la,"passive",{get:function(){kn=!0}}),window.addEventListener("test",la,la),window.removeEventListener("test",la,la)}catch{kn=!1}var fi=null,mr=null,zi=null;function ll(){if(zi)return zi;var t,n=mr,a=n.length,l,h="value"in fi?fi.value:fi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&n[a-l]===h[f-l];l++);return zi=h.slice(t,1<l?1-l:void 0)}function di(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function mi(){return!0}function ol(){return!1}function Qe(t){function n(a,l,h,f,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?mi:ol,this.isPropagationStopped=ol,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),n}var ne={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fa=Qe(ne),oa=A({},ne,{view:0,detail:0}),Bo=Qe(oa),Ga,Qa,pi,ua=A({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pi&&(pi&&t.type==="mousemove"?(Ga=t.screenX-pi.screenX,Qa=t.screenY-pi.screenY):Qa=Ga=0,pi=t),Ga)},movementY:function(t){return"movementY"in t?t.movementY:Qa}}),zn=Qe(ua),jo=A({},ua,{dataTransfer:0}),eh=Qe(jo),ca=A({},oa,{relatedTarget:0}),Ya=Qe(ca),ul=A({},ne,{animationName:0,elapsedTime:0,pseudoElement:0}),Ka=Qe(ul),qo=A({},ne,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xa=Qe(qo),nh=A({},ne,{data:0}),cl=Qe(nh),ha={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ho={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Fo[t])?!!n[t]:!1}function fa(){return hl}var Go=A({},oa,{key:function(t){if(t.key){var n=ha[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=di(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ho[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(t){return t.type==="keypress"?di(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?di(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$a=Qe(Go),Qo=A({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fl=Qe(Qo),Bi=A({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa}),Yo=Qe(Bi),Ko=A({},ne,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xo=Qe(Ko),$o=A({},ua,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Za=Qe($o),pn=A({},ne,{newState:0,oldState:0}),Zo=Qe(pn),Jo=[9,13,27,32],gi=Zn&&"CompositionEvent"in window,u=null;Zn&&"documentMode"in document&&(u=document.documentMode);var m=Zn&&"TextEvent"in window&&!u,_=Zn&&(!gi||u&&8<u&&11>=u),b=" ",U=!1;function Q(t,n){switch(t){case"keyup":return Jo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ft=!1;function Be(t,n){switch(t){case"compositionend":return lt(n);case"keypress":return n.which!==32?null:(U=!0,b);case"textInput":return t=n.data,t===b&&U?null:t;default:return null}}function Gt(t,n){if(Ft)return t==="compositionend"||!gi&&Q(t,n)?(t=ll(),zi=mr=fi=null,Ft=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ye={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function je(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ye[t.type]:n==="textarea"}function ji(t,n,a,l){Ui?ki?ki.push(l):ki=[l]:Ui=l,n=ku(n,"onChange"),0<n.length&&(a=new Fa("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var We=null,yi=null;function dl(t){ay(t,0)}function Wo(t){var n=ui(t);if(il(n))return t}function Rm(t,n){if(t==="change")return n}var Cm=!1;if(Zn){var ih;if(Zn){var rh="oninput"in document;if(!rh){var Dm=document.createElement("div");Dm.setAttribute("oninput","return;"),rh=typeof Dm.oninput=="function"}ih=rh}else ih=!1;Cm=ih&&(!document.documentMode||9<document.documentMode)}function xm(){We&&(We.detachEvent("onpropertychange",Im),yi=We=null)}function Im(t){if(t.propertyName==="value"&&Wo(yi)){var n=[];ji(n,yi,t,Un(t)),zo(dl,n)}}function EE(t,n,a){t==="focusin"?(xm(),We=n,yi=a,We.attachEvent("onpropertychange",Im)):t==="focusout"&&xm()}function TE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wo(yi)}function AE(t,n){if(t==="click")return Wo(n)}function SE(t,n){if(t==="input"||t==="change")return Wo(n)}function bE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Rn=typeof Object.is=="function"?Object.is:bE;function ml(t,n){if(Rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Xt.call(n,h)||!Rn(t[h],n[h]))return!1}return!0}function Vm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nm(t,n){var a=Vm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Vm(a)}}function Om(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Om(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Mm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=na(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=na(t.document)}return n}function ah(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var wE=Zn&&"documentMode"in document&&11>=document.documentMode,Ja=null,sh=null,pl=null,lh=!1;function Lm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lh||Ja==null||Ja!==na(l)||(l=Ja,"selectionStart"in l&&ah(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),pl&&ml(pl,l)||(pl=l,l=ku(sh,"onSelect"),0<l.length&&(n=new Fa("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Ja)))}function da(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Wa={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},oh={},Pm={};Zn&&(Pm=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function ma(t){if(oh[t])return oh[t];if(!Wa[t])return t;var n=Wa[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Pm)return oh[t]=n[a];return t}var Um=ma("animationend"),km=ma("animationiteration"),zm=ma("animationstart"),RE=ma("transitionrun"),CE=ma("transitionstart"),DE=ma("transitioncancel"),Bm=ma("transitionend"),jm=new Map,uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uh.push("scrollEnd");function Jn(t,n){jm.set(t,n),$n(n,[t])}var qm=new WeakMap;function Bn(t,n){if(typeof t=="object"&&t!==null){var a=qm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:ja(n)},qm.set(t,n),n)}return{value:t,source:n,stack:ja(n)}}var jn=[],ts=0,ch=0;function tu(){for(var t=ts,n=ch=ts=0;n<t;){var a=jn[n];jn[n++]=null;var l=jn[n];jn[n++]=null;var h=jn[n];jn[n++]=null;var f=jn[n];if(jn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&Hm(a,h,f)}}function eu(t,n,a,l){jn[ts++]=t,jn[ts++]=n,jn[ts++]=a,jn[ts++]=l,ch|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function hh(t,n,a,l){return eu(t,n,a,l),nu(t)}function es(t,n){return eu(t,null,null,n),nu(t)}function Hm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Ve(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function nu(t){if(50<Bl)throw Bl=0,_f=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ns={};function xE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,n,a,l){return new xE(t,n,a,l)}function fh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qi(t,n){var a=t.alternate;return a===null?(a=Cn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Fm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function iu(t,n,a,l,h,f){var v=0;if(l=t,typeof t=="function")fh(t)&&(v=1);else if(typeof t=="string")v=VT(t,a,ct.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case T:return t=Cn(31,a,n,h),t.elementType=T,t.lanes=f,t;case H:return pa(a.children,h,f,n);case $:v=8,h|=24;break;case F:return t=Cn(12,a,n,h|2),t.elementType=F,t.lanes=f,t;case gt:return t=Cn(13,a,n,h),t.elementType=gt,t.lanes=f,t;case wt:return t=Cn(19,a,n,h),t.elementType=wt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nt:case st:v=10;break t;case at:v=9;break t;case Et:v=11;break t;case O:v=14;break t;case E:v=16,l=null;break t}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Cn(v,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function pa(t,n,a,l){return t=Cn(7,t,l,n),t.lanes=a,t}function dh(t,n,a){return t=Cn(6,t,null,n),t.lanes=a,t}function mh(t,n,a){return n=Cn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var is=[],rs=0,ru=null,au=0,qn=[],Hn=0,ga=null,Hi=1,Fi="";function ya(t,n){is[rs++]=au,is[rs++]=ru,ru=t,au=n}function Gm(t,n,a){qn[Hn++]=Hi,qn[Hn++]=Fi,qn[Hn++]=ga,ga=t;var l=Hi;t=Fi;var h=32-Ve(l)-1;l&=~(1<<h),a+=1;var f=32-Ve(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Hi=1<<32-Ve(n)+h|a<<h|l,Fi=f+t}else Hi=1<<f|a<<h|l,Fi=t}function ph(t){t.return!==null&&(ya(t,1),Gm(t,1,0))}function gh(t){for(;t===ru;)ru=is[--rs],is[rs]=null,au=is[--rs],is[rs]=null;for(;t===ga;)ga=qn[--Hn],qn[Hn]=null,Fi=qn[--Hn],qn[Hn]=null,Hi=qn[--Hn],qn[Hn]=null}var gn=null,be=null,te=!1,_a=null,_i=!1,yh=Error(s(519));function va(t){var n=Error(s(418,""));throw _l(Bn(n,t)),yh}function Qm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ze]=t,n[Ne]=l,a){case"dialog":zt("cancel",n),zt("close",n);break;case"iframe":case"object":case"embed":zt("load",n);break;case"video":case"audio":for(a=0;a<ql.length;a++)zt(ql[a],n);break;case"source":zt("error",n);break;case"img":case"image":case"link":zt("error",n),zt("load",n);break;case"details":zt("toggle",n);break;case"input":zt("invalid",n),ia(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),qa(n);break;case"select":zt("invalid",n);break;case"textarea":zt("invalid",n),ra(n,l.value,l.defaultValue,l.children),qa(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||uy(n.textContent,a)?(l.popover!=null&&(zt("beforetoggle",n),zt("toggle",n)),l.onScroll!=null&&zt("scroll",n),l.onScrollEnd!=null&&zt("scrollend",n),l.onClick!=null&&(n.onclick=zu),n=!0):n=!1,n||va(t)}function Ym(t){for(gn=t.return;gn;)switch(gn.tag){case 5:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:gn=gn.return}}function gl(t){if(t!==gn)return!1;if(!te)return Ym(t),te=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Mf(t.type,t.memoizedProps)),a=!a),a&&be&&va(t),Ym(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){be=ti(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}be=null}}else n===27?(n=be,Ir(t.type)?(t=kf,kf=null,be=t):be=n):be=gn?ti(t.stateNode.nextSibling):null;return!0}function yl(){be=gn=null,te=!1}function Km(){var t=_a;return t!==null&&(Tn===null?Tn=t:Tn.push.apply(Tn,t),_a=null),t}function _l(t){_a===null?_a=[t]:_a.push(t)}var _h=q(null),Ea=null,Gi=null;function pr(t,n,a){G(_h,n._currentValue),n._currentValue=a}function Qi(t){t._currentValue=_h.current,tt(_h)}function vh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Eh(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var S=f;f=h;for(var V=0;V<n.length;V++)if(S.context===n[V]){f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),vh(f.return,a,t),l||(v=null);break t}f=S.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),vh(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function vl(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var S=h.type;Rn(h.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(h===Jt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Kl):t=[Kl])}h=h.return}t!==null&&Eh(n,t,a,l),n.flags|=262144}function su(t){for(t=t.firstContext;t!==null;){if(!Rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ta(t){Ea=t,Gi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ln(t){return Xm(Ea,t)}function lu(t,n){return Ea===null&&Ta(t),Xm(t,n)}function Xm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Gi===null){if(t===null)throw Error(s(308));Gi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Gi=Gi.next=n;return a}var IE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},VE=r.unstable_scheduleCallback,NE=r.unstable_NormalPriority,qe={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Th(){return{controller:new IE,data:new Map,refCount:0}}function El(t){t.refCount--,t.refCount===0&&VE(NE,function(){t.controller.abort()})}var Tl=null,Ah=0,as=0,ss=null;function OE(t,n){if(Tl===null){var a=Tl=[];Ah=0,as=wf(),ss={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ah++,n.then($m,$m),n}function $m(){if(--Ah===0&&Tl!==null){ss!==null&&(ss.status="fulfilled");var t=Tl;Tl=null,as=0,ss=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function ME(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Zm=Y.S;Y.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&OE(t,n),Zm!==null&&Zm(t,n)};var Aa=q(null);function Sh(){var t=Aa.current;return t!==null?t:me.pooledCache}function ou(t,n){n===null?G(Aa,Aa.current):G(Aa,n.pool)}function Jm(){var t=Sh();return t===null?null:{parent:qe._currentValue,pool:t}}var Al=Error(s(460)),Wm=Error(s(474)),uu=Error(s(542)),bh={then:function(){}};function tp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cu(){}function ep(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(cu,cu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ip(t),t;default:if(typeof n.status=="string")n.then(cu,cu);else{if(t=me,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ip(t),t}throw Sl=n,Al}}var Sl=null;function np(){if(Sl===null)throw Error(s(459));var t=Sl;return Sl=null,t}function ip(t){if(t===Al||t===uu)throw Error(s(483))}var gr=!1;function wh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function yr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _r(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ae&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=nu(t),Hm(t,null,a),n}return eu(t,l,n,a),nu(t)}function bl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Js(t,a)}}function Ch(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Dh=!1;function wl(){if(Dh){var t=ss;if(t!==null)throw t}}function Rl(t,n,a,l){Dh=!1;var h=t.updateQueue;gr=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var V=S,z=V.next;V.next=null,v===null?f=z:v.next=z,v=V;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==v&&(S===null?X.firstBaseUpdate=z:S.next=z,X.lastBaseUpdate=V))}if(f!==null){var et=h.baseState;v=0,X=z=V=null,S=f;do{var B=S.lane&-536870913,j=B!==S.lane;if(j?(Qt&B)===B:(l&B)===B){B!==0&&B===as&&(Dh=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var bt=t,Tt=S;B=n;var ce=a;switch(Tt.tag){case 1:if(bt=Tt.payload,typeof bt=="function"){et=bt.call(ce,et,B);break t}et=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=Tt.payload,B=typeof bt=="function"?bt.call(ce,et,B):bt,B==null)break t;et=A({},et,B);break t;case 2:gr=!0}}B=S.callback,B!==null&&(t.flags|=64,j&&(t.flags|=8192),j=h.callbacks,j===null?h.callbacks=[B]:j.push(B))}else j={lane:B,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(z=X=j,V=et):X=X.next=j,v|=B;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;j=S,S=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);X===null&&(V=et),h.baseState=V,h.firstBaseUpdate=z,h.lastBaseUpdate=X,f===null&&(h.shared.lanes=0),Rr|=v,t.lanes=v,t.memoizedState=et}}function rp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function ap(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)rp(a[t],n)}var ls=q(null),hu=q(0);function sp(t,n){t=Wi,G(hu,t),G(ls,n),Wi=t|n.baseLanes}function xh(){G(hu,Wi),G(ls,ls.current)}function Ih(){Wi=hu.current,tt(ls),tt(hu)}var vr=0,Mt=null,oe=null,Me=null,fu=!1,os=!1,Sa=!1,du=0,Cl=0,us=null,LE=0;function Ce(){throw Error(s(321))}function Vh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Rn(t[a],n[a]))return!1;return!0}function Nh(t,n,a,l,h,f){return vr=f,Mt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=t===null||t.memoizedState===null?Hp:Fp,Sa=!1,f=a(l,h),Sa=!1,os&&(f=op(n,a,l,h)),lp(t),f}function lp(t){Y.H=vu;var n=oe!==null&&oe.next!==null;if(vr=0,Me=oe=Mt=null,fu=!1,Cl=0,us=null,n)throw Error(s(300));t===null||Ke||(t=t.dependencies,t!==null&&su(t)&&(Ke=!0))}function op(t,n,a,l){Mt=t;var h=0;do{if(os&&(us=null),Cl=0,os=!1,25<=h)throw Error(s(301));if(h+=1,Me=oe=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Y.H=qE,f=n(a,l)}while(os);return f}function PE(){var t=Y.H,n=t.useState()[0];return n=typeof n.then=="function"?Dl(n):n,t=t.useState()[0],(oe!==null?oe.memoizedState:null)!==t&&(Mt.flags|=1024),n}function Oh(){var t=du!==0;return du=0,t}function Mh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Lh(t){if(fu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}fu=!1}vr=0,Me=oe=Mt=null,os=!1,Cl=du=0,us=null}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Mt.memoizedState=Me=t:Me=Me.next=t,Me}function Le(){if(oe===null){var t=Mt.alternate;t=t!==null?t.memoizedState:null}else t=oe.next;var n=Me===null?Mt.memoizedState:Me.next;if(n!==null)Me=n,oe=t;else{if(t===null)throw Mt.alternate===null?Error(s(467)):Error(s(310));oe=t,t={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},Me===null?Mt.memoizedState=Me=t:Me=Me.next=t}return Me}function Ph(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(t){var n=Cl;return Cl+=1,us===null&&(us=[]),t=ep(us,t,n),n=Mt,(Me===null?n.memoizedState:Me.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?Hp:Fp),t}function mu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Dl(t);if(t.$$typeof===st)return ln(t)}throw Error(s(438,String(t)))}function Uh(t){var n=null,a=Mt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Mt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Ph(),Mt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=w;return n.index++,a}function Yi(t,n){return typeof n=="function"?n(t):n}function pu(t){var n=Le();return kh(n,oe,t)}function kh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var S=v=null,V=null,z=n,X=!1;do{var et=z.lane&-536870913;if(et!==z.lane?(Qt&et)===et:(vr&et)===et){var B=z.revertLane;if(B===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),et===as&&(X=!0);else if((vr&B)===B){z=z.next,B===as&&(X=!0);continue}else et={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},V===null?(S=V=et,v=f):V=V.next=et,Mt.lanes|=B,Rr|=B;et=z.action,Sa&&a(f,et),f=z.hasEagerState?z.eagerState:a(f,et)}else B={lane:et,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},V===null?(S=V=B,v=f):V=V.next=B,Mt.lanes|=et,Rr|=et;z=z.next}while(z!==null&&z!==n);if(V===null?v=f:V.next=S,!Rn(f,t.memoizedState)&&(Ke=!0,X&&(a=ss,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=V,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function zh(t){var n=Le(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);Rn(f,n.memoizedState)||(Ke=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function up(t,n,a){var l=Mt,h=Le(),f=te;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!Rn((oe||h).memoizedState,a);v&&(h.memoizedState=a,Ke=!0),h=h.queue;var S=fp.bind(null,l,h,t);if(xl(2048,8,S,[t]),h.getSnapshot!==n||v||Me!==null&&Me.memoizedState.tag&1){if(l.flags|=2048,cs(9,gu(),hp.bind(null,l,h,a,n),null),me===null)throw Error(s(349));f||(vr&124)!==0||cp(l,n,a)}return a}function cp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Mt.updateQueue,n===null?(n=Ph(),Mt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function hp(t,n,a,l){n.value=a,n.getSnapshot=l,dp(n)&&mp(t)}function fp(t,n,a){return a(function(){dp(n)&&mp(t)})}function dp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Rn(t,a)}catch{return!0}}function mp(t){var n=es(t,2);n!==null&&Nn(n,t,2)}function Bh(t){var n=vn();if(typeof t=="function"){var a=t;if(t=a(),Sa){Ee(!0);try{a()}finally{Ee(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},n}function pp(t,n,a,l){return t.baseState=a,kh(t,oe,typeof l=="function"?l:Yi)}function UE(t,n,a,l,h){if(_u(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};Y.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,gp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function gp(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=Y.T,v={};Y.T=v;try{var S=a(h,l),V=Y.S;V!==null&&V(v,S),yp(t,n,S)}catch(z){jh(t,n,z)}finally{Y.T=f}}else try{f=a(h,l),yp(t,n,f)}catch(z){jh(t,n,z)}}function yp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){_p(t,n,l)},function(l){return jh(t,n,l)}):_p(t,n,a)}function _p(t,n,a){n.status="fulfilled",n.value=a,vp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,gp(t,a)))}function jh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,vp(n),n=n.next;while(n!==l)}t.action=null}function vp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ep(t,n){return n}function Tp(t,n){if(te){var a=me.formState;if(a!==null){t:{var l=Mt;if(te){if(be){e:{for(var h=be,f=_i;h.nodeType!==8;){if(!f){h=null;break e}if(h=ti(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){be=ti(h.nextSibling),l=h.data==="F!";break t}}va(l)}l=!1}l&&(n=a[0])}}return a=vn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ep,lastRenderedState:n},a.queue=l,a=Bp.bind(null,Mt,l),l.dispatch=a,l=Bh(!1),f=Qh.bind(null,Mt,!1,l.queue),l=vn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=UE.bind(null,Mt,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Ap(t){var n=Le();return Sp(n,oe,t)}function Sp(t,n,a){if(n=kh(t,n,Ep)[0],t=pu(Yi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Dl(n)}catch(v){throw v===Al?uu:v}else l=n;n=Le();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Mt.flags|=2048,cs(9,gu(),kE.bind(null,h,a),null)),[l,f,t]}function kE(t,n){t.action=n}function bp(t){var n=Le(),a=oe;if(a!==null)return Sp(n,a,t);Le(),n=n.memoizedState,a=Le();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function cs(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Mt.updateQueue,n===null&&(n=Ph(),Mt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function gu(){return{destroy:void 0,resource:void 0}}function wp(){return Le().memoizedState}function yu(t,n,a,l){var h=vn();l=l===void 0?null:l,Mt.flags|=t,h.memoizedState=cs(1|n,gu(),a,l)}function xl(t,n,a,l){var h=Le();l=l===void 0?null:l;var f=h.memoizedState.inst;oe!==null&&l!==null&&Vh(l,oe.memoizedState.deps)?h.memoizedState=cs(n,f,a,l):(Mt.flags|=t,h.memoizedState=cs(1|n,f,a,l))}function Rp(t,n){yu(8390656,8,t,n)}function Cp(t,n){xl(2048,8,t,n)}function Dp(t,n){return xl(4,2,t,n)}function xp(t,n){return xl(4,4,t,n)}function Ip(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Vp(t,n,a){a=a!=null?a.concat([t]):null,xl(4,4,Ip.bind(null,n,t),a)}function qh(){}function Np(t,n){var a=Le();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Vh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Op(t,n){var a=Le();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Vh(n,l[1]))return l[0];if(l=t(),Sa){Ee(!0);try{t()}finally{Ee(!1)}}return a.memoizedState=[l,n],l}function Hh(t,n,a){return a===void 0||(vr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Pg(),Mt.lanes|=t,Rr|=t,a)}function Mp(t,n,a,l){return Rn(a,n)?a:ls.current!==null?(t=Hh(t,a,l),Rn(t,n)||(Ke=!0),t):(vr&42)===0?(Ke=!0,t.memoizedState=a):(t=Pg(),Mt.lanes|=t,Rr|=t,n)}function Lp(t,n,a,l,h){var f=W.p;W.p=f!==0&&8>f?f:8;var v=Y.T,S={};Y.T=S,Qh(t,!1,n,a);try{var V=h(),z=Y.S;if(z!==null&&z(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var X=ME(V,l);Il(t,n,X,Vn(t))}else Il(t,n,l,Vn(t))}catch(et){Il(t,n,{then:function(){},status:"rejected",reason:et},Vn())}finally{W.p=f,Y.T=v}}function zE(){}function Fh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=Pp(t).queue;Lp(t,h,n,ot,a===null?zE:function(){return Up(t),a(l)})}function Pp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:ot},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Up(t){var n=Pp(t).next.queue;Il(t,n,{},Vn())}function Gh(){return ln(Kl)}function kp(){return Le().memoizedState}function zp(){return Le().memoizedState}function BE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Vn();t=yr(a);var l=_r(n,t,a);l!==null&&(Nn(l,n,a),bl(l,n,a)),n={cache:Th()},t.payload=n;return}n=n.return}}function jE(t,n,a){var l=Vn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},_u(t)?jp(n,a):(a=hh(t,n,a,l),a!==null&&(Nn(a,t,l),qp(a,n,l)))}function Bp(t,n,a){var l=Vn();Il(t,n,a,l)}function Il(t,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(_u(t))jp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,S=f(v,a);if(h.hasEagerState=!0,h.eagerState=S,Rn(S,v))return eu(t,n,h,0),me===null&&tu(),!1}catch{}finally{}if(a=hh(t,n,h,l),a!==null)return Nn(a,t,l),qp(a,n,l),!0}return!1}function Qh(t,n,a,l){if(l={lane:2,revertLane:wf(),action:l,hasEagerState:!1,eagerState:null,next:null},_u(t)){if(n)throw Error(s(479))}else n=hh(t,a,l,2),n!==null&&Nn(n,t,2)}function _u(t){var n=t.alternate;return t===Mt||n!==null&&n===Mt}function jp(t,n){os=fu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function qp(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Js(t,a)}}var vu={readContext:ln,use:mu,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useLayoutEffect:Ce,useInsertionEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useSyncExternalStore:Ce,useId:Ce,useHostTransitionStatus:Ce,useFormState:Ce,useActionState:Ce,useOptimistic:Ce,useMemoCache:Ce,useCacheRefresh:Ce},Hp={readContext:ln,use:mu,useCallback:function(t,n){return vn().memoizedState=[t,n===void 0?null:n],t},useContext:ln,useEffect:Rp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,yu(4194308,4,Ip.bind(null,n,t),a)},useLayoutEffect:function(t,n){return yu(4194308,4,t,n)},useInsertionEffect:function(t,n){yu(4,2,t,n)},useMemo:function(t,n){var a=vn();n=n===void 0?null:n;var l=t();if(Sa){Ee(!0);try{t()}finally{Ee(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=vn();if(a!==void 0){var h=a(n);if(Sa){Ee(!0);try{a(n)}finally{Ee(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=jE.bind(null,Mt,t),[l.memoizedState,t]},useRef:function(t){var n=vn();return t={current:t},n.memoizedState=t},useState:function(t){t=Bh(t);var n=t.queue,a=Bp.bind(null,Mt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:qh,useDeferredValue:function(t,n){var a=vn();return Hh(a,t,n)},useTransition:function(){var t=Bh(!1);return t=Lp.bind(null,Mt,t.queue,!0,!1),vn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Mt,h=vn();if(te){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),me===null)throw Error(s(349));(Qt&124)!==0||cp(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Rp(fp.bind(null,l,f,t),[t]),l.flags|=2048,cs(9,gu(),hp.bind(null,l,f,a,n),null),a},useId:function(){var t=vn(),n=me.identifierPrefix;if(te){var a=Fi,l=Hi;a=(l&~(1<<32-Ve(l)-1)).toString(32)+a,n=""+n+"R"+a,a=du++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=LE++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Gh,useFormState:Tp,useActionState:Tp,useOptimistic:function(t){var n=vn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Qh.bind(null,Mt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Uh,useCacheRefresh:function(){return vn().memoizedState=BE.bind(null,Mt)}},Fp={readContext:ln,use:mu,useCallback:Np,useContext:ln,useEffect:Cp,useImperativeHandle:Vp,useInsertionEffect:Dp,useLayoutEffect:xp,useMemo:Op,useReducer:pu,useRef:wp,useState:function(){return pu(Yi)},useDebugValue:qh,useDeferredValue:function(t,n){var a=Le();return Mp(a,oe.memoizedState,t,n)},useTransition:function(){var t=pu(Yi)[0],n=Le().memoizedState;return[typeof t=="boolean"?t:Dl(t),n]},useSyncExternalStore:up,useId:kp,useHostTransitionStatus:Gh,useFormState:Ap,useActionState:Ap,useOptimistic:function(t,n){var a=Le();return pp(a,oe,t,n)},useMemoCache:Uh,useCacheRefresh:zp},qE={readContext:ln,use:mu,useCallback:Np,useContext:ln,useEffect:Cp,useImperativeHandle:Vp,useInsertionEffect:Dp,useLayoutEffect:xp,useMemo:Op,useReducer:zh,useRef:wp,useState:function(){return zh(Yi)},useDebugValue:qh,useDeferredValue:function(t,n){var a=Le();return oe===null?Hh(a,t,n):Mp(a,oe.memoizedState,t,n)},useTransition:function(){var t=zh(Yi)[0],n=Le().memoizedState;return[typeof t=="boolean"?t:Dl(t),n]},useSyncExternalStore:up,useId:kp,useHostTransitionStatus:Gh,useFormState:bp,useActionState:bp,useOptimistic:function(t,n){var a=Le();return oe!==null?pp(a,oe,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Uh,useCacheRefresh:zp},hs=null,Vl=0;function Eu(t){var n=Vl;return Vl+=1,hs===null&&(hs=[]),ep(hs,t,n)}function Nl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Tu(t,n){throw n.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Gp(t){var n=t._init;return n(t._payload)}function Qp(t){function n(L,M){if(t){var k=L.deletions;k===null?(L.deletions=[M],L.flags|=16):k.push(M)}}function a(L,M){if(!t)return null;for(;M!==null;)n(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=qi(L,M),L.index=0,L.sibling=null,L}function f(L,M,k){return L.index=k,t?(k=L.alternate,k!==null?(k=k.index,k<M?(L.flags|=67108866,M):k):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function S(L,M,k,Z){return M===null||M.tag!==6?(M=dh(k,L.mode,Z),M.return=L,M):(M=h(M,k),M.return=L,M)}function V(L,M,k,Z){var mt=k.type;return mt===H?X(L,M,k.props.children,Z,k.key):M!==null&&(M.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===E&&Gp(mt)===M.type)?(M=h(M,k.props),Nl(M,k),M.return=L,M):(M=iu(k.type,k.key,k.props,null,L.mode,Z),Nl(M,k),M.return=L,M)}function z(L,M,k,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==k.containerInfo||M.stateNode.implementation!==k.implementation?(M=mh(k,L.mode,Z),M.return=L,M):(M=h(M,k.children||[]),M.return=L,M)}function X(L,M,k,Z,mt){return M===null||M.tag!==7?(M=pa(k,L.mode,Z,mt),M.return=L,M):(M=h(M,k),M.return=L,M)}function et(L,M,k){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=dh(""+M,L.mode,k),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case C:return k=iu(M.type,M.key,M.props,null,L.mode,k),Nl(k,M),k.return=L,k;case P:return M=mh(M,L.mode,k),M.return=L,M;case E:var Z=M._init;return M=Z(M._payload),et(L,M,k)}if(jt(M)||I(M))return M=pa(M,L.mode,k,null),M.return=L,M;if(typeof M.then=="function")return et(L,Eu(M),k);if(M.$$typeof===st)return et(L,lu(L,M),k);Tu(L,M)}return null}function B(L,M,k,Z){var mt=M!==null?M.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return mt!==null?null:S(L,M,""+k,Z);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case C:return k.key===mt?V(L,M,k,Z):null;case P:return k.key===mt?z(L,M,k,Z):null;case E:return mt=k._init,k=mt(k._payload),B(L,M,k,Z)}if(jt(k)||I(k))return mt!==null?null:X(L,M,k,Z,null);if(typeof k.then=="function")return B(L,M,Eu(k),Z);if(k.$$typeof===st)return B(L,M,lu(L,k),Z);Tu(L,k)}return null}function j(L,M,k,Z,mt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(k)||null,S(M,L,""+Z,mt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case C:return L=L.get(Z.key===null?k:Z.key)||null,V(M,L,Z,mt);case P:return L=L.get(Z.key===null?k:Z.key)||null,z(M,L,Z,mt);case E:var Pt=Z._init;return Z=Pt(Z._payload),j(L,M,k,Z,mt)}if(jt(Z)||I(Z))return L=L.get(k)||null,X(M,L,Z,mt,null);if(typeof Z.then=="function")return j(L,M,k,Eu(Z),mt);if(Z.$$typeof===st)return j(L,M,k,lu(M,Z),mt);Tu(M,Z)}return null}function bt(L,M,k,Z){for(var mt=null,Pt=null,_t=M,At=M=0,$e=null;_t!==null&&At<k.length;At++){_t.index>At?($e=_t,_t=null):$e=_t.sibling;var Zt=B(L,_t,k[At],Z);if(Zt===null){_t===null&&(_t=$e);break}t&&_t&&Zt.alternate===null&&n(L,_t),M=f(Zt,M,At),Pt===null?mt=Zt:Pt.sibling=Zt,Pt=Zt,_t=$e}if(At===k.length)return a(L,_t),te&&ya(L,At),mt;if(_t===null){for(;At<k.length;At++)_t=et(L,k[At],Z),_t!==null&&(M=f(_t,M,At),Pt===null?mt=_t:Pt.sibling=_t,Pt=_t);return te&&ya(L,At),mt}for(_t=l(_t);At<k.length;At++)$e=j(_t,L,At,k[At],Z),$e!==null&&(t&&$e.alternate!==null&&_t.delete($e.key===null?At:$e.key),M=f($e,M,At),Pt===null?mt=$e:Pt.sibling=$e,Pt=$e);return t&&_t.forEach(function(Lr){return n(L,Lr)}),te&&ya(L,At),mt}function Tt(L,M,k,Z){if(k==null)throw Error(s(151));for(var mt=null,Pt=null,_t=M,At=M=0,$e=null,Zt=k.next();_t!==null&&!Zt.done;At++,Zt=k.next()){_t.index>At?($e=_t,_t=null):$e=_t.sibling;var Lr=B(L,_t,Zt.value,Z);if(Lr===null){_t===null&&(_t=$e);break}t&&_t&&Lr.alternate===null&&n(L,_t),M=f(Lr,M,At),Pt===null?mt=Lr:Pt.sibling=Lr,Pt=Lr,_t=$e}if(Zt.done)return a(L,_t),te&&ya(L,At),mt;if(_t===null){for(;!Zt.done;At++,Zt=k.next())Zt=et(L,Zt.value,Z),Zt!==null&&(M=f(Zt,M,At),Pt===null?mt=Zt:Pt.sibling=Zt,Pt=Zt);return te&&ya(L,At),mt}for(_t=l(_t);!Zt.done;At++,Zt=k.next())Zt=j(_t,L,At,Zt.value,Z),Zt!==null&&(t&&Zt.alternate!==null&&_t.delete(Zt.key===null?At:Zt.key),M=f(Zt,M,At),Pt===null?mt=Zt:Pt.sibling=Zt,Pt=Zt);return t&&_t.forEach(function(HT){return n(L,HT)}),te&&ya(L,At),mt}function ce(L,M,k,Z){if(typeof k=="object"&&k!==null&&k.type===H&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case C:t:{for(var mt=k.key;M!==null;){if(M.key===mt){if(mt=k.type,mt===H){if(M.tag===7){a(L,M.sibling),Z=h(M,k.props.children),Z.return=L,L=Z;break t}}else if(M.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===E&&Gp(mt)===M.type){a(L,M.sibling),Z=h(M,k.props),Nl(Z,k),Z.return=L,L=Z;break t}a(L,M);break}else n(L,M);M=M.sibling}k.type===H?(Z=pa(k.props.children,L.mode,Z,k.key),Z.return=L,L=Z):(Z=iu(k.type,k.key,k.props,null,L.mode,Z),Nl(Z,k),Z.return=L,L=Z)}return v(L);case P:t:{for(mt=k.key;M!==null;){if(M.key===mt)if(M.tag===4&&M.stateNode.containerInfo===k.containerInfo&&M.stateNode.implementation===k.implementation){a(L,M.sibling),Z=h(M,k.children||[]),Z.return=L,L=Z;break t}else{a(L,M);break}else n(L,M);M=M.sibling}Z=mh(k,L.mode,Z),Z.return=L,L=Z}return v(L);case E:return mt=k._init,k=mt(k._payload),ce(L,M,k,Z)}if(jt(k))return bt(L,M,k,Z);if(I(k)){if(mt=I(k),typeof mt!="function")throw Error(s(150));return k=mt.call(k),Tt(L,M,k,Z)}if(typeof k.then=="function")return ce(L,M,Eu(k),Z);if(k.$$typeof===st)return ce(L,M,lu(L,k),Z);Tu(L,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,M!==null&&M.tag===6?(a(L,M.sibling),Z=h(M,k),Z.return=L,L=Z):(a(L,M),Z=dh(k,L.mode,Z),Z.return=L,L=Z),v(L)):a(L,M)}return function(L,M,k,Z){try{Vl=0;var mt=ce(L,M,k,Z);return hs=null,mt}catch(_t){if(_t===Al||_t===uu)throw _t;var Pt=Cn(29,_t,null,L.mode);return Pt.lanes=Z,Pt.return=L,Pt}finally{}}}var fs=Qp(!0),Yp=Qp(!1),Fn=q(null),vi=null;function Er(t){var n=t.alternate;G(He,He.current&1),G(Fn,t),vi===null&&(n===null||ls.current!==null||n.memoizedState!==null)&&(vi=t)}function Kp(t){if(t.tag===22){if(G(He,He.current),G(Fn,t),vi===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(vi=t)}}else Tr()}function Tr(){G(He,He.current),G(Fn,Fn.current)}function Ki(t){tt(Fn),vi===t&&(vi=null),tt(He)}var He=q(0);function Au(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Uf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Yh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Kh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Vn(),h=yr(l);h.payload=n,a!=null&&(h.callback=a),n=_r(t,h,l),n!==null&&(Nn(n,t,l),bl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Vn(),h=yr(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=_r(t,h,l),n!==null&&(Nn(n,t,l),bl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Vn(),l=yr(a);l.tag=2,n!=null&&(l.callback=n),n=_r(t,l,a),n!==null&&(Nn(n,t,a),bl(n,t,a))}};function Xp(t,n,a,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!ml(a,l)||!ml(h,f):!0}function $p(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Kh.enqueueReplaceState(n,n.state,null)}function ba(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Su=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Zp(t){Su(t)}function Jp(t){console.error(t)}function Wp(t){Su(t)}function bu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function tg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xh(t,n,a){return a=yr(a),a.tag=3,a.payload={element:null},a.callback=function(){bu(t,n)},a}function eg(t){return t=yr(t),t.tag=3,t}function ng(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){tg(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){tg(n,a,l),typeof h!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function HE(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&vl(n,a,h,!0),a=Fn.current,a!==null){switch(a.tag){case 13:return vi===null?Ef():a.alternate===null&&we===0&&(we=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===bh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Af(t,l,h)),!1;case 22:return a.flags|=65536,l===bh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Af(t,l,h)),!1}throw Error(s(435,a.tag))}return Af(t,l,h),Ef(),!1}if(te)return n=Fn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==yh&&(t=Error(s(422),{cause:l}),_l(Bn(t,a)))):(l!==yh&&(n=Error(s(423),{cause:l}),_l(Bn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Bn(l,a),h=Xh(t.stateNode,l,h),Ch(t,h),we!==4&&(we=2)),!1;var f=Error(s(520),{cause:l});if(f=Bn(f,a),zl===null?zl=[f]:zl.push(f),we!==4&&(we=2),n===null)return!0;l=Bn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Xh(a.stateNode,l,t),Ch(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Cr===null||!Cr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=eg(h),ng(h,t,a,l),Ch(a,h),!1}a=a.return}while(a!==null);return!1}var ig=Error(s(461)),Ke=!1;function tn(t,n,a,l){n.child=t===null?Yp(n,null,a,l):fs(n,t.child,a,l)}function rg(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return Ta(n),l=Nh(t,n,a,v,f,h),S=Oh(),t!==null&&!Ke?(Mh(t,n,h),Xi(t,n,h)):(te&&S&&ph(n),n.flags|=1,tn(t,n,l,h),n.child)}function ag(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!fh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,sg(t,n,f,l,h)):(t=iu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!rf(t,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:ml,a(v,l)&&t.ref===n.ref)return Xi(t,n,h)}return n.flags|=1,t=qi(f,l),t.ref=n.ref,t.return=n,n.child=t}function sg(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(ml(f,l)&&t.ref===n.ref)if(Ke=!1,n.pendingProps=l=f,rf(t,h))(t.flags&131072)!==0&&(Ke=!0);else return n.lanes=t.lanes,Xi(t,n,h)}return $h(t,n,a,l,h)}function lg(t,n,a){var l=n.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(h=n.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return og(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ou(n,f!==null?f.cachePool:null),f!==null?sp(n,f):xh(),Kp(n);else return n.lanes=n.childLanes=536870912,og(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(ou(n,f.cachePool),sp(n,f),Tr(),n.memoizedState=null):(t!==null&&ou(n,null),xh(),Tr());return tn(t,n,h,a),n.child}function og(t,n,a,l){var h=Sh();return h=h===null?null:{parent:qe._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&ou(n,null),xh(),Kp(n),t!==null&&vl(t,n,l,!0),null}function wu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function $h(t,n,a,l,h){return Ta(n),a=Nh(t,n,a,l,void 0,h),l=Oh(),t!==null&&!Ke?(Mh(t,n,h),Xi(t,n,h)):(te&&l&&ph(n),n.flags|=1,tn(t,n,a,h),n.child)}function ug(t,n,a,l,h,f){return Ta(n),n.updateQueue=null,a=op(n,l,a,h),lp(t),l=Oh(),t!==null&&!Ke?(Mh(t,n,f),Xi(t,n,f)):(te&&l&&ph(n),n.flags|=1,tn(t,n,a,f),n.child)}function cg(t,n,a,l,h){if(Ta(n),n.stateNode===null){var f=ns,v=a.contextType;typeof v=="object"&&v!==null&&(f=ln(v)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Kh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},wh(n),v=a.contextType,f.context=typeof v=="object"&&v!==null?ln(v):ns,f.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Yh(n,a,v,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Kh.enqueueReplaceState(f,f.state,null),Rl(n,l,f,h),wl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var S=n.memoizedProps,V=ba(a,S);f.props=V;var z=f.context,X=a.contextType;v=ns,typeof X=="object"&&X!==null&&(v=ln(X));var et=a.getDerivedStateFromProps;X=typeof et=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||z!==v)&&$p(n,f,l,v),gr=!1;var B=n.memoizedState;f.state=B,Rl(n,l,f,h),wl(),z=n.memoizedState,S||B!==z||gr?(typeof et=="function"&&(Yh(n,a,et,l),z=n.memoizedState),(V=gr||Xp(n,a,V,l,B,z,v))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=v,l=V):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Rh(t,n),v=n.memoizedProps,X=ba(a,v),f.props=X,et=n.pendingProps,B=f.context,z=a.contextType,V=ns,typeof z=="object"&&z!==null&&(V=ln(z)),S=a.getDerivedStateFromProps,(z=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==et||B!==V)&&$p(n,f,l,V),gr=!1,B=n.memoizedState,f.state=B,Rl(n,l,f,h),wl();var j=n.memoizedState;v!==et||B!==j||gr||t!==null&&t.dependencies!==null&&su(t.dependencies)?(typeof S=="function"&&(Yh(n,a,S,l),j=n.memoizedState),(X=gr||Xp(n,a,X,l,B,j,V)||t!==null&&t.dependencies!==null&&su(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,j,V),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,j,V)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=V,l=X):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,wu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=fs(n,t.child,null,h),n.child=fs(n,null,a,h)):tn(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Xi(t,n,h),t}function hg(t,n,a,l){return yl(),n.flags|=256,tn(t,n,a,l),n.child}var Zh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jh(t){return{baseLanes:t,cachePool:Jm()}}function Wh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Gn),t}function fg(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(He.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(te){if(h?Er(n):Tr(),te){var S=be,V;if(V=S){t:{for(V=S,S=_i;V.nodeType!==8;){if(!S){S=null;break t}if(V=ti(V.nextSibling),V===null){S=null;break t}}S=V}S!==null?(n.memoizedState={dehydrated:S,treeContext:ga!==null?{id:Hi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},V=Cn(18,null,null,0),V.stateNode=S,V.return=n,n.child=V,gn=n,be=null,V=!0):V=!1}V||va(n)}if(S=n.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Uf(S)?n.lanes=32:n.lanes=536870912,null;Ki(n)}return S=l.children,l=l.fallback,h?(Tr(),h=n.mode,S=Ru({mode:"hidden",children:S},h),l=pa(l,h,a,null),S.return=n,l.return=n,S.sibling=l,n.child=S,h=n.child,h.memoizedState=Jh(a),h.childLanes=Wh(t,v,a),n.memoizedState=Zh,l):(Er(n),tf(n,S))}if(V=t.memoizedState,V!==null&&(S=V.dehydrated,S!==null)){if(f)n.flags&256?(Er(n),n.flags&=-257,n=ef(t,n,a)):n.memoizedState!==null?(Tr(),n.child=t.child,n.flags|=128,n=null):(Tr(),h=l.fallback,S=n.mode,l=Ru({mode:"visible",children:l.children},S),h=pa(h,S,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,fs(n,t.child,null,a),l=n.child,l.memoizedState=Jh(a),l.childLanes=Wh(t,v,a),n.memoizedState=Zh,n=h);else if(Er(n),Uf(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,_l({value:l,source:null,stack:null}),n=ef(t,n,a)}else if(Ke||vl(t,n,a,!1),v=(a&t.childLanes)!==0,Ke||v){if(v=me,v!==null&&(l=a&-a,l=(l&42)!==0?1:or(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==V.retryLane))throw V.retryLane=l,es(t,l),Nn(v,t,l),ig;S.data==="$?"||Ef(),n=ef(t,n,a)}else S.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=V.treeContext,be=ti(S.nextSibling),gn=n,te=!0,_a=null,_i=!1,t!==null&&(qn[Hn++]=Hi,qn[Hn++]=Fi,qn[Hn++]=ga,Hi=t.id,Fi=t.overflow,ga=n),n=tf(n,l.children),n.flags|=4096);return n}return h?(Tr(),h=l.fallback,S=n.mode,V=t.child,z=V.sibling,l=qi(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&65011712,z!==null?h=qi(z,h):(h=pa(h,S,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,S=t.child.memoizedState,S===null?S=Jh(a):(V=S.cachePool,V!==null?(z=qe._currentValue,V=V.parent!==z?{parent:z,pool:z}:V):V=Jm(),S={baseLanes:S.baseLanes|a,cachePool:V}),h.memoizedState=S,h.childLanes=Wh(t,v,a),n.memoizedState=Zh,l):(Er(n),a=t.child,t=a.sibling,a=qi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function tf(t,n){return n=Ru({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ru(t,n){return t=Cn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ef(t,n,a){return fs(n,t.child,null,a),t=tf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function dg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),vh(t.return,n,a)}function nf(t,n,a,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function mg(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;if(tn(t,n,l.children,a),l=He.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dg(t,a,n);else if(t.tag===19)dg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(G(He,l),h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Au(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),nf(n,!1,h,a,f);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Au(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}nf(n,!0,a,null,f);break;case"together":nf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Xi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Rr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(vl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=qi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=qi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function rf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&su(t)))}function FE(t,n,a){switch(n.tag){case 3:pt(n,n.stateNode.containerInfo),pr(n,qe,t.memoizedState.cache),yl();break;case 27:case 5:Wt(n);break;case 4:pt(n,n.stateNode.containerInfo);break;case 10:pr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Er(n),n.flags|=128,null):(a&n.child.childLanes)!==0?fg(t,n,a):(Er(n),t=Xi(t,n,a),t!==null?t.sibling:null);Er(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(vl(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return mg(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),G(He,He.current),l)break;return null;case 22:case 23:return n.lanes=0,lg(t,n,a);case 24:pr(n,qe,t.memoizedState.cache)}return Xi(t,n,a)}function pg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ke=!0;else{if(!rf(t,a)&&(n.flags&128)===0)return Ke=!1,FE(t,n,a);Ke=(t.flags&131072)!==0}else Ke=!1,te&&(n.flags&1048576)!==0&&Gm(n,au,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")fh(l)?(t=ba(l,t),n.tag=1,n=cg(null,n,l,t,a)):(n.tag=0,n=$h(null,n,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===Et){n.tag=11,n=rg(null,n,l,t,a);break t}else if(h===O){n.tag=14,n=ag(null,n,l,t,a);break t}}throw n=Ut(l)||l,Error(s(306,n,""))}}return n;case 0:return $h(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=ba(l,n.pendingProps),cg(t,n,l,h,a);case 3:t:{if(pt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Rh(t,n),Rl(n,l,null,a);var v=n.memoizedState;if(l=v.cache,pr(n,qe,l),l!==f.cache&&Eh(n,[qe],a,!0),wl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=hg(t,n,l,a);break t}else if(l!==h){h=Bn(Error(s(424)),n),_l(h),n=hg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(be=ti(t.firstChild),gn=n,te=!0,_a=null,_i=!0,a=Yp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(yl(),l===h){n=Xi(t,n,a);break t}tn(t,n,l,a)}n=n.child}return n;case 26:return wu(t,n),t===null?(a=vy(n.type,null,n.pendingProps,null))?n.memoizedState=a:te||(a=n.type,t=n.pendingProps,l=Bu(dt.current).createElement(a),l[ze]=n,l[Ne]=t,nn(l,a,t),Re(l),n.stateNode=l):n.memoizedState=vy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Wt(n),t===null&&te&&(l=n.stateNode=gy(n.type,n.pendingProps,dt.current),gn=n,_i=!0,h=be,Ir(n.type)?(kf=h,be=ti(l.firstChild)):be=h),tn(t,n,n.pendingProps.children,a),wu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&te&&((h=l=be)&&(l=_T(l,n.type,n.pendingProps,_i),l!==null?(n.stateNode=l,gn=n,be=ti(l.firstChild),_i=!1,h=!0):h=!1),h||va(n)),Wt(n),h=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Mf(h,f)?l=null:v!==null&&Mf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=Nh(t,n,PE,null,null,a),Kl._currentValue=h),wu(t,n),tn(t,n,l,a),n.child;case 6:return t===null&&te&&((t=a=be)&&(a=vT(a,n.pendingProps,_i),a!==null?(n.stateNode=a,gn=n,be=null,t=!0):t=!1),t||va(n)),null;case 13:return fg(t,n,a);case 4:return pt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=fs(n,null,l,a):tn(t,n,l,a),n.child;case 11:return rg(t,n,n.type,n.pendingProps,a);case 7:return tn(t,n,n.pendingProps,a),n.child;case 8:return tn(t,n,n.pendingProps.children,a),n.child;case 12:return tn(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,pr(n,n.type,l.value),tn(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ta(n),h=ln(h),l=l(h),n.flags|=1,tn(t,n,l,a),n.child;case 14:return ag(t,n,n.type,n.pendingProps,a);case 15:return sg(t,n,n.type,n.pendingProps,a);case 19:return mg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Ru(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=qi(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return lg(t,n,a);case 24:return Ta(n),l=ln(qe),t===null?(h=Sh(),h===null&&(h=me,f=Th(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},wh(n),pr(n,qe,h)):((t.lanes&a)!==0&&(Rh(t,n),Rl(n,null,null,a),wl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),pr(n,qe,l)):(l=f.cache,pr(n,qe,l),l!==h.cache&&Eh(n,[qe],a,!0))),tn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function $i(t){t.flags|=4}function gg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!by(n)){if(n=Fn.current,n!==null&&((Qt&4194048)===Qt?vi!==null:(Qt&62914560)!==Qt&&(Qt&536870912)===0||n!==vi))throw Sl=bh,Wm;t.flags|=8192}}function Cu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?$s():536870912,t.lanes|=n,gs|=n)}function Ol(t,n){if(!te)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Te(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function GE(t,n,a){var l=n.pendingProps;switch(gh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(n),null;case 1:return Te(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Qi(qe),It(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(gl(n)?$i(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Km())),Te(n),null;case 26:return a=n.memoizedState,t===null?($i(n),a!==null?(Te(n),gg(n,a)):(Te(n),n.flags&=-16777217)):a?a!==t.memoizedState?($i(n),Te(n),gg(n,a)):(Te(n),n.flags&=-16777217):(t.memoizedProps!==l&&$i(n),Te(n),n.flags&=-16777217),null;case 27:Rt(n),a=dt.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&$i(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Te(n),null}t=ct.current,gl(n)?Qm(n):(t=gy(h,l,a),n.stateNode=t,$i(n))}return Te(n),null;case 5:if(Rt(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&$i(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Te(n),null}if(t=ct.current,gl(n))Qm(n);else{switch(h=Bu(dt.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[ze]=n,t[Ne]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(nn(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&$i(n)}}return Te(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&$i(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=dt.current,gl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=gn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[ze]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||uy(t.nodeValue,a)),t||va(n)}else t=Bu(t).createTextNode(l),t[ze]=n,n.stateNode=t}return Te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=gl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ze]=n}else yl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Te(n),h=!1}else h=Km(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Ki(n),n):(Ki(n),null)}if(Ki(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Cu(n,n.updateQueue),Te(n),null;case 4:return It(),t===null&&xf(n.stateNode.containerInfo),Te(n),null;case 10:return Qi(n.type),Te(n),null;case 19:if(tt(He),h=n.memoizedState,h===null)return Te(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)Ol(h,!1);else{if(we!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Au(t),f!==null){for(n.flags|=128,Ol(h,!1),t=f.updateQueue,n.updateQueue=t,Cu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Fm(a,t),a=a.sibling;return G(He,He.current&1|2),n.child}t=t.sibling}h.tail!==null&&re()>Iu&&(n.flags|=128,l=!0,Ol(h,!1),n.lanes=4194304)}else{if(!l)if(t=Au(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Cu(n,t),Ol(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!te)return Te(n),null}else 2*re()-h.renderingStartTime>Iu&&a!==536870912&&(n.flags|=128,l=!0,Ol(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(t=h.last,t!==null?t.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=re(),n.sibling=null,t=He.current,G(He,l?t&1|2:t&1),n):(Te(n),null);case 22:case 23:return Ki(n),Ih(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Te(n),n.subtreeFlags&6&&(n.flags|=8192)):Te(n),a=n.updateQueue,a!==null&&Cu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&tt(Aa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Qi(qe),Te(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function QE(t,n){switch(gh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Qi(qe),It(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Rt(n),null;case 13:if(Ki(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));yl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return tt(He),null;case 4:return It(),null;case 10:return Qi(n.type),null;case 22:case 23:return Ki(n),Ih(),t!==null&&tt(Aa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Qi(qe),null;case 25:return null;default:return null}}function yg(t,n){switch(gh(n),n.tag){case 3:Qi(qe),It();break;case 26:case 27:case 5:Rt(n);break;case 4:It();break;case 13:Ki(n);break;case 19:tt(He);break;case 10:Qi(n.type);break;case 22:case 23:Ki(n),Ih(),t!==null&&tt(Aa);break;case 24:Qi(qe)}}function Ml(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==h)}}catch(S){he(n,n.return,S)}}function Ar(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,h=n;var V=a,z=S;try{z()}catch(X){he(h,V,X)}}}l=l.next}while(l!==f)}}catch(X){he(n,n.return,X)}}function _g(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{ap(n,a)}catch(l){he(t,t.return,l)}}}function vg(t,n,a){a.props=ba(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){he(t,n,l)}}function Ll(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){he(t,n,h)}}function Ei(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){he(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){he(t,n,h)}else a.current=null}function Eg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){he(t,t.return,h)}}function af(t,n,a){try{var l=t.stateNode;dT(l,t.type,a,n),l[Ne]=n}catch(h){he(t,t.return,h)}}function Tg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ir(t.type)||t.tag===4}function sf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Tg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ir(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=zu));else if(l!==4&&(l===27&&Ir(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(lf(t,n,a),t=t.sibling;t!==null;)lf(t,n,a),t=t.sibling}function Du(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ir(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Du(t,n,a),t=t.sibling;t!==null;)Du(t,n,a),t=t.sibling}function Ag(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);nn(n,l,a),n[ze]=t,n[Ne]=a}catch(f){he(t,t.return,f)}}var Zi=!1,De=!1,of=!1,Sg=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function YE(t,n){if(t=t.containerInfo,Nf=Qu,t=Mm(t),ah(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,S=-1,V=-1,z=0,X=0,et=t,B=null;e:for(;;){for(var j;et!==a||h!==0&&et.nodeType!==3||(S=v+h),et!==f||l!==0&&et.nodeType!==3||(V=v+l),et.nodeType===3&&(v+=et.nodeValue.length),(j=et.firstChild)!==null;)B=et,et=j;for(;;){if(et===t)break e;if(B===a&&++z===h&&(S=v),B===f&&++X===l&&(V=v),(j=et.nextSibling)!==null)break;et=B,B=et.parentNode}et=j}a=S===-1||V===-1?null:{start:S,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(Of={focusedElem:t,selectionRange:a},Qu=!1,Xe=n;Xe!==null;)if(n=Xe,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Xe=t;else for(;Xe!==null;){switch(n=Xe,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var bt=ba(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(bt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Tt){he(a,a.return,Tt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Pf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Pf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Xe=t;break}Xe=n.return}}function bg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Sr(t,a),l&4&&Ml(5,a);break;case 1:if(Sr(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(v){he(a,a.return,v)}else{var h=ba(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){he(a,a.return,v)}}l&64&&_g(a),l&512&&Ll(a,a.return);break;case 3:if(Sr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{ap(t,n)}catch(v){he(a,a.return,v)}}break;case 27:n===null&&l&4&&Ag(a);case 26:case 5:Sr(t,a),n===null&&l&4&&Eg(a),l&512&&Ll(a,a.return);break;case 12:Sr(t,a);break;case 13:Sr(t,a),l&4&&Cg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=nT.bind(null,a),ET(t,a))));break;case 22:if(l=a.memoizedState!==null||Zi,!l){n=n!==null&&n.memoizedState!==null||De,h=Zi;var f=De;Zi=l,(De=n)&&!f?br(t,a,(a.subtreeFlags&8772)!==0):Sr(t,a),Zi=h,De=f}break;case 30:break;default:Sr(t,a)}}function wg(t){var n=t.alternate;n!==null&&(t.alternate=null,wg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&hr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _e=null,En=!1;function Ji(t,n,a){for(a=a.child;a!==null;)Rg(t,n,a),a=a.sibling}function Rg(t,n,a){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(Nt,a)}catch{}switch(a.tag){case 26:De||Ei(a,n),Ji(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:De||Ei(a,n);var l=_e,h=En;Ir(a.type)&&(_e=a.stateNode,En=!1),Ji(t,n,a),Fl(a.stateNode),_e=l,En=h;break;case 5:De||Ei(a,n);case 6:if(l=_e,h=En,_e=null,Ji(t,n,a),_e=l,En=h,_e!==null)if(En)try{(_e.nodeType===9?_e.body:_e.nodeName==="HTML"?_e.ownerDocument.body:_e).removeChild(a.stateNode)}catch(f){he(a,n,f)}else try{_e.removeChild(a.stateNode)}catch(f){he(a,n,f)}break;case 18:_e!==null&&(En?(t=_e,my(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Jl(t)):my(_e,a.stateNode));break;case 4:l=_e,h=En,_e=a.stateNode.containerInfo,En=!0,Ji(t,n,a),_e=l,En=h;break;case 0:case 11:case 14:case 15:De||Ar(2,a,n),De||Ar(4,a,n),Ji(t,n,a);break;case 1:De||(Ei(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&vg(a,n,l)),Ji(t,n,a);break;case 21:Ji(t,n,a);break;case 22:De=(l=De)||a.memoizedState!==null,Ji(t,n,a),De=l;break;default:Ji(t,n,a)}}function Cg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Jl(t)}catch(a){he(n,n.return,a)}}function KE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Sg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Sg),n;default:throw Error(s(435,t.tag))}}function uf(t,n){var a=KE(t);n.forEach(function(l){var h=iT.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Dn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,v=n,S=v;t:for(;S!==null;){switch(S.tag){case 27:if(Ir(S.type)){_e=S.stateNode,En=!1;break t}break;case 5:_e=S.stateNode,En=!1;break t;case 3:case 4:_e=S.stateNode.containerInfo,En=!0;break t}S=S.return}if(_e===null)throw Error(s(160));Rg(f,v,h),_e=null,En=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Dg(n,t),n=n.sibling}var Wn=null;function Dg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Dn(n,t),xn(t),l&4&&(Ar(3,t,t.return),Ml(3,t),Ar(5,t,t.return));break;case 1:Dn(n,t),xn(t),l&512&&(De||a===null||Ei(a,a.return)),l&64&&Zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Wn;if(Dn(n,t),xn(t),l&512&&(De||a===null||Ei(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Wr]||f[ze]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),nn(f,l,a),f[ze]=t,Re(f),l=f;break t;case"link":var v=Ay("link","href",h).get(l+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(f=v[S],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break e}}f=h.createElement(l),nn(f,l,a),h.head.appendChild(f);break;case"meta":if(v=Ay("meta","content",h).get(l+(a.content||""))){for(S=0;S<v.length;S++)if(f=v[S],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break e}}f=h.createElement(l),nn(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[ze]=t,Re(f),l=f}t.stateNode=l}else Sy(h,t.type,t.stateNode);else t.stateNode=Ty(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Sy(h,t.type,t.stateNode):Ty(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&af(t,t.memoizedProps,a.memoizedProps)}break;case 27:Dn(n,t),xn(t),l&512&&(De||a===null||Ei(a,a.return)),a!==null&&l&4&&af(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Dn(n,t),xn(t),l&512&&(De||a===null||Ei(a,a.return)),t.flags&32){h=t.stateNode;try{Pn(h,"")}catch(j){he(t,t.return,j)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,af(t,h,a!==null?a.memoizedProps:h)),l&1024&&(of=!0);break;case 6:if(Dn(n,t),xn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(j){he(t,t.return,j)}}break;case 3:if(Hu=null,h=Wn,Wn=ju(n.containerInfo),Dn(n,t),Wn=h,xn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Jl(n.containerInfo)}catch(j){he(t,t.return,j)}of&&(of=!1,xg(t));break;case 4:l=Wn,Wn=ju(t.stateNode.containerInfo),Dn(n,t),xn(t),Wn=l;break;case 12:Dn(n,t),xn(t);break;case 13:Dn(n,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pf=re()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,uf(t,l)));break;case 22:h=t.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,z=Zi,X=De;if(Zi=z||h,De=X||V,Dn(n,t),De=X,Zi=z,xn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||V||Zi||De||wa(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){V=a=n;try{if(f=V.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=V.stateNode;var et=V.memoizedProps.style,B=et!=null&&et.hasOwnProperty("display")?et.display:null;S.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(j){he(V,V.return,j)}}}else if(n.tag===6){if(a===null){V=n;try{V.stateNode.nodeValue=h?"":V.memoizedProps}catch(j){he(V,V.return,j)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,uf(t,a))));break;case 19:Dn(n,t),xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,uf(t,l)));break;case 30:break;case 21:break;default:Dn(n,t),xn(t)}}function xn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Tg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=sf(t);Du(t,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(Pn(v,""),a.flags&=-33);var S=sf(t);Du(t,S,v);break;case 3:case 4:var V=a.stateNode.containerInfo,z=sf(t);lf(t,z,V);break;default:throw Error(s(161))}}catch(X){he(t,t.return,X)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function xg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;xg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Sr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)bg(t,n.alternate,n),n=n.sibling}function wa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ar(4,n,n.return),wa(n);break;case 1:Ei(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&vg(n,n.return,a),wa(n);break;case 27:Fl(n.stateNode);case 26:case 5:Ei(n,n.return),wa(n);break;case 22:n.memoizedState===null&&wa(n);break;case 30:wa(n);break;default:wa(n)}t=t.sibling}}function br(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:br(h,f,a),Ml(4,f);break;case 1:if(br(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){he(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var S=l.stateNode;try{var V=h.shared.hiddenCallbacks;if(V!==null)for(h.shared.hiddenCallbacks=null,h=0;h<V.length;h++)rp(V[h],S)}catch(z){he(l,l.return,z)}}a&&v&64&&_g(f),Ll(f,f.return);break;case 27:Ag(f);case 26:case 5:br(h,f,a),a&&l===null&&v&4&&Eg(f),Ll(f,f.return);break;case 12:br(h,f,a);break;case 13:br(h,f,a),a&&v&4&&Cg(h,f);break;case 22:f.memoizedState===null&&br(h,f,a),Ll(f,f.return);break;case 30:break;default:br(h,f,a)}n=n.sibling}}function cf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&El(a))}function hf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&El(t))}function Ti(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ig(t,n,a,l),n=n.sibling}function Ig(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Ti(t,n,a,l),h&2048&&Ml(9,n);break;case 1:Ti(t,n,a,l);break;case 3:Ti(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&El(t)));break;case 12:if(h&2048){Ti(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,S=f.onPostCommit;typeof S=="function"&&S(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(V){he(n,n.return,V)}}else Ti(t,n,a,l);break;case 13:Ti(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?Ti(t,n,a,l):Pl(t,n):f._visibility&2?Ti(t,n,a,l):(f._visibility|=2,ds(t,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&cf(v,n);break;case 24:Ti(t,n,a,l),h&2048&&hf(n.alternate,n);break;default:Ti(t,n,a,l)}}function ds(t,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,S=a,V=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:ds(f,v,S,V,h),Ml(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?ds(f,v,S,V,h):Pl(f,v):(X._visibility|=2,ds(f,v,S,V,h)),h&&z&2048&&cf(v.alternate,v);break;case 24:ds(f,v,S,V,h),h&&z&2048&&hf(v.alternate,v);break;default:ds(f,v,S,V,h)}n=n.sibling}}function Pl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Pl(a,l),h&2048&&cf(l.alternate,l);break;case 24:Pl(a,l),h&2048&&hf(l.alternate,l);break;default:Pl(a,l)}n=n.sibling}}var Ul=8192;function ms(t){if(t.subtreeFlags&Ul)for(t=t.child;t!==null;)Vg(t),t=t.sibling}function Vg(t){switch(t.tag){case 26:ms(t),t.flags&Ul&&t.memoizedState!==null&&OT(Wn,t.memoizedState,t.memoizedProps);break;case 5:ms(t);break;case 3:case 4:var n=Wn;Wn=ju(t.stateNode.containerInfo),ms(t),Wn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Ul,Ul=16777216,ms(t),Ul=n):ms(t));break;default:ms(t)}}function Ng(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function kl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Xe=l,Mg(l,t)}Ng(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Og(t),t=t.sibling}function Og(t){switch(t.tag){case 0:case 11:case 15:kl(t),t.flags&2048&&Ar(9,t,t.return);break;case 3:kl(t);break;case 12:kl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,xu(t)):kl(t);break;default:kl(t)}}function xu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Xe=l,Mg(l,t)}Ng(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ar(8,n,n.return),xu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,xu(n));break;default:xu(n)}t=t.sibling}}function Mg(t,n){for(;Xe!==null;){var a=Xe;switch(a.tag){case 0:case 11:case 15:Ar(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Xe=l;else t:for(a=t;Xe!==null;){l=Xe;var h=l.sibling,f=l.return;if(wg(l),l===a){Xe=null;break t}if(h!==null){h.return=f,Xe=h;break t}Xe=f}}}var XE={getCacheForType:function(t){var n=ln(qe),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},$E=typeof WeakMap=="function"?WeakMap:Map,ae=0,me=null,kt=null,Qt=0,se=0,In=null,wr=!1,ps=!1,ff=!1,Wi=0,we=0,Rr=0,Ra=0,df=0,Gn=0,gs=0,zl=null,Tn=null,mf=!1,pf=0,Iu=1/0,Vu=null,Cr=null,en=0,Dr=null,ys=null,_s=0,gf=0,yf=null,Lg=null,Bl=0,_f=null;function Vn(){if((ae&2)!==0&&Qt!==0)return Qt&-Qt;if(Y.T!==null){var t=as;return t!==0?t:wf()}return ur()}function Pg(){Gn===0&&(Gn=(Qt&536870912)===0||te?Xs():536870912);var t=Fn.current;return t!==null&&(t.flags|=32),Gn}function Nn(t,n,a){(t===me&&(se===2||se===9)||t.cancelPendingCommit!==null)&&(vs(t,0),xr(t,Qt,Gn,!1)),Vi(t,a),((ae&2)===0||t!==me)&&(t===me&&((ae&2)===0&&(Ra|=a),we===4&&xr(t,Qt,Gn,!1)),Ai(t))}function Ug(t,n,a){if((ae&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Jr(t,n),h=l?WE(t,n):Tf(t,n,!0),f=l;do{if(h===0){ps&&!l&&xr(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!ZE(a)){h=Tf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var S=t;h=zl;var V=S.current.memoizedState.isDehydrated;if(V&&(vs(S,v).flags|=256),v=Tf(S,v,!1),v!==2){if(ff&&!V){S.errorRecoveryDisabledLanes|=f,Ra|=f,h=4;break t}f=Tn,Tn=h,f!==null&&(Tn===null?Tn=f:Tn.push.apply(Tn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){vs(t,0),xr(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:xr(l,n,Gn,!wr);break t;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=pf+300-re(),10<h)){if(xr(l,n,Gn,!wr),Pa(l,0,!0)!==0)break t;l.timeoutHandle=fy(kg.bind(null,l,a,Tn,Vu,mf,n,Gn,Ra,gs,wr,f,2,-0,0),h);break t}kg(l,a,Tn,Vu,mf,n,Gn,Ra,gs,wr,f,0,-0,0)}}break}while(!0);Ai(t)}function kg(t,n,a,l,h,f,v,S,V,z,X,et,B,j){if(t.timeoutHandle=-1,et=n.subtreeFlags,(et&8192||(et&16785408)===16785408)&&(Yl={stylesheets:null,count:0,unsuspend:NT},Vg(n),et=MT(),et!==null)){t.cancelPendingCommit=et(Gg.bind(null,t,n,f,a,l,h,v,S,V,X,1,B,j)),xr(t,f,v,!z);return}Gg(t,n,f,a,l,h,v,S,V)}function ZE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!Rn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xr(t,n,a,l){n&=~df,n&=~Ra,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Ve(h),v=1<<f;l[f]=-1,h&=~v}a!==0&&li(t,a,n)}function Nu(){return(ae&6)===0?(jl(0),!1):!0}function vf(){if(kt!==null){if(se===0)var t=kt.return;else t=kt,Gi=Ea=null,Lh(t),hs=null,Vl=0,t=kt;for(;t!==null;)yg(t.alternate,t),t=t.return;kt=null}}function vs(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,pT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),vf(),me=t,kt=a=qi(t.current,null),Qt=n,se=0,In=null,wr=!1,ps=Jr(t,n),ff=!1,gs=Gn=df=Ra=Rr=we=0,Tn=zl=null,mf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Ve(l),f=1<<h;n|=t[h],l&=~f}return Wi=n,tu(),a}function zg(t,n){Mt=null,Y.H=vu,n===Al||n===uu?(n=np(),se=3):n===Wm?(n=np(),se=4):se=n===ig?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,In=n,kt===null&&(we=1,bu(t,Bn(n,t.current)))}function Bg(){var t=Y.H;return Y.H=vu,t===null?vu:t}function jg(){var t=Y.A;return Y.A=XE,t}function Ef(){we=4,wr||(Qt&4194048)!==Qt&&Fn.current!==null||(ps=!0),(Rr&134217727)===0&&(Ra&134217727)===0||me===null||xr(me,Qt,Gn,!1)}function Tf(t,n,a){var l=ae;ae|=2;var h=Bg(),f=jg();(me!==t||Qt!==n)&&(Vu=null,vs(t,n)),n=!1;var v=we;t:do try{if(se!==0&&kt!==null){var S=kt,V=In;switch(se){case 8:vf(),v=6;break t;case 3:case 2:case 9:case 6:Fn.current===null&&(n=!0);var z=se;if(se=0,In=null,Es(t,S,V,z),a&&ps){v=0;break t}break;default:z=se,se=0,In=null,Es(t,S,V,z)}}JE(),v=we;break}catch(X){zg(t,X)}while(!0);return n&&t.shellSuspendCounter++,Gi=Ea=null,ae=l,Y.H=h,Y.A=f,kt===null&&(me=null,Qt=0,tu()),v}function JE(){for(;kt!==null;)qg(kt)}function WE(t,n){var a=ae;ae|=2;var l=Bg(),h=jg();me!==t||Qt!==n?(Vu=null,Iu=re()+500,vs(t,n)):ps=Jr(t,n);t:do try{if(se!==0&&kt!==null){n=kt;var f=In;e:switch(se){case 1:se=0,In=null,Es(t,n,f,1);break;case 2:case 9:if(tp(f)){se=0,In=null,Hg(n);break}n=function(){se!==2&&se!==9||me!==t||(se=7),Ai(t)},f.then(n,n);break t;case 3:se=7;break t;case 4:se=5;break t;case 7:tp(f)?(se=0,In=null,Hg(n)):(se=0,In=null,Es(t,n,f,7));break;case 5:var v=null;switch(kt.tag){case 26:v=kt.memoizedState;case 5:case 27:var S=kt;if(!v||by(v)){se=0,In=null;var V=S.sibling;if(V!==null)kt=V;else{var z=S.return;z!==null?(kt=z,Ou(z)):kt=null}break e}}se=0,In=null,Es(t,n,f,5);break;case 6:se=0,In=null,Es(t,n,f,6);break;case 8:vf(),we=6;break t;default:throw Error(s(462))}}tT();break}catch(X){zg(t,X)}while(!0);return Gi=Ea=null,Y.H=l,Y.A=h,ae=a,kt!==null?0:(me=null,Qt=0,tu(),we)}function tT(){for(;kt!==null&&!qt();)qg(kt)}function qg(t){var n=pg(t.alternate,t,Wi);t.memoizedProps=t.pendingProps,n===null?Ou(t):kt=n}function Hg(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=ug(a,n,n.pendingProps,n.type,void 0,Qt);break;case 11:n=ug(a,n,n.pendingProps,n.type.render,n.ref,Qt);break;case 5:Lh(n);default:yg(a,n),n=kt=Fm(n,Wi),n=pg(a,n,Wi)}t.memoizedProps=t.pendingProps,n===null?Ou(t):kt=n}function Es(t,n,a,l){Gi=Ea=null,Lh(n),hs=null,Vl=0;var h=n.return;try{if(HE(t,h,n,a,Qt)){we=1,bu(t,Bn(a,t.current)),kt=null;return}}catch(f){if(h!==null)throw kt=h,f;we=1,bu(t,Bn(a,t.current)),kt=null;return}n.flags&32768?(te||l===1?t=!0:ps||(Qt&536870912)!==0?t=!1:(wr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fg(n,t)):Ou(n)}function Ou(t){var n=t;do{if((n.flags&32768)!==0){Fg(n,wr);return}t=n.return;var a=GE(n.alternate,n,Wi);if(a!==null){kt=a;return}if(n=n.sibling,n!==null){kt=n;return}kt=n=t}while(n!==null);we===0&&(we=5)}function Fg(t,n){do{var a=QE(t.alternate,t);if(a!==null){a.flags&=32767,kt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){kt=t;return}kt=t=a}while(t!==null);we=6,kt=null}function Gg(t,n,a,l,h,f,v,S,V){t.cancelPendingCommit=null;do Mu();while(en!==0);if((ae&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=ch,Zs(t,a,f,v,S,V),t===me&&(kt=me=null,Qt=0),ys=n,Dr=t,_s=a,gf=f,yf=h,Lg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,rT(yn,function(){return $g(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=W.p,W.p=2,v=ae,ae|=4;try{YE(t,n,a)}finally{ae=v,W.p=h,Y.T=l}}en=1,Qg(),Yg(),Kg()}}function Qg(){if(en===1){en=0;var t=Dr,n=ys,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=W.p;W.p=2;var h=ae;ae|=4;try{Dg(n,t);var f=Of,v=Mm(t.containerInfo),S=f.focusedElem,V=f.selectionRange;if(v!==S&&S&&S.ownerDocument&&Om(S.ownerDocument.documentElement,S)){if(V!==null&&ah(S)){var z=V.start,X=V.end;if(X===void 0&&(X=z),"selectionStart"in S)S.selectionStart=z,S.selectionEnd=Math.min(X,S.value.length);else{var et=S.ownerDocument||document,B=et&&et.defaultView||window;if(B.getSelection){var j=B.getSelection(),bt=S.textContent.length,Tt=Math.min(V.start,bt),ce=V.end===void 0?Tt:Math.min(V.end,bt);!j.extend&&Tt>ce&&(v=ce,ce=Tt,Tt=v);var L=Nm(S,Tt),M=Nm(S,ce);if(L&&M&&(j.rangeCount!==1||j.anchorNode!==L.node||j.anchorOffset!==L.offset||j.focusNode!==M.node||j.focusOffset!==M.offset)){var k=et.createRange();k.setStart(L.node,L.offset),j.removeAllRanges(),Tt>ce?(j.addRange(k),j.extend(M.node,M.offset)):(k.setEnd(M.node,M.offset),j.addRange(k))}}}}for(et=[],j=S;j=j.parentNode;)j.nodeType===1&&et.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<et.length;S++){var Z=et[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Qu=!!Nf,Of=Nf=null}finally{ae=h,W.p=l,Y.T=a}}t.current=n,en=2}}function Yg(){if(en===2){en=0;var t=Dr,n=ys,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=W.p;W.p=2;var h=ae;ae|=4;try{bg(t,n.alternate,n)}finally{ae=h,W.p=l,Y.T=a}}en=3}}function Kg(){if(en===4||en===3){en=0,Vt();var t=Dr,n=ys,a=_s,l=Lg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?en=5:(en=0,ys=Dr=null,Xg(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Cr=null),Ua(a),n=n.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(Nt,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Y.T,h=W.p,W.p=2,Y.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var S=l[v];f(S.value,{componentStack:S.stack})}}finally{Y.T=n,W.p=h}}(_s&3)!==0&&Mu(),Ai(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===_f?Bl++:(Bl=0,_f=t):Bl=0,jl(0)}}function Xg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,El(n)))}function Mu(t){return Qg(),Yg(),Kg(),$g()}function $g(){if(en!==5)return!1;var t=Dr,n=gf;gf=0;var a=Ua(_s),l=Y.T,h=W.p;try{W.p=32>a?32:a,Y.T=null,a=yf,yf=null;var f=Dr,v=_s;if(en=0,ys=Dr=null,_s=0,(ae&6)!==0)throw Error(s(331));var S=ae;if(ae|=4,Og(f.current),Ig(f,f.current,v,a),ae=S,jl(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(Nt,f)}catch{}return!0}finally{W.p=h,Y.T=l,Xg(t,n)}}function Zg(t,n,a){n=Bn(a,n),n=Xh(t.stateNode,n,2),t=_r(t,n,2),t!==null&&(Vi(t,2),Ai(t))}function he(t,n,a){if(t.tag===3)Zg(t,t,a);else for(;n!==null;){if(n.tag===3){Zg(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Cr===null||!Cr.has(l))){t=Bn(a,t),a=eg(2),l=_r(n,a,2),l!==null&&(ng(a,l,n,t),Vi(l,2),Ai(l));break}}n=n.return}}function Af(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new $E;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(ff=!0,h.add(a),t=eT.bind(null,t,n,a),n.then(t,t))}function eT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,me===t&&(Qt&a)===a&&(we===4||we===3&&(Qt&62914560)===Qt&&300>re()-pf?(ae&2)===0&&vs(t,0):df|=a,gs===Qt&&(gs=0)),Ai(t)}function Jg(t,n){n===0&&(n=$s()),t=es(t,n),t!==null&&(Vi(t,n),Ai(t))}function nT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Jg(t,a)}function iT(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Jg(t,a)}function rT(t,n){return fe(t,n)}var Lu=null,Ts=null,Sf=!1,Pu=!1,bf=!1,Ca=0;function Ai(t){t!==Ts&&t.next===null&&(Ts===null?Lu=Ts=t:Ts=Ts.next=t),Pu=!0,Sf||(Sf=!0,sT())}function jl(t,n){if(!bf&&Pu){bf=!0;do for(var a=!1,l=Lu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,S=l.pingedLanes;f=(1<<31-Ve(42|t)+1)-1,f&=h&~(v&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,ny(l,f))}else f=Qt,f=Pa(l,l===me?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Jr(l,f)||(a=!0,ny(l,f));l=l.next}while(a);bf=!1}}function aT(){Wg()}function Wg(){Pu=Sf=!1;var t=0;Ca!==0&&(mT()&&(t=Ca),Ca=0);for(var n=re(),a=null,l=Lu;l!==null;){var h=l.next,f=ty(l,n);f===0?(l.next=null,a===null?Lu=h:a.next=h,h===null&&(Ts=a)):(a=l,(t!==0||(f&3)!==0)&&(Pu=!0)),l=h}jl(t)}function ty(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Ve(f),S=1<<v,V=h[v];V===-1?((S&a)===0||(S&l)!==0)&&(h[v]=Ks(S,n)):V<=n&&(t.expiredLanes|=S),f&=~S}if(n=me,a=Qt,a=Pa(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(se===2||se===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&$t(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Jr(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&$t(l),Ua(a)){case 2:case 8:a=de;break;case 32:a=yn;break;case 268435456:a=Mn;break;default:a=yn}return l=ey.bind(null,t),a=fe(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&$t(l),t.callbackPriority=2,t.callbackNode=null,2}function ey(t,n){if(en!==0&&en!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Mu()&&t.callbackNode!==a)return null;var l=Qt;return l=Pa(t,t===me?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ug(t,l,n),ty(t,re()),t.callbackNode!=null&&t.callbackNode===a?ey.bind(null,t):null)}function ny(t,n){if(Mu())return null;Ug(t,n,!0)}function sT(){gT(function(){(ae&6)!==0?fe(ee,aT):Wg()})}function wf(){return Ca===0&&(Ca=Xs()),Ca}function iy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ha(""+t)}function ry(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function lT(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=iy((h[Ne]||null).action),v=l.submitter;v&&(n=(n=v[Ne]||null)?iy(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var S=new Fa("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ca!==0){var V=v?ry(h,v):new FormData(h);Fh(a,{pending:!0,data:V,method:h.method,action:f},null,V)}}else typeof f=="function"&&(S.preventDefault(),V=v?ry(h,v):new FormData(h),Fh(a,{pending:!0,data:V,method:h.method,action:f},f,V))},currentTarget:h}]})}}for(var Rf=0;Rf<uh.length;Rf++){var Cf=uh[Rf],oT=Cf.toLowerCase(),uT=Cf[0].toUpperCase()+Cf.slice(1);Jn(oT,"on"+uT)}Jn(Um,"onAnimationEnd"),Jn(km,"onAnimationIteration"),Jn(zm,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(RE,"onTransitionRun"),Jn(CE,"onTransitionStart"),Jn(DE,"onTransitionCancel"),Jn(Bm,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function ay(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var S=l[v],V=S.instance,z=S.currentTarget;if(S=S.listener,V!==f&&h.isPropagationStopped())break t;f=S,h.currentTarget=z;try{f(h)}catch(X){Su(X)}h.currentTarget=null,f=V}else for(v=0;v<l.length;v++){if(S=l[v],V=S.instance,z=S.currentTarget,S=S.listener,V!==f&&h.isPropagationStopped())break t;f=S,h.currentTarget=z;try{f(h)}catch(X){Su(X)}h.currentTarget=null,f=V}}}}function zt(t,n){var a=n[Ws];a===void 0&&(a=n[Ws]=new Set);var l=t+"__bubble";a.has(l)||(sy(n,t,2,!1),a.add(l))}function Df(t,n,a){var l=0;n&&(l|=4),sy(a,t,l,n)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function xf(t){if(!t[Uu]){t[Uu]=!0,tl.forEach(function(a){a!=="selectionchange"&&(cT.has(a)||Df(a,!1,t),Df(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Uu]||(n[Uu]=!0,Df("selectionchange",!1,n))}}function sy(t,n,a,l){switch(Iy(n)){case 2:var h=UT;break;case 8:h=kT;break;default:h=Hf}a=h.bind(null,n,a,t),h=void 0,!kn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function If(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===h)break;if(v===4)for(v=l.return;v!==null;){var V=v.tag;if((V===3||V===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;S!==null;){if(v=Ni(S),v===null)return;if(V=v.tag,V===5||V===6||V===26||V===27){l=f=v;continue t}S=S.parentNode}}l=l.return}zo(function(){var z=f,X=Un(a),et=[];t:{var B=jm.get(t);if(B!==void 0){var j=Fa,bt=t;switch(t){case"keypress":if(di(a)===0)break t;case"keydown":case"keyup":j=$a;break;case"focusin":bt="focus",j=Ya;break;case"focusout":bt="blur",j=Ya;break;case"beforeblur":case"afterblur":j=Ya;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=eh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Yo;break;case Um:case km:case zm:j=Ka;break;case Bm:j=Xo;break;case"scroll":case"scrollend":j=Bo;break;case"wheel":j=Za;break;case"copy":case"cut":case"paste":j=Xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=fl;break;case"toggle":case"beforetoggle":j=Zo}var Tt=(n&4)!==0,ce=!Tt&&(t==="scroll"||t==="scrollend"),L=Tt?B!==null?B+"Capture":null:B;Tt=[];for(var M=z,k;M!==null;){var Z=M;if(k=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||k===null||L===null||(Z=sa(M,L),Z!=null&&Tt.push(Hl(M,Z,k))),ce)break;M=M.return}0<Tt.length&&(B=new j(B,bt,null,a,X),et.push({event:B,listeners:Tt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",B&&a!==Pi&&(bt=a.relatedTarget||a.fromElement)&&(Ni(bt)||bt[Ln]))break t;if((j||B)&&(B=X.window===X?X:(B=X.ownerDocument)?B.defaultView||B.parentWindow:window,j?(bt=a.relatedTarget||a.toElement,j=z,bt=bt?Ni(bt):null,bt!==null&&(ce=c(bt),Tt=bt.tag,bt!==ce||Tt!==5&&Tt!==27&&Tt!==6)&&(bt=null)):(j=null,bt=z),j!==bt)){if(Tt=zn,Z="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Tt=fl,Z="onPointerLeave",L="onPointerEnter",M="pointer"),ce=j==null?B:ui(j),k=bt==null?B:ui(bt),B=new Tt(Z,M+"leave",j,a,X),B.target=ce,B.relatedTarget=k,Z=null,Ni(X)===z&&(Tt=new Tt(L,M+"enter",bt,a,X),Tt.target=k,Tt.relatedTarget=ce,Z=Tt),ce=Z,j&&bt)e:{for(Tt=j,L=bt,M=0,k=Tt;k;k=As(k))M++;for(k=0,Z=L;Z;Z=As(Z))k++;for(;0<M-k;)Tt=As(Tt),M--;for(;0<k-M;)L=As(L),k--;for(;M--;){if(Tt===L||L!==null&&Tt===L.alternate)break e;Tt=As(Tt),L=As(L)}Tt=null}else Tt=null;j!==null&&ly(et,B,j,Tt,!1),bt!==null&&ce!==null&&ly(et,ce,bt,Tt,!0)}}t:{if(B=z?ui(z):window,j=B.nodeName&&B.nodeName.toLowerCase(),j==="select"||j==="input"&&B.type==="file")var mt=Rm;else if(je(B))if(Cm)mt=SE;else{mt=TE;var Pt=EE}else j=B.nodeName,!j||j.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&al(z.elementType)&&(mt=Rm):mt=AE;if(mt&&(mt=mt(t,z))){ji(et,mt,a,X);break t}Pt&&Pt(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&dr(B,"number",B.value)}switch(Pt=z?ui(z):window,t){case"focusin":(je(Pt)||Pt.contentEditable==="true")&&(Ja=Pt,sh=z,pl=null);break;case"focusout":pl=sh=Ja=null;break;case"mousedown":lh=!0;break;case"contextmenu":case"mouseup":case"dragend":lh=!1,Lm(et,a,X);break;case"selectionchange":if(wE)break;case"keydown":case"keyup":Lm(et,a,X)}var _t;if(gi)t:{switch(t){case"compositionstart":var At="onCompositionStart";break t;case"compositionend":At="onCompositionEnd";break t;case"compositionupdate":At="onCompositionUpdate";break t}At=void 0}else Ft?Q(t,a)&&(At="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(At="onCompositionStart");At&&(_&&a.locale!=="ko"&&(Ft||At!=="onCompositionStart"?At==="onCompositionEnd"&&Ft&&(_t=ll()):(fi=X,mr="value"in fi?fi.value:fi.textContent,Ft=!0)),Pt=ku(z,At),0<Pt.length&&(At=new cl(At,t,null,a,X),et.push({event:At,listeners:Pt}),_t?At.data=_t:(_t=lt(a),_t!==null&&(At.data=_t)))),(_t=m?Be(t,a):Gt(t,a))&&(At=ku(z,"onBeforeInput"),0<At.length&&(Pt=new cl("onBeforeInput","beforeinput",null,a,X),et.push({event:Pt,listeners:At}),Pt.data=_t)),lT(et,t,z,a,X)}ay(et,n)})}function Hl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function ku(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=sa(t,a),h!=null&&l.unshift(Hl(t,h,f)),h=sa(t,n),h!=null&&l.push(Hl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function As(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ly(t,n,a,l,h){for(var f=n._reactName,v=[];a!==null&&a!==l;){var S=a,V=S.alternate,z=S.stateNode;if(S=S.tag,V!==null&&V===l)break;S!==5&&S!==26&&S!==27||z===null||(V=z,h?(z=sa(a,f),z!=null&&v.unshift(Hl(a,z,V))):h||(z=sa(a,f),z!=null&&v.push(Hl(a,z,V)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var hT=/\r\n?/g,fT=/\u0000|\uFFFD/g;function oy(t){return(typeof t=="string"?t:""+t).replace(hT,`
`).replace(fT,"")}function uy(t,n){return n=oy(n),oy(t)===n}function zu(){}function ue(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Pn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Pn(t,""+l);break;case"className":ci(t,"class",l);break;case"tabIndex":ci(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ci(t,a,l);break;case"style":rl(t,l,f);break;case"data":if(n!=="object"){ci(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ha(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ue(t,n,"name",h.name,h,null),ue(t,n,"formEncType",h.formEncType,h,null),ue(t,n,"formMethod",h.formMethod,h,null),ue(t,n,"formTarget",h.formTarget,h,null)):(ue(t,n,"encType",h.encType,h,null),ue(t,n,"method",h.method,h,null),ue(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ha(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=zu);break;case"onScroll":l!=null&&zt("scroll",t);break;case"onScrollEnd":l!=null&&zt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ha(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":zt("beforetoggle",t),zt("toggle",t),fr(t,"popover",l);break;case"xlinkActuate":Je(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Je(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Je(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Je(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Je(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Je(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Je(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Je(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Je(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Wc.get(a)||a,fr(t,a,l))}}function Vf(t,n,a,l,h,f){switch(a){case"style":rl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Pn(t,l):(typeof l=="number"||typeof l=="bigint")&&Pn(t,""+l);break;case"onScroll":l!=null&&zt("scroll",t);break;case"onScrollEnd":l!=null&&zt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ka.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Ne]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):fr(t,a,l)}}}function nn(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",t),zt("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ue(t,n,f,v,a,null)}}h&&ue(t,n,"srcSet",a.srcSet,a,null),l&&ue(t,n,"src",a.src,a,null);return;case"input":zt("invalid",t);var S=f=v=h=null,V=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":V=X;break;case"defaultChecked":z=X;break;case"value":f=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,n));break;default:ue(t,n,l,X,a,null)}}ia(t,f,S,V,z,v,h,!1),qa(t);return;case"select":zt("invalid",t),l=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":f=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:ue(t,n,h,S,a,null)}n=f,a=v,t.multiple=!!l,n!=null?Li(t,!!l,n,!1):a!=null&&Li(t,!!l,a,!0);return;case"textarea":zt("invalid",t),f=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":h=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:ue(t,n,v,S,a,null)}ra(t,l,h,f),qa(t);return;case"option":for(V in a)if(a.hasOwnProperty(V)&&(l=a[V],l!=null))switch(V){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ue(t,n,V,l,a,null)}return;case"dialog":zt("beforetoggle",t),zt("toggle",t),zt("cancel",t),zt("close",t);break;case"iframe":case"object":zt("load",t);break;case"video":case"audio":for(l=0;l<ql.length;l++)zt(ql[l],t);break;case"image":zt("error",t),zt("load",t);break;case"details":zt("toggle",t);break;case"embed":case"source":case"link":zt("error",t),zt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ue(t,n,z,l,a,null)}return;default:if(al(n)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Vf(t,n,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&ue(t,n,S,l,a,null))}function dT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,S=null,V=null,z=null,X=null;for(j in a){var et=a[j];if(a.hasOwnProperty(j)&&et!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":V=et;default:l.hasOwnProperty(j)||ue(t,n,j,null,l,et)}}for(var B in l){var j=l[B];if(et=a[B],l.hasOwnProperty(B)&&(j!=null||et!=null))switch(B){case"type":f=j;break;case"name":h=j;break;case"checked":z=j;break;case"defaultChecked":X=j;break;case"value":v=j;break;case"defaultValue":S=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:j!==et&&ue(t,n,B,j,l,et)}}wn(t,v,S,V,z,X,f,h);return;case"select":j=v=S=B=null;for(f in a)if(V=a[f],a.hasOwnProperty(f)&&V!=null)switch(f){case"value":break;case"multiple":j=V;default:l.hasOwnProperty(f)||ue(t,n,f,null,l,V)}for(h in l)if(f=l[h],V=a[h],l.hasOwnProperty(h)&&(f!=null||V!=null))switch(h){case"value":B=f;break;case"defaultValue":S=f;break;case"multiple":v=f;default:f!==V&&ue(t,n,h,f,l,V)}n=S,a=v,l=j,B!=null?Li(t,!!a,B,!1):!!l!=!!a&&(n!=null?Li(t,!!a,n,!0):Li(t,!!a,a?[]:"",!1));return;case"textarea":j=B=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ue(t,n,S,null,l,h)}for(v in l)if(h=l[v],f=a[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":B=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&ue(t,n,v,h,l,f)}le(t,B,j);return;case"option":for(var bt in a)if(B=a[bt],a.hasOwnProperty(bt)&&B!=null&&!l.hasOwnProperty(bt))switch(bt){case"selected":t.selected=!1;break;default:ue(t,n,bt,null,l,B)}for(V in l)if(B=l[V],j=a[V],l.hasOwnProperty(V)&&B!==j&&(B!=null||j!=null))switch(V){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ue(t,n,V,B,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)B=a[Tt],a.hasOwnProperty(Tt)&&B!=null&&!l.hasOwnProperty(Tt)&&ue(t,n,Tt,null,l,B);for(z in l)if(B=l[z],j=a[z],l.hasOwnProperty(z)&&B!==j&&(B!=null||j!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:ue(t,n,z,B,l,j)}return;default:if(al(n)){for(var ce in a)B=a[ce],a.hasOwnProperty(ce)&&B!==void 0&&!l.hasOwnProperty(ce)&&Vf(t,n,ce,void 0,l,B);for(X in l)B=l[X],j=a[X],!l.hasOwnProperty(X)||B===j||B===void 0&&j===void 0||Vf(t,n,X,B,l,j);return}}for(var L in a)B=a[L],a.hasOwnProperty(L)&&B!=null&&!l.hasOwnProperty(L)&&ue(t,n,L,null,l,B);for(et in l)B=l[et],j=a[et],!l.hasOwnProperty(et)||B===j||B==null&&j==null||ue(t,n,et,B,l,j)}var Nf=null,Of=null;function Bu(t){return t.nodeType===9?t:t.ownerDocument}function cy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Mf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Lf=null;function mT(){var t=window.event;return t&&t.type==="popstate"?t===Lf?!1:(Lf=t,!0):(Lf=null,!1)}var fy=typeof setTimeout=="function"?setTimeout:void 0,pT=typeof clearTimeout=="function"?clearTimeout:void 0,dy=typeof Promise=="function"?Promise:void 0,gT=typeof queueMicrotask=="function"?queueMicrotask:typeof dy<"u"?function(t){return dy.resolve(null).then(t).catch(yT)}:fy;function yT(t){setTimeout(function(){throw t})}function Ir(t){return t==="head"}function my(t,n){var a=n,l=0,h=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Fl(v.documentElement),a&2&&Fl(v.body),a&4)for(a=v.head,Fl(a),v=a.firstChild;v;){var S=v.nextSibling,V=v.nodeName;v[Wr]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=S}}if(h===0){t.removeChild(f),Jl(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Jl(n)}function Pf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pf(a),hr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function _T(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Wr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ti(t.nextSibling),t===null)break}return null}function vT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ti(t.nextSibling),t===null))return null;return t}function Uf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function ET(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ti(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var kf=null;function py(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function gy(t,n,a){switch(n=Bu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Fl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);hr(t)}var Qn=new Map,yy=new Set;function ju(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var tr=W.d;W.d={f:TT,r:AT,D:ST,C:bT,L:wT,m:RT,X:DT,S:CT,M:xT};function TT(){var t=tr.f(),n=Nu();return t||n}function AT(t){var n=oi(t);n!==null&&n.tag===5&&n.type==="form"?Up(n):tr.r(t)}var Ss=typeof document>"u"?null:document;function _y(t,n,a){var l=Ss;if(l&&typeof n=="string"&&n){var h=Oe(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),yy.has(h)||(yy.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),nn(n,"link",t),Re(n),l.head.appendChild(n)))}}function ST(t){tr.D(t),_y("dns-prefetch",t,null)}function bT(t,n){tr.C(t,n),_y("preconnect",t,n)}function wT(t,n,a){tr.L(t,n,a);var l=Ss;if(l&&t&&n){var h='link[rel="preload"][as="'+Oe(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Oe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Oe(a.imageSizes)+'"]')):h+='[href="'+Oe(t)+'"]';var f=h;switch(n){case"style":f=bs(t);break;case"script":f=ws(t)}Qn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Qn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Gl(f))||n==="script"&&l.querySelector(Ql(f))||(n=l.createElement("link"),nn(n,"link",t),Re(n),l.head.appendChild(n)))}}function RT(t,n){tr.m(t,n);var a=Ss;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Oe(l)+'"][href="'+Oe(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ws(t)}if(!Qn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Qn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ql(f)))return}l=a.createElement("link"),nn(l,"link",t),Re(l),a.head.appendChild(l)}}}function CT(t,n,a){tr.S(t,n,a);var l=Ss;if(l&&t){var h=dn(l).hoistableStyles,f=bs(t);n=n||"default";var v=h.get(f);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(Gl(f)))S.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Qn.get(f))&&zf(t,a);var V=v=l.createElement("link");Re(V),nn(V,"link",t),V._p=new Promise(function(z,X){V.onload=z,V.onerror=X}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,qu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:S},h.set(f,v)}}}function DT(t,n){tr.X(t,n);var a=Ss;if(a&&t){var l=dn(a).hoistableScripts,h=ws(t),f=l.get(h);f||(f=a.querySelector(Ql(h)),f||(t=A({src:t,async:!0},n),(n=Qn.get(h))&&Bf(t,n),f=a.createElement("script"),Re(f),nn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function xT(t,n){tr.M(t,n);var a=Ss;if(a&&t){var l=dn(a).hoistableScripts,h=ws(t),f=l.get(h);f||(f=a.querySelector(Ql(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Qn.get(h))&&Bf(t,n),f=a.createElement("script"),Re(f),nn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function vy(t,n,a,l){var h=(h=dt.current)?ju(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=bs(a.href),a=dn(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=bs(a.href);var f=dn(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Gl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(t,a),f||IT(h,t,a,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ws(a),a=dn(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function bs(t){return'href="'+Oe(t)+'"'}function Gl(t){return'link[rel="stylesheet"]['+t+"]"}function Ey(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function IT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),nn(n,"link",a),Re(n),t.head.appendChild(n))}function ws(t){return'[src="'+Oe(t)+'"]'}function Ql(t){return"script[async]"+t}function Ty(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Oe(a.href)+'"]');if(l)return n.instance=l,Re(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Re(l),nn(l,"style",h),qu(l,a.precedence,t),n.instance=l;case"stylesheet":h=bs(a.href);var f=t.querySelector(Gl(h));if(f)return n.state.loading|=4,n.instance=f,Re(f),f;l=Ey(a),(h=Qn.get(h))&&zf(l,h),f=(t.ownerDocument||t).createElement("link"),Re(f);var v=f;return v._p=new Promise(function(S,V){v.onload=S,v.onerror=V}),nn(f,"link",l),n.state.loading|=4,qu(f,a.precedence,t),n.instance=f;case"script":return f=ws(a.src),(h=t.querySelector(Ql(f)))?(n.instance=h,Re(h),h):(l=a,(h=Qn.get(f))&&(l=A({},a),Bf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Re(h),nn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,qu(l,a.precedence,t));return n.instance}function qu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===n)f=S;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function zf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Bf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Hu=null;function Ay(t,n,a){if(Hu===null){var l=new Map,h=Hu=new Map;h.set(a,l)}else h=Hu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Wr]||f[ze]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var S=l.get(v);S?S.push(f):l.set(v,[f])}}return l}function Sy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function VT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function by(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Yl=null;function NT(){}function OT(t,n,a){if(Yl===null)throw Error(s(475));var l=Yl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=bs(a.href),f=t.querySelector(Gl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Fu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,Re(f);return}f=t.ownerDocument||t,a=Ey(a),(h=Qn.get(h))&&zf(a,h),f=f.createElement("link"),Re(f);var v=f;v._p=new Promise(function(S,V){v.onload=S,v.onerror=V}),nn(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Fu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function MT(){if(Yl===null)throw Error(s(475));var t=Yl;return t.stylesheets&&t.count===0&&jf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&jf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Fu(){if(this.count--,this.count===0){if(this.stylesheets)jf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gu=null;function jf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gu=new Map,n.forEach(LT,t),Gu=null,Fu.call(t))}function LT(t,n){if(!(n.state.loading&4)){var a=Gu.get(t);if(a)var l=a.get(null);else{a=new Map,Gu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,h),a.set(v,h),this.count++,l=Fu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Kl={$$typeof:st,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function PT(t,n,a,l,h,f,v,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.hiddenUpdates=Ii(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function wy(t,n,a,l,h,f,v,S,V,z,X,et){return t=new PT(t,n,a,v,S,V,z,et),n=1,f===!0&&(n|=24),f=Cn(3,null,null,n),t.current=f,f.stateNode=t,n=Th(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},wh(f),t}function Ry(t){return t?(t=ns,t):ns}function Cy(t,n,a,l,h,f){h=Ry(h),l.context===null?l.context=h:l.pendingContext=h,l=yr(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=_r(t,l,n),a!==null&&(Nn(a,t,n),bl(a,t,n))}function Dy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function qf(t,n){Dy(t,n),(t=t.alternate)&&Dy(t,n)}function xy(t){if(t.tag===13){var n=es(t,67108864);n!==null&&Nn(n,t,67108864),qf(t,67108864)}}var Qu=!0;function UT(t,n,a,l){var h=Y.T;Y.T=null;var f=W.p;try{W.p=2,Hf(t,n,a,l)}finally{W.p=f,Y.T=h}}function kT(t,n,a,l){var h=Y.T;Y.T=null;var f=W.p;try{W.p=8,Hf(t,n,a,l)}finally{W.p=f,Y.T=h}}function Hf(t,n,a,l){if(Qu){var h=Ff(l);if(h===null)If(t,n,l,Yu,a),Vy(t,l);else if(BT(h,t,n,a,l))l.stopPropagation();else if(Vy(t,l),n&4&&-1<zT.indexOf(t)){for(;h!==null;){var f=oi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Xn(f.pendingLanes);if(v!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var V=1<<31-Ve(v);S.entanglements[1]|=V,v&=~V}Ai(f),(ae&6)===0&&(Iu=re()+500,jl(0))}}break;case 13:S=es(f,2),S!==null&&Nn(S,f,2),Nu(),qf(f,2)}if(f=Ff(l),f===null&&If(t,n,l,Yu,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else If(t,n,l,null,a)}}function Ff(t){return t=Un(t),Gf(t)}var Yu=null;function Gf(t){if(Yu=null,t=Ni(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Yu=t,null}function Iy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ht()){case ee:return 2;case de:return 8;case yn:case _n:return 32;case Mn:return 268435456;default:return 32}default:return 32}}var Qf=!1,Vr=null,Nr=null,Or=null,Xl=new Map,$l=new Map,Mr=[],zT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vy(t,n){switch(t){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":Xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(n.pointerId)}}function Zl(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=oi(n),n!==null&&xy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function BT(t,n,a,l,h){switch(n){case"focusin":return Vr=Zl(Vr,t,n,a,l,h),!0;case"dragenter":return Nr=Zl(Nr,t,n,a,l,h),!0;case"mouseover":return Or=Zl(Or,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return Xl.set(f,Zl(Xl.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,$l.set(f,Zl($l.get(f)||null,t,n,a,l,h)),!0}return!1}function Ny(t){var n=Ni(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,No(t.priority,function(){if(a.tag===13){var l=Vn();l=or(l);var h=es(a,l);h!==null&&Nn(h,a,l),qf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ku(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Ff(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Pi=l,a.target.dispatchEvent(l),Pi=null}else return n=oi(a),n!==null&&xy(n),t.blockedOn=a,!1;n.shift()}return!0}function Oy(t,n,a){Ku(t)&&a.delete(n)}function jT(){Qf=!1,Vr!==null&&Ku(Vr)&&(Vr=null),Nr!==null&&Ku(Nr)&&(Nr=null),Or!==null&&Ku(Or)&&(Or=null),Xl.forEach(Oy),$l.forEach(Oy)}function Xu(t,n){t.blockedOn===n&&(t.blockedOn=null,Qf||(Qf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,jT)))}var $u=null;function My(t){$u!==t&&($u=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){$u===t&&($u=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Gf(l||a)===null)continue;break}var f=oi(a);f!==null&&(t.splice(n,3),n-=3,Fh(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Jl(t){function n(V){return Xu(V,t)}Vr!==null&&Xu(Vr,t),Nr!==null&&Xu(Nr,t),Or!==null&&Xu(Or,t),Xl.forEach(n),$l.forEach(n);for(var a=0;a<Mr.length;a++){var l=Mr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Mr.length&&(a=Mr[0],a.blockedOn===null);)Ny(a),a.blockedOn===null&&Mr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],v=h[Ne]||null;if(typeof f=="function")v||My(a);else if(v){var S=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[Ne]||null)S=v.formAction;else if(Gf(h)!==null)continue}else S=v.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),My(a)}}}function Yf(t){this._internalRoot=t}Zu.prototype.render=Yf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=Vn();Cy(a,l,t,n,null,null)},Zu.prototype.unmount=Yf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Cy(t.current,2,null,t,null,null),Nu(),n[Ln]=null}};function Zu(t){this._internalRoot=t}Zu.prototype.unstable_scheduleHydration=function(t){if(t){var n=ur();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Mr.length&&n!==0&&n<Mr[a].priority;a++);Mr.splice(a,0,t),a===0&&Ny(t)}};var Ly=e.version;if(Ly!=="19.1.0")throw Error(s(527,Ly,"19.1.0"));W.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var qT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{Nt=Ju.inject(qT),Dt=Ju}catch{}}return to.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=Zp,f=Jp,v=Wp,S=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(S=n.unstable_transitionCallbacks)),n=wy(t,1,!1,null,null,a,l,h,f,v,S,null),t[Ln]=n.current,xf(t),new Yf(n)},to.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=Zp,v=Jp,S=Wp,V=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(V=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),n=wy(t,1,!0,n,a??null,l,h,f,v,S,V,z),n.context=Ry(null),a=n.current,l=Vn(),l=or(l),h=yr(l),h.callback=null,_r(a,h,l),a=l,n.current.lanes=a,Vi(n,a),Ai(n),t[Ln]=n.current,xf(t),new Zu(n)},to.version="19.1.0",to}var Gy;function WT(){if(Gy)return $f.exports;Gy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$f.exports=JT(),$f.exports}var t1=WT();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Qy="popstate";function e1(r={}){function e(o,c){let{pathname:d="/",search:g="",hash:y=""}=Oa(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),cd("",{pathname:d,search:g,hash:y},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let d=o.document.querySelector("base"),g="";if(d&&d.getAttribute("href")){let y=o.location.href,p=y.indexOf("#");g=p===-1?y:y.slice(0,p)}return g+"#"+(typeof c=="string"?c:fo(c))}function s(o,c){Kn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return i1(e,i,s,r)}function ve(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Kn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function n1(){return Math.random().toString(36).substring(2,10)}function Yy(r,e){return{usr:r.state,key:r.key,idx:e}}function cd(r,e,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Oa(e):e,state:i,key:e&&e.key||s||n1()}}function fo({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Oa(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function i1(r,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,g="POP",y=null,p=A();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function A(){return(d.state||{idx:null}).idx}function R(){g="POP";let F=A(),nt=F==null?null:F-p;p=F,y&&y({action:g,location:$.location,delta:nt})}function C(F,nt){g="PUSH";let at=cd($.location,F,nt);i&&i(at,F),p=A()+1;let st=Yy(at,p),Et=$.createHref(at);try{d.pushState(st,"",Et)}catch(gt){if(gt instanceof DOMException&&gt.name==="DataCloneError")throw gt;o.location.assign(Et)}c&&y&&y({action:g,location:$.location,delta:1})}function P(F,nt){g="REPLACE";let at=cd($.location,F,nt);i&&i(at,F),p=A();let st=Yy(at,p),Et=$.createHref(at);d.replaceState(st,"",Et),c&&y&&y({action:g,location:$.location,delta:0})}function H(F){return r1(F)}let $={get action(){return g},get location(){return r(o,d)},listen(F){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(Qy,R),y=F,()=>{o.removeEventListener(Qy,R),y=null}},createHref(F){return e(o,F)},createURL:H,encodeLocation(F){let nt=H(F);return{pathname:nt.pathname,search:nt.search,hash:nt.hash}},push:C,replace:P,go(F){return d.go(F)}};return $}function r1(r,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ve(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:fo(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function uv(r,e,i="/"){return a1(r,e,i,!1)}function a1(r,e,i,s){let o=typeof e=="string"?Oa(e):e,c=ir(o.pathname||"/",i);if(c==null)return null;let d=cv(r);s1(d);let g=null;for(let y=0;g==null&&y<d.length;++y){let p=y1(c);g=p1(d[y],p,s)}return g}function cv(r,e=[],i=[],s=""){let o=(c,d,g)=>{let y={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};y.relativePath.startsWith("/")&&(ve(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let p=er([s,y.relativePath]),A=i.concat(y);c.children&&c.children.length>0&&(ve(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),cv(c.children,e,A,p)),!(c.path==null&&!c.index)&&e.push({path:p,score:d1(p,c.index),routesMeta:A})};return r.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let g of hv(c.path))o(c,d,g)}),e}function hv(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=hv(s.join("/")),g=[];return g.push(...d.map(y=>y===""?c:[c,y].join("/"))),o&&g.push(...d),g.map(y=>r.startsWith("/")&&y===""?"/":y)}function s1(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:m1(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var l1=/^:[\w-]+$/,o1=3,u1=2,c1=1,h1=10,f1=-2,Ky=r=>r==="*";function d1(r,e){let i=r.split("/"),s=i.length;return i.some(Ky)&&(s+=f1),e&&(s+=u1),i.filter(o=>!Ky(o)).reduce((o,c)=>o+(l1.test(c)?o1:c===""?c1:h1),s)}function m1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function p1(r,e,i=!1){let{routesMeta:s}=r,o={},c="/",d=[];for(let g=0;g<s.length;++g){let y=s[g],p=g===s.length-1,A=c==="/"?e:e.slice(c.length)||"/",R=mc({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},A),C=y.route;if(!R&&p&&i&&!s[s.length-1].route.index&&(R=mc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},A)),!R)return null;Object.assign(o,R.params),d.push({params:o,pathname:er([c,R.pathname]),pathnameBase:T1(er([c,R.pathnameBase])),route:C}),R.pathnameBase!=="/"&&(c=er([c,R.pathnameBase]))}return d}function mc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=g1(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((p,{paramName:A,isOptional:R},C)=>{if(A==="*"){let H=g[C]||"";d=c.slice(0,c.length-H.length).replace(/(.)\/+$/,"$1")}const P=g[C];return R&&!P?p[A]=void 0:p[A]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:d,pattern:r}}function g1(r,e=!1,i=!0){Kn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,y)=>(s.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function y1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ir(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function _1(r,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?Oa(r):r;return{pathname:i?i.startsWith("/")?i:v1(i,e):e,search:A1(s),hash:S1(o)}}function v1(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function td(r,e,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function E1(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Pd(r){let e=E1(r);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Ud(r,e,i,s=!1){let o;typeof r=="string"?o=Oa(r):(o={...r},ve(!o.pathname||!o.pathname.includes("?"),td("?","pathname","search",o)),ve(!o.pathname||!o.pathname.includes("#"),td("#","pathname","hash",o)),ve(!o.search||!o.search.includes("#"),td("#","search","hash",o)));let c=r===""||o.pathname==="",d=c?"/":o.pathname,g;if(d==null)g=i;else{let R=e.length-1;if(!s&&d.startsWith("..")){let C=d.split("/");for(;C[0]==="..";)C.shift(),R-=1;o.pathname=C.join("/")}g=R>=0?e[R]:"/"}let y=_1(o,g),p=d&&d!=="/"&&d.endsWith("/"),A=(c||d===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(p||A)&&(y.pathname+="/"),y}var er=r=>r.join("/").replace(/\/\/+/g,"/"),T1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),A1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,S1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function b1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var fv=["POST","PUT","PATCH","DELETE"];new Set(fv);var w1=["GET",...fv];new Set(w1);var zs=K.createContext(null);zs.displayName="DataRouter";var Vc=K.createContext(null);Vc.displayName="DataRouterState";K.createContext(!1);var dv=K.createContext({isTransitioning:!1});dv.displayName="ViewTransition";var R1=K.createContext(new Map);R1.displayName="Fetchers";var C1=K.createContext(null);C1.displayName="Await";var ii=K.createContext(null);ii.displayName="Navigation";var So=K.createContext(null);So.displayName="Location";var ri=K.createContext({outlet:null,matches:[],isDataRoute:!1});ri.displayName="Route";var kd=K.createContext(null);kd.displayName="RouteError";function D1(r,{relative:e}={}){ve(Bs(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=K.useContext(ii),{hash:o,pathname:c,search:d}=bo(r,{relative:e}),g=c;return i!=="/"&&(g=c==="/"?i:er([i,c])),s.createHref({pathname:g,search:d,hash:o})}function Bs(){return K.useContext(So)!=null}function Kr(){return ve(Bs(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(So).location}var mv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pv(r){K.useContext(ii).static||K.useLayoutEffect(r)}function gv(){let{isDataRoute:r}=K.useContext(ri);return r?j1():x1()}function x1(){ve(Bs(),"useNavigate() may be used only in the context of a <Router> component.");let r=K.useContext(zs),{basename:e,navigator:i}=K.useContext(ii),{matches:s}=K.useContext(ri),{pathname:o}=Kr(),c=JSON.stringify(Pd(s)),d=K.useRef(!1);return pv(()=>{d.current=!0}),K.useCallback((y,p={})=>{if(Kn(d.current,mv),!d.current)return;if(typeof y=="number"){i.go(y);return}let A=Ud(y,JSON.parse(c),o,p.relative==="path");r==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:er([e,A.pathname])),(p.replace?i.replace:i.push)(A,p.state,p)},[e,i,c,o,r])}K.createContext(null);function yv(){let{matches:r}=K.useContext(ri),e=r[r.length-1];return e?e.params:{}}function bo(r,{relative:e}={}){let{matches:i}=K.useContext(ri),{pathname:s}=Kr(),o=JSON.stringify(Pd(i));return K.useMemo(()=>Ud(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function I1(r,e){return _v(r,e)}function _v(r,e,i,s){ve(Bs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=K.useContext(ii),{matches:c}=K.useContext(ri),d=c[c.length-1],g=d?d.params:{},y=d?d.pathname:"/",p=d?d.pathnameBase:"/",A=d&&d.route;{let nt=A&&A.path||"";vv(y,!A||nt.endsWith("*")||nt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${nt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${nt}"> to <Route path="${nt==="/"?"*":`${nt}/*`}">.`)}let R=Kr(),C;if(e){let nt=typeof e=="string"?Oa(e):e;ve(p==="/"||nt.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${nt.pathname}" was given in the \`location\` prop.`),C=nt}else C=R;let P=C.pathname||"/",H=P;if(p!=="/"){let nt=p.replace(/^\//,"").split("/");H="/"+P.replace(/^\//,"").split("/").slice(nt.length).join("/")}let $=uv(r,{pathname:H});Kn(A||$!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Kn($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=L1($&&$.map(nt=>Object.assign({},nt,{params:Object.assign({},g,nt.params),pathname:er([p,o.encodeLocation?o.encodeLocation(nt.pathname).pathname:nt.pathname]),pathnameBase:nt.pathnameBase==="/"?p:er([p,o.encodeLocation?o.encodeLocation(nt.pathnameBase).pathname:nt.pathnameBase])})),c,i,s);return e&&F?K.createElement(So.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},F):F}function V1(){let r=B1(),e=b1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:c},"ErrorBoundary")," or"," ",K.createElement("code",{style:c},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),i?K.createElement("pre",{style:o},i):null,d)}var N1=K.createElement(V1,null),O1=class extends K.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?K.createElement(ri.Provider,{value:this.props.routeContext},K.createElement(kd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function M1({routeContext:r,match:e,children:i}){let s=K.useContext(zs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(ri.Provider,{value:r},i)}function L1(r,e=[],i=null,s=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let o=r,c=i?.errors;if(c!=null){let y=o.findIndex(p=>p.route.id&&c?.[p.route.id]!==void 0);ve(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let d=!1,g=-1;if(i)for(let y=0;y<o.length;y++){let p=o[y];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(g=y),p.route.id){let{loaderData:A,errors:R}=i,C=p.route.loader&&!A.hasOwnProperty(p.route.id)&&(!R||R[p.route.id]===void 0);if(p.route.lazy||C){d=!0,g>=0?o=o.slice(0,g+1):o=[o[0]];break}}}return o.reduceRight((y,p,A)=>{let R,C=!1,P=null,H=null;i&&(R=c&&p.route.id?c[p.route.id]:void 0,P=p.route.errorElement||N1,d&&(g<0&&A===0?(vv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,H=null):g===A&&(C=!0,H=p.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,A+1)),F=()=>{let nt;return R?nt=P:C?nt=H:p.route.Component?nt=K.createElement(p.route.Component,null):p.route.element?nt=p.route.element:nt=y,K.createElement(M1,{match:p,routeContext:{outlet:y,matches:$,isDataRoute:i!=null},children:nt})};return i&&(p.route.ErrorBoundary||p.route.errorElement||A===0)?K.createElement(O1,{location:i.location,revalidation:i.revalidation,component:P,error:R,children:F(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):F()},null)}function zd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P1(r){let e=K.useContext(zs);return ve(e,zd(r)),e}function U1(r){let e=K.useContext(Vc);return ve(e,zd(r)),e}function k1(r){let e=K.useContext(ri);return ve(e,zd(r)),e}function Bd(r){let e=k1(r),i=e.matches[e.matches.length-1];return ve(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function z1(){return Bd("useRouteId")}function B1(){let r=K.useContext(kd),e=U1("useRouteError"),i=Bd("useRouteError");return r!==void 0?r:e.errors?.[i]}function j1(){let{router:r}=P1("useNavigate"),e=Bd("useNavigate"),i=K.useRef(!1);return pv(()=>{i.current=!0}),K.useCallback(async(o,c={})=>{Kn(i.current,mv),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var Xy={};function vv(r,e,i){!e&&!Xy[r]&&(Xy[r]=!0,Kn(!1,i))}K.memo(q1);function q1({routes:r,future:e,state:i}){return _v(r,void 0,i,e)}function H1({to:r,replace:e,state:i,relative:s}){ve(Bs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=K.useContext(ii);Kn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=K.useContext(ri),{pathname:d}=Kr(),g=gv(),y=Ud(r,Pd(c),d,s==="path"),p=JSON.stringify(y);return K.useEffect(()=>{g(JSON.parse(p),{replace:e,state:i,relative:s})},[g,p,s,e,i]),null}function no(r){ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function F1({basename:r="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){ve(!Bs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),g=K.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=Oa(i));let{pathname:y="/",search:p="",hash:A="",state:R=null,key:C="default"}=i,P=K.useMemo(()=>{let H=ir(y,d);return H==null?null:{location:{pathname:H,search:p,hash:A,state:R,key:C},navigationType:s}},[d,y,p,A,R,C,s]);return Kn(P!=null,`<Router basename="${d}"> is not able to match the URL "${y}${p}${A}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:K.createElement(ii.Provider,{value:g},K.createElement(So.Provider,{children:e,value:P}))}function G1({children:r,location:e}){return I1(hd(r),e)}function hd(r,e=[]){let i=[];return K.Children.forEach(r,(s,o)=>{if(!K.isValidElement(s))return;let c=[...e,o];if(s.type===K.Fragment){i.push.apply(i,hd(s.props.children,c));return}ve(s.type===no,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ve(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=hd(s.props.children,c)),i.push(d)}),i}var ac="get",sc="application/x-www-form-urlencoded";function Nc(r){return r!=null&&typeof r.tagName=="string"}function Q1(r){return Nc(r)&&r.tagName.toLowerCase()==="button"}function Y1(r){return Nc(r)&&r.tagName.toLowerCase()==="form"}function K1(r){return Nc(r)&&r.tagName.toLowerCase()==="input"}function X1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function $1(r,e){return r.button===0&&(!e||e==="_self")&&!X1(r)}var Wu=null;function Z1(){if(Wu===null)try{new FormData(document.createElement("form"),0),Wu=!1}catch{Wu=!0}return Wu}var J1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ed(r){return r!=null&&!J1.has(r)?(Kn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sc}"`),null):r}function W1(r,e){let i,s,o,c,d;if(Y1(r)){let g=r.getAttribute("action");s=g?ir(g,e):null,i=r.getAttribute("method")||ac,o=ed(r.getAttribute("enctype"))||sc,c=new FormData(r)}else if(Q1(r)||K1(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||g.getAttribute("action");if(s=y?ir(y,e):null,i=r.getAttribute("formmethod")||g.getAttribute("method")||ac,o=ed(r.getAttribute("formenctype"))||ed(g.getAttribute("enctype"))||sc,c=new FormData(g,r),!Z1()){let{name:p,type:A,value:R}=r;if(A==="image"){let C=p?`${p}.`:"";c.append(`${C}x`,"0"),c.append(`${C}y`,"0")}else p&&c.append(p,R)}}else{if(Nc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=ac,s=null,o=sc,d=r}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function tA(r,e,i){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${i}`:e&&ir(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function eA(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function iA(r,e,i){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await eA(c,i);return d.links?d.links():[]}return[]}));return lA(s.flat(1).filter(nA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function $y(r,e,i,s,o,c){let d=(y,p)=>i[p]?y.route.id!==i[p].route.id:!0,g=(y,p)=>i[p].pathname!==y.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==y.params["*"];return c==="assets"?e.filter((y,p)=>d(y,p)||g(y,p)):c==="data"?e.filter((y,p)=>{let A=s.routes[y.route.id];if(!A||!A.hasLoader)return!1;if(d(y,p)||g(y,p))return!0;if(y.route.shouldRevalidate){let R=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function rA(r,e,{includeHydrateFallback:i}={}){return aA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function aA(r){return[...new Set(r)]}function sA(r){let e={},i=Object.keys(r).sort();for(let s of i)e[s]=r[s];return e}function lA(r,e){let i=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(sA(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function Ev(){let r=K.useContext(zs);return jd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function oA(){let r=K.useContext(Vc);return jd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var qd=K.createContext(void 0);qd.displayName="FrameworkContext";function Tv(){let r=K.useContext(qd);return jd(r,"You must render this element inside a <HydratedRouter> element"),r}function uA(r,e){let i=K.useContext(qd),[s,o]=K.useState(!1),[c,d]=K.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:p,onMouseLeave:A,onTouchStart:R}=e,C=K.useRef(null);K.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let $=nt=>{nt.forEach(at=>{d(at.isIntersecting)})},F=new IntersectionObserver($,{threshold:.5});return C.current&&F.observe(C.current),()=>{F.disconnect()}}},[r]),K.useEffect(()=>{if(s){let $=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout($)}}},[s]);let P=()=>{o(!0)},H=()=>{o(!1),d(!1)};return i?r!=="intent"?[c,C,{}]:[c,C,{onFocus:eo(g,P),onBlur:eo(y,H),onMouseEnter:eo(p,P),onMouseLeave:eo(A,H),onTouchStart:eo(R,P)}]:[!1,C,{}]}function eo(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function cA({page:r,...e}){let{router:i}=Ev(),s=K.useMemo(()=>uv(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?K.createElement(fA,{page:r,matches:s,...e}):null}function hA(r){let{manifest:e,routeModules:i}=Tv(),[s,o]=K.useState([]);return K.useEffect(()=>{let c=!1;return iA(r,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[r,e,i]),s}function fA({page:r,matches:e,...i}){let s=Kr(),{manifest:o,routeModules:c}=Tv(),{basename:d}=Ev(),{loaderData:g,matches:y}=oA(),p=K.useMemo(()=>$y(r,e,y,o,s,"data"),[r,e,y,o,s]),A=K.useMemo(()=>$y(r,e,y,o,s,"assets"),[r,e,y,o,s]),R=K.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let H=new Set,$=!1;if(e.forEach(nt=>{let at=o.routes[nt.route.id];!at||!at.hasLoader||(!p.some(st=>st.route.id===nt.route.id)&&nt.route.id in g&&c[nt.route.id]?.shouldRevalidate||at.hasClientLoader?$=!0:H.add(nt.route.id))}),H.size===0)return[];let F=tA(r,d,"data");return $&&H.size>0&&F.searchParams.set("_routes",e.filter(nt=>H.has(nt.route.id)).map(nt=>nt.route.id).join(",")),[F.pathname+F.search]},[d,g,s,o,p,e,r,c]),C=K.useMemo(()=>rA(A,o),[A,o]),P=hA(A);return K.createElement(K.Fragment,null,R.map(H=>K.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...i})),C.map(H=>K.createElement("link",{key:H,rel:"modulepreload",href:H,...i})),P.map(({key:H,link:$})=>K.createElement("link",{key:H,...$})))}function dA(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var Av=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Av&&(window.__reactRouterVersion="7.7.0")}catch{}function mA({basename:r,children:e,window:i}){let s=K.useRef();s.current==null&&(s.current=e1({window:i,v5Compat:!0}));let o=s.current,[c,d]=K.useState({action:o.action,location:o.location}),g=K.useCallback(y=>{K.startTransition(()=>d(y))},[d]);return K.useLayoutEffect(()=>o.listen(g),[o,g]),K.createElement(F1,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var Sv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bv=K.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:g,target:y,to:p,preventScrollReset:A,viewTransition:R,...C},P){let{basename:H}=K.useContext(ii),$=typeof p=="string"&&Sv.test(p),F,nt=!1;if(typeof p=="string"&&$&&(F=p,Av))try{let T=new URL(window.location.href),w=p.startsWith("//")?new URL(T.protocol+p):new URL(p),x=ir(w.pathname,H);w.origin===T.origin&&x!=null?p=x+w.search+w.hash:nt=!0}catch{Kn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let at=D1(p,{relative:o}),[st,Et,gt]=uA(s,C),wt=_A(p,{replace:d,state:g,target:y,preventScrollReset:A,relative:o,viewTransition:R});function O(T){e&&e(T),T.defaultPrevented||wt(T)}let E=K.createElement("a",{...C,...gt,href:F||at,onClick:nt||c?e:O,ref:dA(P,Et),target:y,"data-discover":!$&&i==="render"?"true":void 0});return st&&!$?K.createElement(K.Fragment,null,E,K.createElement(cA,{page:at})):E});bv.displayName="Link";var pA=K.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:g,children:y,...p},A){let R=bo(d,{relative:p.relative}),C=Kr(),P=K.useContext(Vc),{navigator:H,basename:$}=K.useContext(ii),F=P!=null&&SA(R)&&g===!0,nt=H.encodeLocation?H.encodeLocation(R).pathname:R.pathname,at=C.pathname,st=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;i||(at=at.toLowerCase(),st=st?st.toLowerCase():null,nt=nt.toLowerCase()),st&&$&&(st=ir(st,$)||st);const Et=nt!=="/"&&nt.endsWith("/")?nt.length-1:nt.length;let gt=at===nt||!o&&at.startsWith(nt)&&at.charAt(Et)==="/",wt=st!=null&&(st===nt||!o&&st.startsWith(nt)&&st.charAt(nt.length)==="/"),O={isActive:gt,isPending:wt,isTransitioning:F},E=gt?e:void 0,T;typeof s=="function"?T=s(O):T=[s,gt?"active":null,wt?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let w=typeof c=="function"?c(O):c;return K.createElement(bv,{...p,"aria-current":E,className:T,ref:A,style:w,to:d,viewTransition:g},typeof y=="function"?y(O):y)});pA.displayName="NavLink";var gA=K.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:d=ac,action:g,onSubmit:y,relative:p,preventScrollReset:A,viewTransition:R,...C},P)=>{let H=TA(),$=AA(g,{relative:p}),F=d.toLowerCase()==="get"?"get":"post",nt=typeof g=="string"&&Sv.test(g),at=st=>{if(y&&y(st),st.defaultPrevented)return;st.preventDefault();let Et=st.nativeEvent.submitter,gt=Et?.getAttribute("formmethod")||d;H(Et||st.currentTarget,{fetcherKey:e,method:gt,navigate:i,replace:o,state:c,relative:p,preventScrollReset:A,viewTransition:R})};return K.createElement("form",{ref:P,method:F,action:$,onSubmit:s?y:at,...C,"data-discover":!nt&&r==="render"?"true":void 0})});gA.displayName="Form";function yA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wv(r){let e=K.useContext(zs);return ve(e,yA(r)),e}function _A(r,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let g=gv(),y=Kr(),p=bo(r,{relative:c});return K.useCallback(A=>{if($1(A,e)){A.preventDefault();let R=i!==void 0?i:fo(y)===fo(p);g(r,{replace:R,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[y,g,p,i,s,e,r,o,c,d])}var vA=0,EA=()=>`__${String(++vA)}__`;function TA(){let{router:r}=wv("useSubmit"),{basename:e}=K.useContext(ii),i=z1();return K.useCallback(async(s,o={})=>{let{action:c,method:d,encType:g,formData:y,body:p}=W1(s,e);if(o.navigate===!1){let A=o.fetcherKey||EA();await r.fetch(A,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||d,formEncType:o.encType||g,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||d,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,i])}function AA(r,{relative:e}={}){let{basename:i}=K.useContext(ii),s=K.useContext(ri);ve(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...bo(r||".",{relative:e})},d=Kr();if(r==null){c.search=d.search;let g=new URLSearchParams(c.search),y=g.getAll("index");if(y.some(A=>A==="")){g.delete("index"),y.filter(R=>R).forEach(R=>g.append("index",R));let A=g.toString();c.search=A?`?${A}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:er([i,c.pathname])),fo(c)}function SA(r,e={}){let i=K.useContext(dv);ve(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=wv("useViewTransitionState"),o=bo(r,{relative:e.relative});if(!i.isTransitioning)return!1;let c=ir(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=ir(i.nextLocation.pathname,s)||i.nextLocation.pathname;return mc(o.pathname,d)!=null||mc(o.pathname,c)!=null}const bA=()=>{};var Zy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},wA=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Cv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,y=o+2<r.length,p=y?r[o+2]:0,A=c>>2,R=(c&3)<<4|g>>4;let C=(g&15)<<2|p>>6,P=p&63;y||(P=64,d||(C=64)),s.push(i[A],i[R],i[C],i[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Rv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):wA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const p=o<r.length?i[r.charAt(o)]:64;++o;const R=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||p==null||R==null)throw new RA;const C=c<<2|g>>4;if(s.push(C),p!==64){const P=g<<4&240|p>>2;if(s.push(P),R!==64){const H=p<<6&192|R;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class RA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CA=function(r){const e=Rv(r);return Cv.encodeByteArray(e,!0)},pc=function(r){return CA(r).replace(/\./g,"")},DA=function(r){try{return Cv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=()=>xA().__FIREBASE_DEFAULTS__,VA=()=>{if(typeof process>"u"||typeof Zy>"u")return;const r=Zy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},NA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&DA(r[1]);return e&&JSON.parse(e)},Hd=()=>{try{return bA()||IA()||VA()||NA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},OA=r=>{var e,i;return(i=(e=Hd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},MA=r=>{const e=OA(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Dv=()=>{var r;return(r=Hd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function PA(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[pc(JSON.stringify(i)),pc(JSON.stringify(d)),""].join(".")}const lo={};function kA(){const r={prod:[],emulator:[]};for(const e of Object.keys(lo))lo[e]?r.emulator.push(e):r.prod.push(e);return r}function zA(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Jy=!1;function BA(r,e){if(typeof window>"u"||typeof document>"u"||!Fd(window.location.host)||lo[r]===e||lo[r]||Jy)return;lo[r]=e;function i(C){return`__firebase__banner__${C}`}const s="__firebase__banner",c=kA().prod.length>0;function d(){const C=document.getElementById(s);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function y(C,P){C.setAttribute("width","24"),C.setAttribute("id",P),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function p(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{Jy=!0,d()},C}function A(C,P){C.setAttribute("id",P),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function R(){const C=zA(s),P=i("text"),H=document.getElementById(P)||document.createElement("span"),$=i("learnmore"),F=document.getElementById($)||document.createElement("a"),nt=i("preprendIcon"),at=document.getElementById(nt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const st=C.element;g(st),A(F,$);const Et=p();y(at,nt),st.append(at,H,F,Et),document.body.appendChild(st)}c?(H.innerText="Preview backend disconnected.",at.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(at.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qA(){var r;const e=(r=Hd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HA(){return!qA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FA(){try{return typeof indexedDB=="object"}catch{return!1}}function GA(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="FirebaseError";class js extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=QA,Object.setPrototypeOf(this,js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xv.prototype.create)}}class xv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?YA(c,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new js(o,g,s)}}function YA(r,e){return r.replace(KA,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const KA=/\{\$([^}]+)}/g;function gc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=r[o],d=e[o];if(Wy(c)&&Wy(d)){if(!gc(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Wy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(r){return r&&r._delegate?r._delegate:r}class mo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new LA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(i=e?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZA(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$A(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $A(r){return r===Da?void 0:r}function ZA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new XA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Kt||(Kt={}));const WA={debug:Kt.DEBUG,verbose:Kt.VERBOSE,info:Kt.INFO,warn:Kt.WARN,error:Kt.ERROR,silent:Kt.SILENT},tS=Kt.INFO,eS={[Kt.DEBUG]:"log",[Kt.VERBOSE]:"log",[Kt.INFO]:"info",[Kt.WARN]:"warn",[Kt.ERROR]:"error"},nS=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=eS[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Iv{constructor(e){this.name=e,this._logLevel=tS,this._logHandler=nS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Kt.DEBUG,...e),this._logHandler(this,Kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Kt.VERBOSE,...e),this._logHandler(this,Kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Kt.INFO,...e),this._logHandler(this,Kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Kt.WARN,...e),this._logHandler(this,Kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Kt.ERROR,...e),this._logHandler(this,Kt.ERROR,...e)}}const iS=(r,e)=>e.some(i=>r instanceof i);let t_,e_;function rS(){return t_||(t_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aS(){return e_||(e_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vv=new WeakMap,fd=new WeakMap,Nv=new WeakMap,nd=new WeakMap,Gd=new WeakMap;function sS(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Ur(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Vv.set(i,r)}).catch(()=>{}),Gd.set(e,r),e}function lS(r){if(fd.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});fd.set(r,e)}let dd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return fd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Nv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ur(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function oS(r){dd=r(dd)}function uS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(id(this),e,...i);return Nv.set(s,e.sort?e.sort():[e]),Ur(s)}:aS().includes(r)?function(...e){return r.apply(id(this),e),Ur(Vv.get(this))}:function(...e){return Ur(r.apply(id(this),e))}}function cS(r){return typeof r=="function"?uS(r):(r instanceof IDBTransaction&&lS(r),iS(r,rS())?new Proxy(r,dd):r)}function Ur(r){if(r instanceof IDBRequest)return sS(r);if(nd.has(r))return nd.get(r);const e=cS(r);return e!==r&&(nd.set(r,e),Gd.set(e,r)),e}const id=r=>Gd.get(r);function hS(r,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),g=Ur(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Ur(d.result),y.oldVersion,y.newVersion,Ur(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const fS=["get","getKey","getAll","getAllKeys","count"],dS=["put","add","delete","clear"],rd=new Map;function n_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(rd.get(e))return rd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=dS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||fS.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let p=y.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),o&&y.done]))[0]};return rd.set(e,c),c}oS(r=>({...r,get:(e,i,s)=>n_(e,i)||r.get(e,i,s),has:(e,i)=>!!n_(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(pS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function pS(r){const e=r.getComponent();return e?.type==="VERSION"}const md="@firebase/app",i_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new Iv("@firebase/app"),gS="@firebase/app-compat",yS="@firebase/analytics-compat",_S="@firebase/analytics",vS="@firebase/app-check-compat",ES="@firebase/app-check",TS="@firebase/auth",AS="@firebase/auth-compat",SS="@firebase/database",bS="@firebase/data-connect",wS="@firebase/database-compat",RS="@firebase/functions",CS="@firebase/functions-compat",DS="@firebase/installations",xS="@firebase/installations-compat",IS="@firebase/messaging",VS="@firebase/messaging-compat",NS="@firebase/performance",OS="@firebase/performance-compat",MS="@firebase/remote-config",LS="@firebase/remote-config-compat",PS="@firebase/storage",US="@firebase/storage-compat",kS="@firebase/firestore",zS="@firebase/ai",BS="@firebase/firestore-compat",jS="firebase",qS="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="[DEFAULT]",HS={[md]:"fire-core",[gS]:"fire-core-compat",[_S]:"fire-analytics",[yS]:"fire-analytics-compat",[ES]:"fire-app-check",[vS]:"fire-app-check-compat",[TS]:"fire-auth",[AS]:"fire-auth-compat",[SS]:"fire-rtdb",[bS]:"fire-data-connect",[wS]:"fire-rtdb-compat",[RS]:"fire-fn",[CS]:"fire-fn-compat",[DS]:"fire-iid",[xS]:"fire-iid-compat",[IS]:"fire-fcm",[VS]:"fire-fcm-compat",[NS]:"fire-perf",[OS]:"fire-perf-compat",[MS]:"fire-rc",[LS]:"fire-rc-compat",[PS]:"fire-gcs",[US]:"fire-gcs-compat",[kS]:"fire-fst",[BS]:"fire-fst-compat",[zS]:"fire-vertex","fire-js":"fire-js",[jS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=new Map,FS=new Map,gd=new Map;function r_(r,e){try{r.container.addComponent(e)}catch(i){ar.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function _c(r){const e=r.name;if(gd.has(e))return ar.debug(`There were multiple attempts to register component ${e}.`),!1;gd.set(e,r);for(const i of yc.values())r_(i,r);for(const i of FS.values())r_(i,r);return!0}function GS(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function QS(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kr=new xv("app","Firebase",YS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=qS;function Ov(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:pd,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw kr.create("bad-app-name",{appName:String(o)});if(i||(i=Dv()),!i)throw kr.create("no-options");const c=yc.get(o);if(c){if(gc(i,c.options)&&gc(s,c.config))return c;throw kr.create("duplicate-app",{appName:o})}const d=new JA(o);for(const y of gd.values())d.addComponent(y);const g=new KS(i,s,d);return yc.set(o,g),g}function $S(r=pd){const e=yc.get(r);if(!e&&r===pd&&Dv())return Ov();if(!e)throw kr.create("no-app",{appName:r});return e}function Is(r,e,i){var s;let o=(s=HS[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const g=[`Unable to register library "${o}" with version "${e}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ar.warn(g.join(" "));return}_c(new mo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="firebase-heartbeat-database",JS=1,po="firebase-heartbeat-store";let ad=null;function Mv(){return ad||(ad=hS(ZS,JS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(po)}catch(i){console.warn(i)}}}}).catch(r=>{throw kr.create("idb-open",{originalErrorMessage:r.message})})),ad}async function WS(r){try{const i=(await Mv()).transaction(po),s=await i.objectStore(po).get(Lv(r));return await i.done,s}catch(e){if(e instanceof js)ar.warn(e.message);else{const i=kr.create("idb-get",{originalErrorMessage:e?.message});ar.warn(i.message)}}}async function a_(r,e){try{const s=(await Mv()).transaction(po,"readwrite");await s.objectStore(po).put(e,Lv(r)),await s.done}catch(i){if(i instanceof js)ar.warn(i.message);else{const s=kr.create("idb-set",{originalErrorMessage:i?.message});ar.warn(s.message)}}}function Lv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=1024,eb=30;class nb{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new rb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=s_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>eb){const d=ab(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ar.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=s_(),{heartbeatsToSend:s,unsentEntries:o}=ib(this._heartbeatsCache.heartbeats),c=pc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return ar.warn(i),""}}}function s_(){return new Date().toISOString().substring(0,10)}function ib(r,e=tb){const i=[];let s=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),l_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),l_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class rb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FA()?GA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await WS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return a_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return a_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function l_(r){return pc(JSON.stringify({version:2,heartbeats:r})).length}function ab(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(r){_c(new mo("platform-logger",e=>new mS(e),"PRIVATE")),_c(new mo("heartbeat",e=>new nb(e),"PRIVATE")),Is(md,i_,r),Is(md,i_,"esm2017"),Is("fire-js","")}sb("");var lb="firebase",ob="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Is(lb,ob,"app");var o_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zr,Pv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,E){function T(){}T.prototype=E.prototype,O.D=E.prototype,O.prototype=new T,O.prototype.constructor=O,O.C=function(w,x,I){for(var D=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)D[Ut-2]=arguments[Ut];return E.prototype[x].apply(w,D)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,E,T){T||(T=0);var w=Array(16);if(typeof E=="string")for(var x=0;16>x;++x)w[x]=E.charCodeAt(T++)|E.charCodeAt(T++)<<8|E.charCodeAt(T++)<<16|E.charCodeAt(T++)<<24;else for(x=0;16>x;++x)w[x]=E[T++]|E[T++]<<8|E[T++]<<16|E[T++]<<24;E=O.g[0],T=O.g[1],x=O.g[2];var I=O.g[3],D=E+(I^T&(x^I))+w[0]+3614090360&4294967295;E=T+(D<<7&4294967295|D>>>25),D=I+(x^E&(T^x))+w[1]+3905402710&4294967295,I=E+(D<<12&4294967295|D>>>20),D=x+(T^I&(E^T))+w[2]+606105819&4294967295,x=I+(D<<17&4294967295|D>>>15),D=T+(E^x&(I^E))+w[3]+3250441966&4294967295,T=x+(D<<22&4294967295|D>>>10),D=E+(I^T&(x^I))+w[4]+4118548399&4294967295,E=T+(D<<7&4294967295|D>>>25),D=I+(x^E&(T^x))+w[5]+1200080426&4294967295,I=E+(D<<12&4294967295|D>>>20),D=x+(T^I&(E^T))+w[6]+2821735955&4294967295,x=I+(D<<17&4294967295|D>>>15),D=T+(E^x&(I^E))+w[7]+4249261313&4294967295,T=x+(D<<22&4294967295|D>>>10),D=E+(I^T&(x^I))+w[8]+1770035416&4294967295,E=T+(D<<7&4294967295|D>>>25),D=I+(x^E&(T^x))+w[9]+2336552879&4294967295,I=E+(D<<12&4294967295|D>>>20),D=x+(T^I&(E^T))+w[10]+4294925233&4294967295,x=I+(D<<17&4294967295|D>>>15),D=T+(E^x&(I^E))+w[11]+2304563134&4294967295,T=x+(D<<22&4294967295|D>>>10),D=E+(I^T&(x^I))+w[12]+1804603682&4294967295,E=T+(D<<7&4294967295|D>>>25),D=I+(x^E&(T^x))+w[13]+4254626195&4294967295,I=E+(D<<12&4294967295|D>>>20),D=x+(T^I&(E^T))+w[14]+2792965006&4294967295,x=I+(D<<17&4294967295|D>>>15),D=T+(E^x&(I^E))+w[15]+1236535329&4294967295,T=x+(D<<22&4294967295|D>>>10),D=E+(x^I&(T^x))+w[1]+4129170786&4294967295,E=T+(D<<5&4294967295|D>>>27),D=I+(T^x&(E^T))+w[6]+3225465664&4294967295,I=E+(D<<9&4294967295|D>>>23),D=x+(E^T&(I^E))+w[11]+643717713&4294967295,x=I+(D<<14&4294967295|D>>>18),D=T+(I^E&(x^I))+w[0]+3921069994&4294967295,T=x+(D<<20&4294967295|D>>>12),D=E+(x^I&(T^x))+w[5]+3593408605&4294967295,E=T+(D<<5&4294967295|D>>>27),D=I+(T^x&(E^T))+w[10]+38016083&4294967295,I=E+(D<<9&4294967295|D>>>23),D=x+(E^T&(I^E))+w[15]+3634488961&4294967295,x=I+(D<<14&4294967295|D>>>18),D=T+(I^E&(x^I))+w[4]+3889429448&4294967295,T=x+(D<<20&4294967295|D>>>12),D=E+(x^I&(T^x))+w[9]+568446438&4294967295,E=T+(D<<5&4294967295|D>>>27),D=I+(T^x&(E^T))+w[14]+3275163606&4294967295,I=E+(D<<9&4294967295|D>>>23),D=x+(E^T&(I^E))+w[3]+4107603335&4294967295,x=I+(D<<14&4294967295|D>>>18),D=T+(I^E&(x^I))+w[8]+1163531501&4294967295,T=x+(D<<20&4294967295|D>>>12),D=E+(x^I&(T^x))+w[13]+2850285829&4294967295,E=T+(D<<5&4294967295|D>>>27),D=I+(T^x&(E^T))+w[2]+4243563512&4294967295,I=E+(D<<9&4294967295|D>>>23),D=x+(E^T&(I^E))+w[7]+1735328473&4294967295,x=I+(D<<14&4294967295|D>>>18),D=T+(I^E&(x^I))+w[12]+2368359562&4294967295,T=x+(D<<20&4294967295|D>>>12),D=E+(T^x^I)+w[5]+4294588738&4294967295,E=T+(D<<4&4294967295|D>>>28),D=I+(E^T^x)+w[8]+2272392833&4294967295,I=E+(D<<11&4294967295|D>>>21),D=x+(I^E^T)+w[11]+1839030562&4294967295,x=I+(D<<16&4294967295|D>>>16),D=T+(x^I^E)+w[14]+4259657740&4294967295,T=x+(D<<23&4294967295|D>>>9),D=E+(T^x^I)+w[1]+2763975236&4294967295,E=T+(D<<4&4294967295|D>>>28),D=I+(E^T^x)+w[4]+1272893353&4294967295,I=E+(D<<11&4294967295|D>>>21),D=x+(I^E^T)+w[7]+4139469664&4294967295,x=I+(D<<16&4294967295|D>>>16),D=T+(x^I^E)+w[10]+3200236656&4294967295,T=x+(D<<23&4294967295|D>>>9),D=E+(T^x^I)+w[13]+681279174&4294967295,E=T+(D<<4&4294967295|D>>>28),D=I+(E^T^x)+w[0]+3936430074&4294967295,I=E+(D<<11&4294967295|D>>>21),D=x+(I^E^T)+w[3]+3572445317&4294967295,x=I+(D<<16&4294967295|D>>>16),D=T+(x^I^E)+w[6]+76029189&4294967295,T=x+(D<<23&4294967295|D>>>9),D=E+(T^x^I)+w[9]+3654602809&4294967295,E=T+(D<<4&4294967295|D>>>28),D=I+(E^T^x)+w[12]+3873151461&4294967295,I=E+(D<<11&4294967295|D>>>21),D=x+(I^E^T)+w[15]+530742520&4294967295,x=I+(D<<16&4294967295|D>>>16),D=T+(x^I^E)+w[2]+3299628645&4294967295,T=x+(D<<23&4294967295|D>>>9),D=E+(x^(T|~I))+w[0]+4096336452&4294967295,E=T+(D<<6&4294967295|D>>>26),D=I+(T^(E|~x))+w[7]+1126891415&4294967295,I=E+(D<<10&4294967295|D>>>22),D=x+(E^(I|~T))+w[14]+2878612391&4294967295,x=I+(D<<15&4294967295|D>>>17),D=T+(I^(x|~E))+w[5]+4237533241&4294967295,T=x+(D<<21&4294967295|D>>>11),D=E+(x^(T|~I))+w[12]+1700485571&4294967295,E=T+(D<<6&4294967295|D>>>26),D=I+(T^(E|~x))+w[3]+2399980690&4294967295,I=E+(D<<10&4294967295|D>>>22),D=x+(E^(I|~T))+w[10]+4293915773&4294967295,x=I+(D<<15&4294967295|D>>>17),D=T+(I^(x|~E))+w[1]+2240044497&4294967295,T=x+(D<<21&4294967295|D>>>11),D=E+(x^(T|~I))+w[8]+1873313359&4294967295,E=T+(D<<6&4294967295|D>>>26),D=I+(T^(E|~x))+w[15]+4264355552&4294967295,I=E+(D<<10&4294967295|D>>>22),D=x+(E^(I|~T))+w[6]+2734768916&4294967295,x=I+(D<<15&4294967295|D>>>17),D=T+(I^(x|~E))+w[13]+1309151649&4294967295,T=x+(D<<21&4294967295|D>>>11),D=E+(x^(T|~I))+w[4]+4149444226&4294967295,E=T+(D<<6&4294967295|D>>>26),D=I+(T^(E|~x))+w[11]+3174756917&4294967295,I=E+(D<<10&4294967295|D>>>22),D=x+(E^(I|~T))+w[2]+718787259&4294967295,x=I+(D<<15&4294967295|D>>>17),D=T+(I^(x|~E))+w[9]+3951481745&4294967295,O.g[0]=O.g[0]+E&4294967295,O.g[1]=O.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+x&4294967295,O.g[3]=O.g[3]+I&4294967295}s.prototype.u=function(O,E){E===void 0&&(E=O.length);for(var T=E-this.blockSize,w=this.B,x=this.h,I=0;I<E;){if(x==0)for(;I<=T;)o(this,O,I),I+=this.blockSize;if(typeof O=="string"){for(;I<E;)if(w[x++]=O.charCodeAt(I++),x==this.blockSize){o(this,w),x=0;break}}else for(;I<E;)if(w[x++]=O[I++],x==this.blockSize){o(this,w),x=0;break}}this.h=x,this.o+=E},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var E=1;E<O.length-8;++E)O[E]=0;var T=8*this.o;for(E=O.length-8;E<O.length;++E)O[E]=T&255,T/=256;for(this.u(O),O=Array(16),E=T=0;4>E;++E)for(var w=0;32>w;w+=8)O[T++]=this.g[E]>>>w&255;return O};function c(O,E){var T=g;return Object.prototype.hasOwnProperty.call(T,O)?T[O]:T[O]=E(O)}function d(O,E){this.h=E;for(var T=[],w=!0,x=O.length-1;0<=x;x--){var I=O[x]|0;w&&I==E||(T[x]=I,w=!1)}this.g=T}var g={};function y(O){return-128<=O&&128>O?c(O,function(E){return new d([E|0],0>E?-1:0)}):new d([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return R;if(0>O)return F(p(-O));for(var E=[],T=1,w=0;O>=T;w++)E[w]=O/T|0,T*=4294967296;return new d(E,0)}function A(O,E){if(O.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(O.charAt(0)=="-")return F(A(O.substring(1),E));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=p(Math.pow(E,8)),w=R,x=0;x<O.length;x+=8){var I=Math.min(8,O.length-x),D=parseInt(O.substring(x,x+I),E);8>I?(I=p(Math.pow(E,I)),w=w.j(I).add(p(D))):(w=w.j(T),w=w.add(p(D)))}return w}var R=y(0),C=y(1),P=y(16777216);r=d.prototype,r.m=function(){if($(this))return-F(this).m();for(var O=0,E=1,T=0;T<this.g.length;T++){var w=this.i(T);O+=(0<=w?w:4294967296+w)*E,E*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(H(this))return"0";if($(this))return"-"+F(this).toString(O);for(var E=p(Math.pow(O,6)),T=this,w="";;){var x=Et(T,E).g;T=nt(T,x.j(E));var I=((0<T.g.length?T.g[0]:T.h)>>>0).toString(O);if(T=x,H(T))return I+w;for(;6>I.length;)I="0"+I;w=I+w}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function H(O){if(O.h!=0)return!1;for(var E=0;E<O.g.length;E++)if(O.g[E]!=0)return!1;return!0}function $(O){return O.h==-1}r.l=function(O){return O=nt(this,O),$(O)?-1:H(O)?0:1};function F(O){for(var E=O.g.length,T=[],w=0;w<E;w++)T[w]=~O.g[w];return new d(T,~O.h).add(C)}r.abs=function(){return $(this)?F(this):this},r.add=function(O){for(var E=Math.max(this.g.length,O.g.length),T=[],w=0,x=0;x<=E;x++){var I=w+(this.i(x)&65535)+(O.i(x)&65535),D=(I>>>16)+(this.i(x)>>>16)+(O.i(x)>>>16);w=D>>>16,I&=65535,D&=65535,T[x]=D<<16|I}return new d(T,T[T.length-1]&-2147483648?-1:0)};function nt(O,E){return O.add(F(E))}r.j=function(O){if(H(this)||H(O))return R;if($(this))return $(O)?F(this).j(F(O)):F(F(this).j(O));if($(O))return F(this.j(F(O)));if(0>this.l(P)&&0>O.l(P))return p(this.m()*O.m());for(var E=this.g.length+O.g.length,T=[],w=0;w<2*E;w++)T[w]=0;for(w=0;w<this.g.length;w++)for(var x=0;x<O.g.length;x++){var I=this.i(w)>>>16,D=this.i(w)&65535,Ut=O.i(x)>>>16,jt=O.i(x)&65535;T[2*w+2*x]+=D*jt,at(T,2*w+2*x),T[2*w+2*x+1]+=I*jt,at(T,2*w+2*x+1),T[2*w+2*x+1]+=D*Ut,at(T,2*w+2*x+1),T[2*w+2*x+2]+=I*Ut,at(T,2*w+2*x+2)}for(w=0;w<E;w++)T[w]=T[2*w+1]<<16|T[2*w];for(w=E;w<2*E;w++)T[w]=0;return new d(T,0)};function at(O,E){for(;(O[E]&65535)!=O[E];)O[E+1]+=O[E]>>>16,O[E]&=65535,E++}function st(O,E){this.g=O,this.h=E}function Et(O,E){if(H(E))throw Error("division by zero");if(H(O))return new st(R,R);if($(O))return E=Et(F(O),E),new st(F(E.g),F(E.h));if($(E))return E=Et(O,F(E)),new st(F(E.g),E.h);if(30<O.g.length){if($(O)||$(E))throw Error("slowDivide_ only works with positive integers.");for(var T=C,w=E;0>=w.l(O);)T=gt(T),w=gt(w);var x=wt(T,1),I=wt(w,1);for(w=wt(w,2),T=wt(T,2);!H(w);){var D=I.add(w);0>=D.l(O)&&(x=x.add(T),I=D),w=wt(w,1),T=wt(T,1)}return E=nt(O,x.j(E)),new st(x,E)}for(x=R;0<=O.l(E);){for(T=Math.max(1,Math.floor(O.m()/E.m())),w=Math.ceil(Math.log(T)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),I=p(T),D=I.j(E);$(D)||0<D.l(O);)T-=w,I=p(T),D=I.j(E);H(I)&&(I=C),x=x.add(I),O=nt(O,D)}return new st(x,O)}r.A=function(O){return Et(this,O).h},r.and=function(O){for(var E=Math.max(this.g.length,O.g.length),T=[],w=0;w<E;w++)T[w]=this.i(w)&O.i(w);return new d(T,this.h&O.h)},r.or=function(O){for(var E=Math.max(this.g.length,O.g.length),T=[],w=0;w<E;w++)T[w]=this.i(w)|O.i(w);return new d(T,this.h|O.h)},r.xor=function(O){for(var E=Math.max(this.g.length,O.g.length),T=[],w=0;w<E;w++)T[w]=this.i(w)^O.i(w);return new d(T,this.h^O.h)};function gt(O){for(var E=O.g.length+1,T=[],w=0;w<E;w++)T[w]=O.i(w)<<1|O.i(w-1)>>>31;return new d(T,O.h)}function wt(O,E){var T=E>>5;E%=32;for(var w=O.g.length-T,x=[],I=0;I<w;I++)x[I]=0<E?O.i(I+T)>>>E|O.i(I+T+1)<<32-E:O.i(I+T);return new d(x,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Pv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=A,zr=d}).apply(typeof o_<"u"?o_:typeof self<"u"?self:typeof window<"u"?window:{});var tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uv,io,kv,lc,yd,zv,Bv,jv;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof tc=="object"&&tc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var _=s;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in _))break t;_=_[U]}u=u[u.length-1],b=_[u],m=m(b),m!=b&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,b=!1,U={next:function(){if(!b&&_<u.length){var Q=_++;return{value:m(Q,u[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,_){return u.call.apply(u.bind,arguments)}function R(u,m,_){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,b),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function C(u,m,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:R,C.apply(null,arguments)}function P(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function H(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(b,U,Q){for(var lt=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)lt[Ft-2]=arguments[Ft];return m.prototype[U].apply(b,lt)}}function $(u){const m=u.length;if(0<m){const _=Array(m);for(let b=0;b<m;b++)_[b]=u[b];return _}return[]}function F(u,m){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(y(b)){const U=u.length||0,Q=b.length||0;u.length=U+Q;for(let lt=0;lt<Q;lt++)u[U+lt]=b[lt]}else u.push(b)}}class nt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function at(u){return/^[\s\xa0]*$/.test(u)}function st(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Et(u){return Et[" "](u),u}Et[" "]=function(){};var gt=st().indexOf("Gecko")!=-1&&!(st().toLowerCase().indexOf("webkit")!=-1&&st().indexOf("Edge")==-1)&&!(st().indexOf("Trident")!=-1||st().indexOf("MSIE")!=-1)&&st().indexOf("Edge")==-1;function wt(u,m,_){for(const b in u)m.call(_,u[b],b,u)}function O(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function E(u){const m={};for(const _ in u)m[_]=u[_];return m}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(u,m){let _,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(_ in b)u[_]=b[_];for(let Q=0;Q<T.length;Q++)_=T[Q],Object.prototype.hasOwnProperty.call(b,_)&&(u[_]=b[_])}}function x(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function I(u){g.setTimeout(()=>{throw u},0)}function D(){var u=ut;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ut{constructor(){this.h=this.g=null}add(m,_){const b=jt.get();b.set(m,_),this.h?this.h.next=b:this.g=b,this.h=b}}var jt=new nt(()=>new Y,u=>u.reset());class Y{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let W,ot=!1,ut=new Ut,N=()=>{const u=g.Promise.resolve(void 0);W=()=>{u.then(q)}};var q=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(_){I(_)}var m=jt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ot=!1};function tt(){this.s=this.s,this.C=this.C}tt.prototype.s=!1,tt.prototype.ma=function(){this.s||(this.s=!0,this.N())},tt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function yt(u,m){if(G.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(gt){t:{try{Et(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:dt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&yt.aa.h.call(this)}}H(yt,G);var dt={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Jt="closure_listenable_"+(1e6*Math.random()|0),pt=0;function It(u,m,_,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!b,this.ha=U,this.key=++pt,this.da=this.fa=!1}function Wt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Rt(u){this.src=u,this.g={},this.h=0}Rt.prototype.add=function(u,m,_,b,U){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var lt=fe(u,m,b,U);return-1<lt?(m=u[lt],_||(m.fa=!1)):(m=new It(m,this.src,Q,!!b,U),m.fa=_,u.push(m)),m};function Xt(u,m){var _=m.type;if(_ in u.g){var b=u.g[_],U=Array.prototype.indexOf.call(b,m,void 0),Q;(Q=0<=U)&&Array.prototype.splice.call(b,U,1),Q&&(Wt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function fe(u,m,_,b){for(var U=0;U<u.length;++U){var Q=u[U];if(!Q.da&&Q.listener==m&&Q.capture==!!_&&Q.ha==b)return U}return-1}var $t="closure_lm_"+(1e6*Math.random()|0),qt={};function Vt(u,m,_,b,U){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)Vt(u,m[Q],_,b,U);return null}return _=fn(_),u&&u[Jt]?u.K(m,_,p(b)?!!b.capture:!1,U):re(u,m,_,!1,b,U)}function re(u,m,_,b,U,Q){if(!m)throw Error("Invalid event type");var lt=p(U)?!!U.capture:!!U,Ft=Mn(u);if(Ft||(u[$t]=Ft=new Rt(u)),_=Ft.add(m,_,b,lt,Q),_.proxy)return _;if(b=Ht(),_.proxy=b,b.src=u,b.listener=_,u.addEventListener)ct||(U=lt),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(yn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ht(){function u(_){return m.call(u.src,u.listener,_)}const m=_n;return u}function ee(u,m,_,b,U){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)ee(u,m[Q],_,b,U);else b=p(b)?!!b.capture:!!b,_=fn(_),u&&u[Jt]?(u=u.i,m=String(m).toString(),m in u.g&&(Q=u.g[m],_=fe(Q,_,b,U),-1<_&&(Wt(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Mn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=fe(m,_,b,U)),(_=-1<u?m[u]:null)&&de(_))}function de(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Jt])Xt(m.i,u);else{var _=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(_,b,u.capture):m.detachEvent?m.detachEvent(yn(_),b):m.addListener&&m.removeListener&&m.removeListener(b),(_=Mn(m))?(Xt(_,u),_.h==0&&(_.src=null,m[$t]=null)):Wt(u)}}}function yn(u){return u in qt?qt[u]:qt[u]="on"+u}function _n(u,m){if(u.da)u=!0;else{m=new yt(m,this);var _=u.listener,b=u.ha||u.src;u.fa&&de(u),u=_.call(b,m)}return u}function Mn(u){return u=u[$t],u instanceof Rt?u:null}var Se="__closure_events_fn_"+(1e9*Math.random()>>>0);function fn(u){return typeof u=="function"?u:(u[Se]||(u[Se]=function(m){return u.handleEvent(m)}),u[Se])}function Nt(){tt.call(this),this.i=new Rt(this),this.M=this,this.F=null}H(Nt,tt),Nt.prototype[Jt]=!0,Nt.prototype.removeEventListener=function(u,m,_,b){ee(this,u,m,_,b)};function Dt(u,m){var _,b=u.F;if(b)for(_=[];b;b=b.F)_.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new G(m,u);else if(m instanceof G)m.target=m.target||u;else{var U=m;m=new G(b,u),w(m,U)}if(U=!0,_)for(var Q=_.length-1;0<=Q;Q--){var lt=m.g=_[Q];U=Ee(lt,b,!0,m)&&U}if(lt=m.g=u,U=Ee(lt,b,!0,m)&&U,U=Ee(lt,b,!1,m)&&U,_)for(Q=0;Q<_.length;Q++)lt=m.g=_[Q],U=Ee(lt,b,!1,m)&&U}Nt.prototype.N=function(){if(Nt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],b=0;b<_.length;b++)Wt(_[b]);delete u.g[m],u.h--}}this.F=null},Nt.prototype.K=function(u,m,_,b){return this.i.add(String(u),m,!1,_,b)},Nt.prototype.L=function(u,m,_,b){return this.i.add(String(u),m,!0,_,b)};function Ee(u,m,_,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,Q=0;Q<m.length;++Q){var lt=m[Q];if(lt&&!lt.da&&lt.capture==_){var Ft=lt.listener,Be=lt.ha||lt.src;lt.fa&&Xt(u.i,lt),U=Ft.call(Be,b)!==!1&&U}}return U&&!b.defaultPrevented}function Ve(u,m,_){if(typeof u=="function")_&&(u=C(u,_));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Zr(u){u.g=Ve(()=>{u.g=null,u.i&&(u.i=!1,Zr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ai extends tt{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zr(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ge(u){tt.call(this),this.h=u,this.g={}}H(Ge,tt);var bn=[];function si(u){wt(u.g,function(m,_){this.g.hasOwnProperty(_)&&de(m)},u),u.g={}}Ge.prototype.N=function(){Ge.aa.N.call(this),si(this)},Ge.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xn=g.JSON.stringify,Pa=g.JSON.parse,Jr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ks(){}Ks.prototype.h=null;function Xs(u){return u.h||(u.h=u.i())}function $s(){}var Ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vi(){G.call(this,"d")}H(Vi,G);function Zs(){G.call(this,"c")}H(Zs,G);var li={},Js=null;function or(){return Js=Js||new Nt}li.La="serverreachability";function Ua(u){G.call(this,li.La,u)}H(Ua,G);function ur(u){const m=or();Dt(m,new Ua(m))}li.STAT_EVENT="statevent";function No(u,m){G.call(this,li.STAT_EVENT,u),this.stat=m}H(No,G);function ye(u){const m=or();Dt(m,new No(m,u))}li.Ma="timingevent";function ze(u,m){G.call(this,li.Ma,u),this.size=m}H(ze,G);function Ne(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.xa=function(){this.g=!1};function Ws(u,m,_,b,U,Q){u.info(function(){if(u.g)if(Q)for(var lt="",Ft=Q.split("&"),Be=0;Be<Ft.length;Be++){var Gt=Ft[Be].split("=");if(1<Gt.length){var Ye=Gt[0];Gt=Gt[1];var je=Ye.split("_");lt=2<=je.length&&je[1]=="type"?lt+(Ye+"="+Gt+"&"):lt+(Ye+"=redacted&")}}else lt=null;else lt=Q;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+_+`
`+lt})}function $c(u,m,_,b,U,Q,lt){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+_+`
`+Q+" "+lt})}function cr(u,m,_,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Wr(u,_)+(b?" "+b:"")})}function Oo(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function Wr(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var b=_[u];if(!(2>b.length)){var U=b[1];if(Array.isArray(U)&&!(1>U.length)){var Q=U[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var lt=1;lt<U.length;lt++)U[lt]=""}}}}return Xn(_)}catch{return m}}var hr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ni={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oi;function ui(){}H(ui,Ks),ui.prototype.g=function(){return new XMLHttpRequest},ui.prototype.i=function(){return{}},oi=new ui;function dn(u,m,_,b){this.j=u,this.i=m,this.l=_,this.R=b||1,this.U=new Ge(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}var tl={},ka={};function $n(u,m,_){u.L=1,u.v=ra(wn(m)),u.m=_,u.P=!0,Oi(u,null)}function Oi(u,m){u.F=Date.now(),ta(u),u.A=wn(u.v);var _=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),sl(_.i,"t",b),u.C=0,_=u.j.J,u.h=new Re,u.g=Xo(u.j,_?m:null,!u.m),0<u.O&&(u.M=new ai(C(u.Y,u,u.g),u.O)),m=u.U,_=u.g,b=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(bn[0]=U.toString()),U=bn);for(var Q=0;Q<U.length;Q++){var lt=Vt(_,U[Q],b||m.handleEvent,!1,m.h||m);if(!lt)break;m.g[lt.key]=lt}m=u.H?E(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),ur(),Ws(u.i,u.u,u.A,u.l,u.R,u.m)}dn.prototype.ca=function(u){u=u.target;const m=this.M;m&&zn(u)==3?m.j():this.Y(u)},dn.prototype.Y=function(u){try{if(u==this.g)t:{const je=zn(this.g);var m=this.g.Ba();const ji=this.g.Z();if(!(3>je)&&(je!=3||this.g&&(this.h.h||this.g.oa()||jo(this.g)))){this.J||je!=4||m==7||(m==8||0>=ji?ur(3):ur(2)),fr(this);var _=this.g.Z();this.X=_;e:if(Mo(this)){var b=jo(this.g);u="";var U=b.length,Q=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Je(this),ci(this);var lt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(b[m],{stream:!(Q&&m==U-1)});b.length=0,this.h.g+=u,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=_==200,$c(this.i,this.u,this.A,this.l,this.R,je,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ft,Be=this.g;if((Ft=Be.g?Be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!at(Ft)){var Gt=Ft;break e}}Gt=null}if(_=Gt)cr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ea(this,_);else{this.o=!1,this.s=3,ye(12),Je(this),ci(this);break t}}if(this.P){_=!0;let We;for(;!this.J&&this.C<lt.length;)if(We=Lo(this,lt),We==ka){je==4&&(this.s=4,ye(14),_=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(We==tl){this.s=4,ye(15),cr(this.i,this.l,lt,"[Invalid Chunk]"),_=!1;break}else cr(this.i,this.l,We,null),ea(this,We);if(Mo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||lt.length!=0||this.h.h||(this.s=1,ye(16),_=!1),this.o=this.o&&_,!_)cr(this.i,this.l,lt,"[Invalid Chunked Response]"),Je(this),ci(this);else if(0<lt.length&&!this.W){this.W=!0;var Ye=this.j;Ye.g==this&&Ye.ba&&!Ye.M&&(Ye.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),fa(Ye),Ye.M=!0,ye(11))}}else cr(this.i,this.l,lt,null),ea(this,lt);je==4&&Je(this),this.o&&!this.J&&(je==4?Qo(this.j,this):(this.o=!1,ta(this)))}else eh(this.g),_==400&&0<lt.indexOf("Unknown SID")?(this.s=3,ye(12)):(this.s=0,ye(13)),Je(this),ci(this)}}}catch{}finally{}};function Mo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Lo(u,m){var _=u.C,b=m.indexOf(`
`,_);return b==-1?ka:(_=Number(m.substring(_,b)),isNaN(_)?tl:(b+=1,b+_>m.length?ka:(m=m.slice(b,b+_),u.C=b+_,m)))}dn.prototype.cancel=function(){this.J=!0,Je(this)};function ta(u){u.S=Date.now()+u.I,Po(u,u.I)}function Po(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ne(C(u.ba,u),m)}function fr(u){u.B&&(g.clearTimeout(u.B),u.B=null)}dn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Oo(this.i,this.A),this.L!=2&&(ur(),ye(17)),Je(this),this.s=2,ci(this)):Po(this,this.S-u)};function ci(u){u.j.G==0||u.J||Qo(u.j,u)}function Je(u){fr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,si(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ea(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||el(_.h,u))){if(!u.K&&el(_.h,u)&&_.G==3){try{var b=_.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)$a(_),Ka(_);else break t;hl(_),ye(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ne(C(_.Za,_),6e3));if(1>=Ba(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Bi(_,11)}else if((u.K||_.g==u)&&$a(_),!at(m))for(U=_.Da.g.parse(m),m=0;m<U.length;m++){let Gt=U[m];if(_.T=Gt[0],Gt=Gt[1],_.G==2)if(Gt[0]=="c"){_.K=Gt[1],_.ia=Gt[2];const Ye=Gt[3];Ye!=null&&(_.la=Ye,_.j.info("VER="+_.la));const je=Gt[4];je!=null&&(_.Aa=je,_.j.info("SVER="+_.Aa));const ji=Gt[5];ji!=null&&typeof ji=="number"&&0<ji&&(b=1.5*ji,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const We=u.g;if(We){const yi=We.g?We.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yi){var Q=b.h;Q.g||yi.indexOf("spdy")==-1&&yi.indexOf("quic")==-1&&yi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ja(Q,Q.h),Q.h=null))}if(b.D){const dl=We.g?We.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(b.ya=dl,le(b.I,b.D,dl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var lt=u;if(b.qa=Ko(b,b.J?b.ia:null,b.W),lt.K){mn(b.h,lt);var Ft=lt,Be=b.L;Be&&(Ft.I=Be),Ft.B&&(fr(Ft),ta(Ft)),b.g=lt}else Fo(b);0<_.i.length&&Xa(_)}else Gt[0]!="stop"&&Gt[0]!="close"||Bi(_,7);else _.G==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Bi(_,7):ul(_):Gt[0]!="noop"&&_.l&&_.l.ta(Gt),_.v=0)}}ur(4)}catch{}}var Uo=class{constructor(u,m){this.g=u,this.map=m}};function Mi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function za(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ba(u){return u.h?1:u.g?u.g.size:0}function el(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ja(u,m){u.g?u.g.add(m):u.h=m}function mn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Mi.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function nl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return $(u.i)}function Zc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],_=u.length,b=0;b<_;b++)m.push(u[b]);return m}m=[],_=0;for(b in u)m[_++]=u[b];return m}function qa(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const b in u)m[_++]=b;return m}}}function il(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=qa(u),b=Zc(u),U=b.length,Q=0;Q<U;Q++)m.call(void 0,b[Q],_&&_[Q],u)}var na=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jc(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var b=u[_].indexOf("="),U=null;if(0<=b){var Q=u[_].substring(0,b);U=u[_].substring(b+1)}else Q=u[_];m(Q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Oe(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Oe){this.h=u.h,ia(this,u.j),this.o=u.o,this.g=u.g,dr(this,u.s),this.l=u.l;var m=u.i,_=new Pi;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Li(this,_),this.m=u.m}else u&&(m=String(u).match(na))?(this.h=!1,ia(this,m[1]||"",!0),this.o=Pn(m[2]||""),this.g=Pn(m[3]||"",!0),dr(this,m[4]),this.l=Pn(m[5]||"",!0),Li(this,m[6]||"",!0),this.m=Pn(m[7]||"")):(this.h=!1,this.i=new Pi(null,this.h))}Oe.prototype.toString=function(){var u=[],m=this.j;m&&u.push(aa(m,rl,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(aa(m,rl,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(aa(_,_.charAt(0)=="/"?Wc:al,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",aa(_,Ha)),u.join("")};function wn(u){return new Oe(u)}function ia(u,m,_){u.j=_?Pn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function dr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Li(u,m,_){m instanceof Pi?(u.i=m,zo(u.i,u.h)):(_||(m=aa(m,th)),u.i=new Pi(m,u.h))}function le(u,m,_){u.i.set(m,_)}function ra(u){return le(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Pn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function aa(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,ko),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ko(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var rl=/[#\/\?@]/g,al=/[#\?:]/g,Wc=/[#\?]/g,th=/[#\?@]/g,Ha=/#/g;function Pi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Un(u){u.g||(u.g=new Map,u.h=0,u.i&&Jc(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Pi.prototype,r.add=function(u,m){Un(this),this.i=null,u=hi(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Ui(u,m){Un(u),m=hi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ki(u,m){return Un(u),m=hi(u,m),u.g.has(m)}r.forEach=function(u,m){Un(this),this.g.forEach(function(_,b){_.forEach(function(U){u.call(m,U,b,this)},this)},this)},r.na=function(){Un(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let b=0;b<m.length;b++){const U=u[b];for(let Q=0;Q<U.length;Q++)_.push(m[b])}return _},r.V=function(u){Un(this);let m=[];if(typeof u=="string")ki(this,u)&&(m=m.concat(this.g.get(hi(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return Un(this),this.i=null,u=hi(this,u),ki(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function sl(u,m,_){Ui(u,m),0<_.length&&(u.i=null,u.g.set(hi(u,m),$(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var b=m[_];const Q=encodeURIComponent(String(b)),lt=this.V(b);for(b=0;b<lt.length;b++){var U=Q;lt[b]!==""&&(U+="="+encodeURIComponent(String(lt[b]))),u.push(U)}}return this.i=u.join("&")};function hi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function zo(u,m){m&&!u.j&&(Un(u),u.i=null,u.g.forEach(function(_,b){var U=b.toLowerCase();b!=U&&(Ui(this,b),sl(this,U,_))},u)),u.j=m}function sa(u,m){const _=new Ln;if(g.Image){const b=new Image;b.onload=P(kn,_,"TestLoadImage: loaded",!0,m,b),b.onerror=P(kn,_,"TestLoadImage: error",!1,m,b),b.onabort=P(kn,_,"TestLoadImage: abort",!1,m,b),b.ontimeout=P(kn,_,"TestLoadImage: timeout",!1,m,b),g.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Zn(u,m){const _=new Ln,b=new AbortController,U=setTimeout(()=>{b.abort(),kn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(Q=>{clearTimeout(U),Q.ok?kn(_,"TestPingServer: ok",!0,m):kn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),kn(_,"TestPingServer: error",!1,m)})}function kn(u,m,_,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(_)}catch{}}function la(){this.g=new Jr}function fi(u,m,_){const b=_||"";try{il(u,function(U,Q){let lt=U;p(U)&&(lt=Xn(U)),m.push(b+Q+"="+encodeURIComponent(lt))})}catch(U){throw m.push(b+"type="+encodeURIComponent("_badmap")),U}}function mr(u){this.l=u.Ub||null,this.j=u.eb||!1}H(mr,Ks),mr.prototype.g=function(){return new zi(this.l,this.j)},mr.prototype.i=function(u){return function(){return u}}({});function zi(u,m){Nt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(zi,Nt),r=zi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,mi(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ll(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ll(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?di(this):mi(this),this.readyState==3&&ll(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,di(this))},r.Qa=function(u){this.g&&(this.response=u,di(this))},r.ga=function(){this.g&&di(this)};function di(u){u.readyState=4,u.l=null,u.j=null,u.v=null,mi(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function mi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ol(u){let m="";return wt(u,function(_,b){m+=b,m+=":",m+=_,m+=`\r
`}),m}function Qe(u,m,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=ol(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):le(u,m,_))}function ne(u){Nt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(ne,Nt);var Fa=/^https?$/i,oa=["POST","PUT"];r=ne.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oi.g(),this.v=this.o?Xs(this.o):Xs(oi),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){Bo(this,Q);return}if(u=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)_.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())_.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(oa,m,void 0))||b||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,lt]of _)this.g.setRequestHeader(Q,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ua(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){Bo(this,Q)}};function Bo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ga(u),pi(u)}function Ga(u){u.A||(u.A=!0,Dt(u,"complete"),Dt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Dt(this,"complete"),Dt(this,"abort"),pi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pi(this,!0)),ne.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Qa(this):this.bb())},r.bb=function(){Qa(this)};function Qa(u){if(u.h&&typeof d<"u"&&(!u.v[1]||zn(u)!=4||u.Z()!=2)){if(u.u&&zn(u)==4)Ve(u.Ea,0,u);else if(Dt(u,"readystatechange"),zn(u)==4){u.h=!1;try{const lt=u.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var b;if(b=lt===0){var U=String(u.D).match(na)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),b=!Fa.test(U?U.toLowerCase():"")}_=b}if(_)Dt(u,"complete"),Dt(u,"success");else{u.m=6;try{var Q=2<zn(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",Ga(u)}}finally{pi(u)}}}}function pi(u,m){if(u.g){ua(u);const _=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Dt(u,"ready");try{_.onreadystatechange=b}catch{}}}function ua(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function zn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Pa(m)}};function jo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function eh(u){const m={};u=(u.g&&2<=zn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(at(u[b]))continue;var _=x(u[b]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=m[U]||[];m[U]=Q,Q.push(_)}O(m,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ca(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Ya(u){this.Aa=0,this.i=[],this.j=new Ln,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ca("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ca("baseRetryDelayMs",5e3,u),this.cb=ca("retryDelaySeedMs",1e4,u),this.Wa=ca("forwardChannelMaxRetries",2,u),this.wa=ca("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Mi(u&&u.concurrentRequestLimit),this.Da=new la,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ya.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,b){ye(0),this.W=u,this.H=m||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Ko(this,null,this.W),Xa(this)};function ul(u){if(qo(u),u.G==3){var m=u.U++,_=wn(u.I);if(le(_,"SID",u.K),le(_,"RID",m),le(_,"TYPE","terminate"),ha(u,_),m=new dn(u,u.j,m),m.L=2,m.v=ra(wn(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=Xo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ta(m)}Yo(u)}function Ka(u){u.g&&(fa(u),u.g.cancel(),u.g=null)}function qo(u){Ka(u),u.u&&(g.clearTimeout(u.u),u.u=null),$a(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Xa(u){if(!za(u.h)&&!u.s){u.s=!0;var m=u.Ga;W||N(),ot||(W(),ot=!0),ut.add(m,u),u.B=0}}function nh(u,m){return Ba(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ne(C(u.Ga,u,m),fl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new dn(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=E(Q),w(Q,this.S)):Q=this.S),this.m!==null||this.O||(U.H=Q,Q=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Ho(this,U,m),_=wn(this.I),le(_,"RID",u),le(_,"CVER",22),this.D&&le(_,"X-HTTP-Session-Id",this.D),ha(this,_),Q&&(this.O?m="headers="+encodeURIComponent(String(ol(Q)))+"&"+m:this.m&&Qe(_,this.m,Q)),ja(this.h,U),this.Ua&&le(_,"TYPE","init"),this.P?(le(_,"$req",m),le(_,"SID","null"),U.T=!0,$n(U,_,null)):$n(U,_,m),this.G=2}}else this.G==3&&(u?cl(this,u):this.i.length==0||za(this.h)||cl(this))};function cl(u,m){var _;m?_=m.l:_=u.U++;const b=wn(u.I);le(b,"SID",u.K),le(b,"RID",_),le(b,"AID",u.T),ha(u,b),u.m&&u.o&&Qe(b,u.m,u.o),_=new dn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ho(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ja(u.h,_),$n(_,b,m)}function ha(u,m){u.H&&wt(u.H,function(_,b){le(m,b,_)}),u.l&&il({},function(_,b){le(m,b,_)})}function Ho(u,m,_){_=Math.min(u.i.length,_);var b=u.l?C(u.l.Na,u.l,u):null;t:{var U=u.i;let Q=-1;for(;;){const lt=["count="+_];Q==-1?0<_?(Q=U[0].g,lt.push("ofs="+Q)):Q=0:lt.push("ofs="+Q);let Ft=!0;for(let Be=0;Be<_;Be++){let Gt=U[Be].g;const Ye=U[Be].map;if(Gt-=Q,0>Gt)Q=Math.max(0,U[Be].g-100),Ft=!1;else try{fi(Ye,lt,"req"+Gt+"_")}catch{b&&b(Ye)}}if(Ft){b=lt.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,b}function Fo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;W||N(),ot||(W(),ot=!0),ut.add(m,u),u.v=0}}function hl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ne(C(u.Fa,u),fl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Go(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ne(C(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ye(10),Ka(this),Go(this))};function fa(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Go(u){u.g=new dn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=wn(u.qa);le(m,"RID","rpc"),le(m,"SID",u.K),le(m,"AID",u.T),le(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&le(m,"TO",u.ja),le(m,"TYPE","xmlhttp"),ha(u,m),u.m&&u.o&&Qe(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=ra(wn(m)),_.m=null,_.P=!0,Oi(_,u)}r.Za=function(){this.C!=null&&(this.C=null,Ka(this),hl(this),ye(19))};function $a(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Qo(u,m){var _=null;if(u.g==m){$a(u),fa(u),u.g=null;var b=2}else if(el(u.h,m))_=m.D,mn(u.h,m),b=1;else return;if(u.G!=0){if(m.o)if(b==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;b=or(),Dt(b,new ze(b,_)),Xa(u)}else Fo(u);else if(U=m.s,U==3||U==0&&0<m.X||!(b==1&&nh(u,m)||b==2&&hl(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),U){case 1:Bi(u,5);break;case 4:Bi(u,10);break;case 3:Bi(u,6);break;default:Bi(u,2)}}}function fl(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Bi(u,m){if(u.j.info("Error code "+m),m==2){var _=C(u.fb,u),b=u.Xa;const U=!b;b=new Oe(b||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ia(b,"https"),ra(b),U?sa(b.toString(),_):Zn(b.toString(),_)}else ye(2);u.G=0,u.l&&u.l.sa(m),Yo(u),qo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Yo(u){if(u.G=0,u.ka=[],u.l){const m=nl(u.h);(m.length!=0||u.i.length!=0)&&(F(u.ka,m),F(u.ka,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.ra()}}function Ko(u,m,_){var b=_ instanceof Oe?wn(_):new Oe(_);if(b.g!="")m&&(b.g=m+"."+b.g),dr(b,b.s);else{var U=g.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var Q=new Oe(null);b&&ia(Q,b),m&&(Q.g=m),U&&dr(Q,U),_&&(Q.l=_),b=Q}return _=u.D,m=u.ya,_&&m&&le(b,_,m),le(b,"VER",u.la),ha(u,b),b}function Xo(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new ne(new mr({eb:_})):new ne(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function $o(){}r=$o.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Za(){}Za.prototype.g=function(u,m){return new pn(u,m)};function pn(u,m){Nt.call(this),this.g=new Ya(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!at(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!at(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new gi(this)}H(pn,Nt),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){ul(this.g)},pn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Xn(u),u=_);m.i.push(new Uo(m.Ya++,u)),m.G==3&&Xa(m)},pn.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,pn.aa.N.call(this)};function Zo(u){Vi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}H(Zo,Vi);function Jo(){Zs.call(this),this.status=1}H(Jo,Zs);function gi(u){this.g=u}H(gi,$o),gi.prototype.ua=function(){Dt(this.g,"a")},gi.prototype.ta=function(u){Dt(this.g,new Zo(u))},gi.prototype.sa=function(u){Dt(this.g,new Jo)},gi.prototype.ra=function(){Dt(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,jv=function(){return new Za},Bv=function(){return or()},zv=li,yd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hr.NO_ERROR=0,hr.TIMEOUT=8,hr.HTTP_ERROR=6,lc=hr,Ni.COMPLETE="complete",kv=Ni,$s.EventType=Ii,Ii.OPEN="a",Ii.CLOSE="b",Ii.ERROR="c",Ii.MESSAGE="d",Nt.prototype.listen=Nt.prototype.K,io=$s,ne.prototype.listenOnce=ne.prototype.L,ne.prototype.getLastError=ne.prototype.Ka,ne.prototype.getLastErrorCode=ne.prototype.Ba,ne.prototype.getStatus=ne.prototype.Z,ne.prototype.getResponseJson=ne.prototype.Oa,ne.prototype.getResponseText=ne.prototype.oa,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Ha,Uv=ne}).apply(typeof tc<"u"?tc:typeof self<"u"?self:typeof window<"u"?window:{});const u_="@firebase/firestore",c_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qs="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new Iv("@firebase/firestore");function Rs(){return Va.logLevel}function ft(r,...e){if(Va.logLevel<=Kt.DEBUG){const i=e.map(Qd);Va.debug(`Firestore (${qs}): ${r}`,...i)}}function sr(r,...e){if(Va.logLevel<=Kt.ERROR){const i=e.map(Qd);Va.error(`Firestore (${qs}): ${r}`,...i)}}function jr(r,...e){if(Va.logLevel<=Kt.WARN){const i=e.map(Qd);Va.warn(`Firestore (${qs}): ${r}`,...i)}}function Qd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,qv(r,s,i)}function qv(r,e,i){let s=`FIRESTORE (${qs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw sr(s),new Error(s)}function ie(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||qv(e,o,s)}function xt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends js{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ub{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(cn.UNAUTHENTICATED))}shutdown(){}}class cb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class hb{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ie(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new nr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},g=y=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new nr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ie(typeof s.accessToken=="string",31837,{l:s}),new Hv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ie(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class fb{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class db{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new fb(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class h_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mb{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,QS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){ie(this.o===void 0,3512);const s=c=>{c.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ft("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new h_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(ie(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new h_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=pb(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Lt(r,e){return r<e?-1:r>e?1:0}function _d(r,e){let i=0;for(;i<r.length&&i<e.length;){const s=r.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return Lt(s,o);{const c=Fv(),d=gb(c.encode(f_(r,i)),c.encode(f_(e,i)));return d!==0?d:Lt(s,o)}}i+=s>65535?2:1}return Lt(r.length,e.length)}function f_(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function gb(r,e){for(let i=0;i<r.length&&i<e.length;++i)if(r[i]!==e[i])return Lt(r[i],e[i]);return Lt(r.length,e.length)}function Ms(r,e,i){return r.length===e.length&&r.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="__name__";class Si{constructor(e,i,s){i===void 0?i=0:i>e.length&&St(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&St(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=Si.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Lt(e.length,i.length)}static compareSegments(e,i){const s=Si.isNumericId(e),o=Si.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Si.extractNumericId(e).compare(Si.extractNumericId(i)):_d(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zr.fromString(e.substring(4,e.length-2))}}class pe extends Si{construct(e,i,s){return new pe(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ht(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new pe(i)}static emptyPath(){return new pe([])}}const yb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Si{construct(e,i,s){return new an(e,i,s)}static isValidIdentifier(e){return yb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d_}static keyField(){return new an([d_])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ht(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ht(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ht(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(c(),o++)}if(c(),d)throw new ht(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(i)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.path=e}static fromPath(e){return new vt(pe.fromString(e))}static fromName(e){return new vt(pe.fromString(e).popFirst(5))}static empty(){return new vt(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return pe.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new pe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(r,e,i){if(!i)throw new ht(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function _b(r,e,i,s){if(e===!0&&s===!0)throw new ht(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function m_(r){if(!vt.isDocumentKey(r))throw new ht(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function p_(r){if(vt.isDocumentKey(r))throw new ht(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Qv(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Oc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":St(12329,{type:typeof r})}function Di(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ht(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Oc(r);throw new ht(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(r,e){const i={typeString:r};return e&&(i.value=e),i}function wo(r,e){if(!Qv(r))throw new ht(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new ht(J.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=-62135596800,y_=1e6;class ge{static now(){return ge.fromMillis(Date.now())}static fromDate(e){return ge.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*y_);return new ge(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ht(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<g_)throw new ht(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ht(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/y_}_compareTo(e){return this.seconds===e.seconds?Lt(this.nanoseconds,e.nanoseconds):Lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wo(e,ge._jsonSchema))return new ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-g_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ge._jsonSchemaVersion="firestore/timestamp/1.0",ge._jsonSchema={type:ke("string",ge._jsonSchemaVersion),seconds:ke("number"),nanoseconds:ke("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new ge(0,0))}static max(){return new Ct(new ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=-1;function vb(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ct.fromTimestamp(s===1e9?new ge(i+1,0):new ge(i,s));return new qr(o,vt.empty(),e)}function Eb(r){return new qr(r.readTime,r.key,go)}class qr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new qr(Ct.min(),vt.empty(),go)}static max(){return new qr(Ct.max(),vt.empty(),go)}}function Tb(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=vt.comparator(r.documentKey,e.documentKey),i!==0?i:Lt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hs(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==Ab)throw r;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new it((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof it?i:it.resolve(i)}catch(i){return it.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):it.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):it.reject(i)}static resolve(e){return new it((i,s)=>{i(e)})}static reject(e){return new it((i,s)=>{s(e)})}static waitFor(e){return new it((i,s)=>{let o=0,c=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++c,d&&c===o&&i()},y=>s(y))}),d=!0,c===o&&i()})}static or(e){let i=it.resolve(!1);for(const s of e)i=i.next(o=>o?it.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(e,i){return new it((s,o)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const p=y;i(e[p]).next(A=>{d[p]=A,++g,g===c&&s(d)},A=>o(A))}})}static doWhile(e,i){return new it((s,o)=>{const c=()=>{e()===!0?i().next(()=>{c()},o):s()};c()})}}function bb(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Fs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this._e(s),this.ae=s=>i.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Mc.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=-1;function Lc(r){return r==null}function vc(r){return r===0&&1/r==-1/0}function wb(r){return typeof r=="number"&&Number.isInteger(r)&&!vc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="";function Rb(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=__(e)),e=Cb(r.get(i),e);return __(e)}function Cb(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case Yv:i+="";break;default:i+=c}}return i}function __(r){return r+Yv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Xr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function Kv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,i){this.comparator=e,this.root=i||rn.EMPTY}insert(e,i){return new Ae(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new Ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ec(this.root,e,this.comparator,!0)}}class ec{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??rn.RED,this.left=o??rn.EMPTY,this.right=c??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new rn(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return rn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw St(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(e,i,s,o,c){return this}insert(e,i,s){return new rn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.comparator=e,this.data=new Ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new E_(this.data.getIterator())}getIteratorFrom(e){return new E_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Fe)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Fe(this.comparator);return i.data=e,i}}class E_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new On([])}unionWith(e){let i=new Fe(an.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new On(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ms(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Xv("Invalid base64 string: "+c):c}}(e);return new sn(i)}static fromUint8Array(e){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new sn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const Db=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(r){if(ie(!!r,39018),typeof r=="string"){let e=0;const i=Db.exec(r);if(ie(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:xe(r.seconds),nanos:xe(r.nanos)}}function xe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Fr(r){return typeof r=="string"?sn.fromBase64String(r):sn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="server_timestamp",Zv="__type__",Jv="__previous_value__",Wv="__local_write_time__";function Xd(r){var e,i;return((i=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Zv])===null||i===void 0?void 0:i.stringValue)===$v}function Pc(r){const e=r.mapValue.fields[Jv];return Xd(e)?Pc(e):e}function yo(r){const e=Hr(r.mapValue.fields[Wv].timestampValue);return new ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,i,s,o,c,d,g,y,p,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=A}}const Ec="(default)";class _o{constructor(e,i){this.projectId=e,this.database=i||Ec}static empty(){return new _o("","")}get isDefaultDatabase(){return this.database===Ec}isEqual(e){return e instanceof _o&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="__type__",Ib="__max__",nc={mapValue:{}},e0="__vector__",Tc="value";function Gr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Xd(r)?4:Nb(r)?9007199254740991:Vb(r)?10:11:St(28295,{value:r})}function xi(r,e){if(r===e)return!0;const i=Gr(r);if(i!==Gr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return yo(r).isEqual(yo(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Hr(o.timestampValue),g=Hr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,c){return Fr(o.bytesValue).isEqual(Fr(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return xe(o.geoPointValue.latitude)===xe(c.geoPointValue.latitude)&&xe(o.geoPointValue.longitude)===xe(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return xe(o.integerValue)===xe(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=xe(o.doubleValue),g=xe(c.doubleValue);return d===g?vc(d)===vc(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return Ms(r.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(v_(d)!==v_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!xi(d[y],g[y])))return!1;return!0}(r,e);default:return St(52216,{left:r})}}function vo(r,e){return(r.values||[]).find(i=>xi(i,e))!==void 0}function Ls(r,e){if(r===e)return 0;const i=Gr(r),s=Gr(e);if(i!==s)return Lt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Lt(r.booleanValue,e.booleanValue);case 2:return function(c,d){const g=xe(c.integerValue||c.doubleValue),y=xe(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(r,e);case 3:return T_(r.timestampValue,e.timestampValue);case 4:return T_(yo(r),yo(e));case 5:return _d(r.stringValue,e.stringValue);case 6:return function(c,d){const g=Fr(c),y=Fr(d);return g.compareTo(y)}(r.bytesValue,e.bytesValue);case 7:return function(c,d){const g=c.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const A=Lt(g[p],y[p]);if(A!==0)return A}return Lt(g.length,y.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,d){const g=Lt(xe(c.latitude),xe(d.latitude));return g!==0?g:Lt(xe(c.longitude),xe(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return A_(r.arrayValue,e.arrayValue);case 10:return function(c,d){var g,y,p,A;const R=c.fields||{},C=d.fields||{},P=(g=R[Tc])===null||g===void 0?void 0:g.arrayValue,H=(y=C[Tc])===null||y===void 0?void 0:y.arrayValue,$=Lt(((p=P?.values)===null||p===void 0?void 0:p.length)||0,((A=H?.values)===null||A===void 0?void 0:A.length)||0);return $!==0?$:A_(P,H)}(r.mapValue,e.mapValue);case 11:return function(c,d){if(c===nc.mapValue&&d===nc.mapValue)return 0;if(c===nc.mapValue)return 1;if(d===nc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),p=d.fields||{},A=Object.keys(p);y.sort(),A.sort();for(let R=0;R<y.length&&R<A.length;++R){const C=_d(y[R],A[R]);if(C!==0)return C;const P=Ls(g[y[R]],p[A[R]]);if(P!==0)return P}return Lt(y.length,A.length)}(r.mapValue,e.mapValue);default:throw St(23264,{le:i})}}function T_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Lt(r,e);const i=Hr(r),s=Hr(e),o=Lt(i.seconds,s.seconds);return o!==0?o:Lt(i.nanos,s.nanos)}function A_(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Ls(i[o],s[o]);if(c)return c}return Lt(i.length,s.length)}function Ps(r){return vd(r)}function vd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Hr(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Fr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return vt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=vd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${vd(i.fields[d])}`;return o+"}"}(r.mapValue):St(61005,{value:r})}function oc(r){switch(Gr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pc(r);return e?16+oc(e):16;case 5:return 2*r.stringValue.length;case 6:return Fr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+oc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Xr(s.fields,(c,d)=>{o+=c.length+oc(d)}),o}(r.mapValue);default:throw St(13486,{value:r})}}function S_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Ed(r){return!!r&&"integerValue"in r}function $d(r){return!!r&&"arrayValue"in r}function b_(r){return!!r&&"nullValue"in r}function w_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function uc(r){return!!r&&"mapValue"in r}function Vb(r){var e,i;return((i=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[t0])===null||i===void 0?void 0:i.stringValue)===e0}function oo(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Xr(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=oo(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=oo(r.arrayValue.values[i]);return e}return Object.assign({},r)}function Nb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Ib}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!uc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=oo(i)}setAll(e){let i=an.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=oo(d):o.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());uc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];uc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Xr(i,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new Sn(oo(this.value))}}function n0(r){const e=[];return Xr(r.fields,(i,s)=>{const o=new an([i]);if(uc(s)){const c=n0(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,i,s,o,c,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new hn(e,0,Ct.min(),Ct.min(),Ct.min(),Sn.empty(),0)}static newFoundDocument(e,i,s,o){return new hn(e,1,i,Ct.min(),s,o,0)}static newNoDocument(e,i){return new hn(e,2,i,Ct.min(),Ct.min(),Sn.empty(),0)}static newUnknownDocument(e,i){return new hn(e,3,i,Ct.min(),Ct.min(),Sn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,i){this.position=e,this.inclusive=i}}function R_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?s=vt.comparator(vt.fromName(d.referenceValue),i.key):s=Ls(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function C_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!xi(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,i="asc"){this.field=e,this.dir=i}}function Ob(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{}class Ue extends i0{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new Lb(e,i,s):i==="array-contains"?new kb(e,s):i==="in"?new zb(e,s):i==="not-in"?new Bb(e,s):i==="array-contains-any"?new jb(e,s):new Ue(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new Pb(e,s):new Ub(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ls(i,this.value)):i!==null&&Gr(this.value)===Gr(i)&&this.matchesComparison(Ls(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends i0{constructor(e,i){super(),this.filters=e,this.op=i,this.he=null}static create(e,i){return new ni(e,i)}matches(e){return r0(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function r0(r){return r.op==="and"}function a0(r){return Mb(r)&&r0(r)}function Mb(r){for(const e of r.filters)if(e instanceof ni)return!1;return!0}function Td(r){if(r instanceof Ue)return r.field.canonicalString()+r.op.toString()+Ps(r.value);if(a0(r))return r.filters.map(e=>Td(e)).join(",");{const e=r.filters.map(i=>Td(i)).join(",");return`${r.op}(${e})`}}function s0(r,e){return r instanceof Ue?function(s,o){return o instanceof Ue&&s.op===o.op&&s.field.isEqual(o.field)&&xi(s.value,o.value)}(r,e):r instanceof ni?function(s,o){return o instanceof ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,g)=>c&&s0(d,o.filters[g]),!0):!1}(r,e):void St(19439)}function l0(r){return r instanceof Ue?function(i){return`${i.field.canonicalString()} ${i.op} ${Ps(i.value)}`}(r):r instanceof ni?function(i){return i.op.toString()+" {"+i.getFilters().map(l0).join(" ,")+"}"}(r):"Filter"}class Lb extends Ue{constructor(e,i,s){super(e,i,s),this.key=vt.fromName(s.referenceValue)}matches(e){const i=vt.comparator(e.key,this.key);return this.matchesComparison(i)}}class Pb extends Ue{constructor(e,i){super(e,"in",i),this.keys=o0("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class Ub extends Ue{constructor(e,i){super(e,"not-in",i),this.keys=o0("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function o0(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>vt.fromName(s.referenceValue))}class kb extends Ue{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return $d(i)&&vo(i.arrayValue,this.value)}}class zb extends Ue{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&vo(this.value.arrayValue,i)}}class Bb extends Ue{constructor(e,i){super(e,"not-in",i)}matches(e){if(vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!vo(this.value.arrayValue,i)}}class jb extends Ue{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!$d(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>vo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,i=null,s=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Pe=null}}function D_(r,e=null,i=[],s=[],o=null,c=null,d=null){return new qb(r,e,i,s,o,c,d)}function Zd(r){const e=xt(r);if(e.Pe===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Td(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Lc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Ps(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Ps(s)).join(",")),e.Pe=i}return e.Pe}function Jd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Ob(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!s0(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!C_(r.startAt,e.startAt)&&C_(r.endAt,e.endAt)}function Ad(r){return vt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,i=null,s=[],o=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Hb(r,e,i,s,o,c,d,g){return new Ro(r,e,i,s,o,c,d,g)}function Wd(r){return new Ro(r)}function x_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function u0(r){return r.collectionGroup!==null}function uo(r){const e=xt(r);if(e.Te===null){e.Te=[];const i=new Set;for(const c of e.explicitOrderBy)e.Te.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Fe(an.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(p=>{p.isInequality()&&(g=g.add(p.field))})}),g})(e).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||e.Te.push(new Sc(c,s))}),i.has(an.keyField().canonicalString())||e.Te.push(new Sc(an.keyField(),s))}return e.Te}function bi(r){const e=xt(r);return e.Ie||(e.Ie=Fb(e,uo(r))),e.Ie}function Fb(r,e){if(r.limitType==="F")return D_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Sc(o.field,c)});const i=r.endAt?new Ac(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ac(r.startAt.position,r.startAt.inclusive):null;return D_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Sd(r,e){const i=r.filters.concat([e]);return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function bd(r,e,i){return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Uc(r,e){return Jd(bi(r),bi(e))&&r.limitType===e.limitType}function c0(r){return`${Zd(bi(r))}|lt:${r.limitType}`}function Cs(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>l0(o)).join(", ")}]`),Lc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Ps(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Ps(o)).join(",")),`Target(${s})`}(bi(r))}; limitType=${r.limitType})`}function kc(r,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):vt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,e)&&function(s,o){for(const c of uo(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(d,g,y){const p=R_(d,g,y);return d.inclusive?p<=0:p<0}(s.startAt,uo(s),o)||s.endAt&&!function(d,g,y){const p=R_(d,g,y);return d.inclusive?p>=0:p>0}(s.endAt,uo(s),o))}(r,e)}function Gb(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function h0(r){return(e,i)=>{let s=!1;for(const o of uo(r)){const c=Qb(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function Qb(r,e,i){const s=r.field.isKeyField()?vt.comparator(e.key,i.key):function(c,d,g){const y=d.data.field(c),p=g.data.field(c);return y!==null&&p!==null?Ls(y,p):St(42886)}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return St(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Xr(this.inner,(i,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return Kv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=new Ae(vt.comparator);function lr(){return Yb}const f0=new Ae(vt.comparator);function ro(...r){let e=f0;for(const i of r)e=e.insert(i.key,i);return e}function d0(r){let e=f0;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function xa(){return co()}function m0(){return co()}function co(){return new Ma(r=>r.toString(),(r,e)=>r.isEqual(e))}const Kb=new Ae(vt.comparator),Xb=new Fe(vt.comparator);function Bt(...r){let e=Xb;for(const i of r)e=e.add(i);return e}const $b=new Fe(Lt);function Zb(){return $b}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vc(e)?"-0":e}}function p0(r){return{integerValue:""+r}}function Jb(r,e){return wb(e)?p0(e):tm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(){this._=void 0}}function Wb(r,e,i){return r instanceof bc?function(o,c){const d={fields:{[Zv]:{stringValue:$v},[Wv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Xd(c)&&(c=Pc(c)),c&&(d.fields[Jv]=c),{mapValue:d}}(i,e):r instanceof Eo?y0(r,e):r instanceof To?_0(r,e):function(o,c){const d=g0(o,c),g=I_(d)+I_(o.Ee);return Ed(d)&&Ed(o.Ee)?p0(g):tm(o.serializer,g)}(r,e)}function tw(r,e,i){return r instanceof Eo?y0(r,e):r instanceof To?_0(r,e):i}function g0(r,e){return r instanceof wc?function(s){return Ed(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class bc extends zc{}class Eo extends zc{constructor(e){super(),this.elements=e}}function y0(r,e){const i=v0(e);for(const s of r.elements)i.some(o=>xi(o,s))||i.push(s);return{arrayValue:{values:i}}}class To extends zc{constructor(e){super(),this.elements=e}}function _0(r,e){let i=v0(e);for(const s of r.elements)i=i.filter(o=>!xi(o,s));return{arrayValue:{values:i}}}class wc extends zc{constructor(e,i){super(),this.serializer=e,this.Ee=i}}function I_(r){return xe(r.integerValue||r.doubleValue)}function v0(r){return $d(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function ew(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Eo&&o instanceof Eo||s instanceof To&&o instanceof To?Ms(s.elements,o.elements,xi):s instanceof wc&&o instanceof wc?xi(s.Ee,o.Ee):s instanceof bc&&o instanceof bc}(r.transform,e.transform)}class nw{constructor(e,i){this.version=e,this.transformResults=i}}class ei{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Bc{}function E0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new A0(r.key,ei.none()):new Co(r.key,r.data,ei.none());{const i=r.data,s=Sn.empty();let o=new Fe(an.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new $r(r.key,s,new On(o.toArray()),ei.none())}}function iw(r,e,i){r instanceof Co?function(o,c,d){const g=o.value.clone(),y=N_(o.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,i):r instanceof $r?function(o,c,d){if(!cc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=N_(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(T0(o)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(r,e,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function ho(r,e,i,s){return r instanceof Co?function(c,d,g,y){if(!cc(c.precondition,d))return g;const p=c.value.clone(),A=O_(c.fieldTransforms,y,d);return p.setAll(A),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null}(r,e,i,s):r instanceof $r?function(c,d,g,y){if(!cc(c.precondition,d))return g;const p=O_(c.fieldTransforms,y,d),A=d.data;return A.setAll(T0(c)),A.setAll(p),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(r,e,i,s):function(c,d,g){return cc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,e,i)}function rw(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=g0(s.transform,o||null);c!=null&&(i===null&&(i=Sn.empty()),i.set(s.field,c))}return i||null}function V_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ms(s,o,(c,d)=>ew(c,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Co extends Bc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $r extends Bc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function T0(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function N_(r,e,i){const s=new Map;ie(r.length===i.length,32656,{Ae:i.length,Re:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=e.data.field(c.field);s.set(c.field,tw(d,g,i[o]))}return s}function O_(r,e,i){const s=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);s.set(o.field,Wb(c,d,e))}return s}class A0 extends Bc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aw extends Bc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&iw(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=ho(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=ho(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=m0();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const y=E0(d,g);y!==null&&s.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Ct.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Bt())}isEqual(e){return this.batchId===e.batchId&&Ms(this.mutations,e.mutations,(i,s)=>V_(i,s))&&Ms(this.baseMutations,e.baseMutations,(i,s)=>V_(i,s))}}class em{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){ie(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return Kb}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new em(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe,Yt;function uw(r){switch(r){case J.OK:return St(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return St(15467,{code:r})}}function S0(r){if(r===void 0)return sr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Pe.OK:return J.OK;case Pe.CANCELLED:return J.CANCELLED;case Pe.UNKNOWN:return J.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return J.INTERNAL;case Pe.UNAVAILABLE:return J.UNAVAILABLE;case Pe.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Pe.NOT_FOUND:return J.NOT_FOUND;case Pe.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Pe.ABORTED:return J.ABORTED;case Pe.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Pe.DATA_LOSS:return J.DATA_LOSS;default:return St(39323,{code:r})}}(Yt=Pe||(Pe={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=new zr([4294967295,4294967295],0);function M_(r){const e=Fv().encode(r),i=new Pv;return i.update(e),new Uint8Array(i.digest())}function L_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new zr([i,s],0),new zr([o,c],0)]}class nm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ao(`Invalid padding: ${i}`);if(s<0)throw new ao(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ao(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new ao(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*e.length-i,this.ge=zr.fromNumber(this.fe)}pe(e,i,s){let o=e.add(i.multiply(zr.fromNumber(s)));return o.compare(cw)===1&&(o=new zr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const i=M_(e),[s,o]=L_(i);for(let c=0;c<this.hashCount;c++){const d=this.pe(s,o,c);if(!this.ye(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new nm(c,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.fe===0)return;const i=M_(e),[s,o]=L_(i);for(let c=0;c<this.hashCount;c++){const d=this.pe(s,o,c);this.we(d)}}we(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class ao extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,Do.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new jc(Ct.min(),o,new Ae(Lt),lr(),Bt())}}class Do{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Do(s,i,Bt(),Bt(),Bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i,s,o){this.Se=e,this.removedTargetIds=i,this.key=s,this.be=o}}class b0{constructor(e,i){this.targetId=e,this.De=i}}class w0{constructor(e,i,s=sn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class P_{constructor(){this.ve=0,this.Ce=U_(),this.Fe=sn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Bt(),i=Bt(),s=Bt();return this.Ce.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:St(38017,{changeType:c})}}),new Do(this.Fe,this.Me,e,i,s)}ke(){this.xe=!1,this.Ce=U_()}qe(e,i){this.xe=!0,this.Ce=this.Ce.insert(e,i)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ie(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class hw{constructor(e){this.We=e,this.Ge=new Map,this.ze=lr(),this.je=ic(),this.Je=ic(),this.He=new Ae(Lt)}Ye(e){for(const i of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(i,e.be):this.Xe(i,e.key,e.be);for(const i of e.removedTargetIds)this.Xe(i,e.key,e.be)}et(e){this.forEachTarget(e,i=>{const s=this.tt(i);switch(e.state){case 0:this.nt(i)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),s.Be(e.resumeToken));break;default:St(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Ge.forEach((s,o)=>{this.nt(o)&&i(o)})}it(e){const i=e.targetId,s=e.De.count,o=this.st(i);if(o){const c=o.target;if(Ad(c))if(s===0){const d=new vt(c.path);this.Xe(i,d,hn.newNoDocument(d,Ct.min()))}else ie(s===1,20013,{expectedCount:s});else{const d=this.ot(i);if(d!==s){const g=this._t(e),y=g?this.ut(g,e,d):1;if(y!==0){this.rt(i);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,p)}}}}}_t(e){const i=e.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Fr(s).toUint8Array()}catch(y){if(y instanceof Xv)return jr("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new nm(d,o,c)}catch(y){return jr(y instanceof ao?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.fe===0?null:g}ut(e,i,s){return i.De.count===s-this.ht(e,i.targetId)?0:2}ht(e,i){const s=this.We.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const d=this.We.lt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.Xe(i,c,null),o++)}),o}Pt(e){const i=new Map;this.Ge.forEach((c,d)=>{const g=this.st(d);if(g){if(c.current&&Ad(g.target)){const y=new vt(g.target.path);this.Tt(y).has(d)||this.It(d,y)||this.Xe(d,y,hn.newNoDocument(y,e))}c.Ne&&(i.set(d,c.Le()),c.ke())}});let s=Bt();this.Je.forEach((c,d)=>{let g=!0;d.forEachWhile(y=>{const p=this.st(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.ze.forEach((c,d)=>d.setReadTime(e));const o=new jc(e,i,this.He,this.ze,s);return this.ze=lr(),this.je=ic(),this.Je=ic(),this.He=new Ae(Lt),o}Ze(e,i){if(!this.nt(e))return;const s=this.It(e,i.key)?2:0;this.tt(e).qe(i.key,s),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(e)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(e))}Xe(e,i,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,i)?o.qe(i,1):o.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(e)),this.Je=this.Je.insert(i,this.dt(i).add(e)),s&&(this.ze=this.ze.insert(i,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const i=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let i=this.Ge.get(e);return i||(i=new P_,this.Ge.set(e,i)),i}dt(e){let i=this.Je.get(e);return i||(i=new Fe(Lt),this.Je=this.Je.insert(e,i)),i}Tt(e){let i=this.je.get(e);return i||(i=new Fe(Lt),this.je=this.je.insert(e,i)),i}nt(e){const i=this.st(e)!==null;return i||ft("WatchChangeAggregator","Detected inactive target",e),i}st(e){const i=this.Ge.get(e);return i&&i.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new P_),this.We.getRemoteKeysForTarget(e).forEach(i=>{this.Xe(e,i,null)})}It(e,i){return this.We.getRemoteKeysForTarget(e).has(i)}}function ic(){return new Ae(vt.comparator)}function U_(){return new Ae(vt.comparator)}const fw={asc:"ASCENDING",desc:"DESCENDING"},dw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mw={and:"AND",or:"OR"};class pw{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function wd(r,e){return r.useProto3Json||Lc(e)?e:{value:e}}function Rc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function R0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function gw(r,e){return Rc(r,e.toTimestamp())}function wi(r){return ie(!!r,49232),Ct.fromTimestamp(function(i){const s=Hr(i);return new ge(s.seconds,s.nanos)}(r))}function im(r,e){return Rd(r,e).canonicalString()}function Rd(r,e){const i=function(o){return new pe(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function C0(r){const e=pe.fromString(r);return ie(N0(e),10190,{key:e.toString()}),e}function Cd(r,e){return im(r.databaseId,e.path)}function sd(r,e){const i=C0(e);if(i.get(1)!==r.databaseId.projectId)throw new ht(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ht(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new vt(x0(i))}function D0(r,e){return im(r.databaseId,e)}function yw(r){const e=C0(r);return e.length===4?pe.emptyPath():x0(e)}function Dd(r){return new pe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function x0(r){return ie(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function k_(r,e,i){return{name:Cd(r,e),fields:i.value.mapValue.fields}}function _w(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:St(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(p,A){return p.useProto3Json?(ie(A===void 0||typeof A=="string",58123),sn.fromBase64String(A||"")):(ie(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),sn.fromUint8Array(A||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(p){const A=p.code===void 0?J.UNKNOWN:S0(p.code);return new ht(A,p.message||"")}(d);i=new w0(s,o,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=sd(r,s.document.name),c=wi(s.document.updateTime),d=s.document.createTime?wi(s.document.createTime):Ct.min(),g=new Sn({mapValue:{fields:s.document.fields}}),y=hn.newFoundDocument(o,c,d,g),p=s.targetIds||[],A=s.removedTargetIds||[];i=new hc(p,A,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=sd(r,s.document),c=s.readTime?wi(s.readTime):Ct.min(),d=hn.newNoDocument(o,c),g=s.removedTargetIds||[];i=new hc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=sd(r,s.document),c=s.removedTargetIds||[];i=new hc([],c,o,null)}else{if(!("filter"in e))return St(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new ow(o,c),g=s.targetId;i=new b0(g,d)}}return i}function vw(r,e){let i;if(e instanceof Co)i={update:k_(r,e.key,e.value)};else if(e instanceof A0)i={delete:Cd(r,e.key)};else if(e instanceof $r)i={update:k_(r,e.key,e.data),updateMask:Dw(e.fieldMask)};else{if(!(e instanceof aw))return St(16599,{Rt:e.type});i={verify:Cd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof bc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Eo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof To)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof wc)return{fieldPath:d.field.canonicalString(),increment:g.Ee};throw St(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:gw(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:St(27497)}(r,e.precondition)),i}function Ew(r,e){return r&&r.length>0?(ie(e!==void 0,14353),r.map(i=>function(o,c){let d=o.updateTime?wi(o.updateTime):wi(c);return d.isEqual(Ct.min())&&(d=wi(c)),new nw(d,o.transformResults||[])}(i,e))):[]}function Tw(r,e){return{documents:[D0(r,e.path)]}}function Aw(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=D0(r,o);const c=function(p){if(p.length!==0)return V0(ni.create(p,"and"))}(e.filters);c&&(i.structuredQuery.where=c);const d=function(p){if(p.length!==0)return p.map(A=>function(C){return{field:Ds(C.field),direction:ww(C.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=wd(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{Vt:i,parent:o}}function Sw(r){let e=yw(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){ie(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=function(R){const C=I0(R);return C instanceof ni&&a0(C)?C.getFilters():[C]}(i.where));let d=[];i.orderBy&&(d=function(R){return R.map(C=>function(H){return new Sc(xs(H.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction))}(C))}(i.orderBy));let g=null;i.limit&&(g=function(R){let C;return C=typeof R=="object"?R.value:R,Lc(C)?null:C}(i.limit));let y=null;i.startAt&&(y=function(R){const C=!!R.before,P=R.values||[];return new Ac(P,C)}(i.startAt));let p=null;return i.endAt&&(p=function(R){const C=!R.before,P=R.values||[];return new Ac(P,C)}(i.endAt)),Hb(e,o,d,c,g,"F",y,p)}function bw(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function I0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=xs(i.unaryFilter.field);return Ue.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=xs(i.unaryFilter.field);return Ue.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=xs(i.unaryFilter.field);return Ue.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=xs(i.unaryFilter.field);return Ue.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}}(r):r.fieldFilter!==void 0?function(i){return Ue.create(xs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return ni.create(i.compositeFilter.filters.map(s=>I0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return St(1026)}}(i.compositeFilter.op))}(r):St(30097,{filter:r})}function ww(r){return fw[r]}function Rw(r){return dw[r]}function Cw(r){return mw[r]}function Ds(r){return{fieldPath:r.canonicalString()}}function xs(r){return an.fromServerFormat(r.fieldPath)}function V0(r){return r instanceof Ue?function(i){if(i.op==="=="){if(w_(i.value))return{unaryFilter:{field:Ds(i.field),op:"IS_NAN"}};if(b_(i.value))return{unaryFilter:{field:Ds(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(w_(i.value))return{unaryFilter:{field:Ds(i.field),op:"IS_NOT_NAN"}};if(b_(i.value))return{unaryFilter:{field:Ds(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(i.field),op:Rw(i.op),value:i.value}}}(r):r instanceof ni?function(i){const s=i.getFilters().map(o=>V0(o));return s.length===1?s[0]:{compositeFilter:{op:Cw(i.op),filters:s}}}(r):St(54877,{filter:r})}function Dw(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function N0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,i,s,o,c=Ct.min(),d=Ct.min(),g=sn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Pr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e){this.gt=e}}function Iw(r){const e=Sw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?bd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this.Dn=new Nw}addToCollectionParentIndex(e,i){return this.Dn.add(i),it.resolve()}getCollectionParents(e,i){return it.resolve(this.Dn.getEntries(i))}addFieldIndex(e,i){return it.resolve()}deleteFieldIndex(e,i){return it.resolve()}deleteAllFieldIndexes(e){return it.resolve()}createTargetIndexes(e,i){return it.resolve()}getDocumentsMatchingTarget(e,i){return it.resolve(null)}getIndexType(e,i){return it.resolve(0)}getFieldIndexes(e,i){return it.resolve([])}getNextCollectionGroupToUpdate(e){return it.resolve(null)}getMinOffset(e,i){return it.resolve(qr.min())}getMinOffsetFromCollectionGroup(e,i){return it.resolve(qr.min())}updateCollectionGroup(e,i,s){return it.resolve()}updateIndexEntries(e,i){return it.resolve()}}class Nw{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Fe(pe.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Fe(pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},O0=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(O0,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Us(0)}static ur(){return new Us(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="LruGarbageCollector",Ow=1048576;function j_([r,e],[i,s]){const o=Lt(r,i);return o===0?Lt(e,s):o}class Mw{constructor(e){this.Tr=e,this.buffer=new Fe(j_),this.Ir=0}dr(){return++this.Ir}Er(e){const i=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();j_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Lw{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ft(B_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Fs(i)?ft(B_,"Ignoring IndexedDB error during garbage collection: ",i):await Hs(i)}await this.Rr(3e5)})}}class Pw{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.mr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return it.resolve(Mc.ue);const s=new Mw(i);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.Vr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(z_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),z_):this.pr(e,i))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,i){let s,o,c,d,g,y,p;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,d=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(s=R,g=Date.now(),this.removeTargets(e,s,i))).next(R=>(c=R,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(p=Date.now(),Rs()<=Kt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${R} documents in `+(p-y)+`ms
Total Duration: ${p-A}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:R})))}}function Uw(r,e){return new Pw(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this.changes=new Ma(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?it.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&ho(s.mutation,o,On.empty(),ge.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Bt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Bt()){const o=xa();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(c=>{let d=ro();return c.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=xa();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Bt()))}populateOverlays(e,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let c=lr();const d=co(),g=function(){return co()}();return i.forEach((y,p)=>{const A=s.get(p.key);o.has(p.key)&&(A===void 0||A.mutation instanceof $r)?c=c.insert(p.key,p):A!==void 0?(d.set(p.key,A.mutation.getFieldMask()),ho(A.mutation,p,A.mutation.getFieldMask(),ge.now())):d.set(p.key,On.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((p,A)=>d.set(p,A)),i.forEach((p,A)=>{var R;return g.set(p,new zw(A,(R=d.get(p))!==null&&R!==void 0?R:null))}),g))}recalculateAndSaveOverlays(e,i){const s=co();let o=new Ae((d,g)=>d-g),c=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(y=>{const p=i.get(y);if(p===null)return;let A=s.get(y)||On.empty();A=g.applyToLocalView(p,A),s.set(y,A);const R=(o.get(g.batchId)||Bt()).add(y);o=o.insert(g.batchId,R)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,A=y.value,R=m0();A.forEach(C=>{if(!c.has(C)){const P=E0(i.get(C),s.get(C));P!==null&&R.set(C,P),c=c.add(C)}}),d.push(this.documentOverlayCache.saveOverlays(e,p,R))}return it.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return vt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):u0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):it.resolve(xa());let g=go,y=c;return d.next(p=>it.forEach(p,(A,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),c.get(A)?it.resolve():this.remoteDocumentCache.getEntry(e,A).next(C=>{y=y.insert(A,C)}))).next(()=>this.populateOverlays(e,p,c)).next(()=>this.computeViews(e,y,p,Bt())).next(A=>({batchId:g,changes:d0(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new vt(i)).next(s=>{let o=ro();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=ro();return this.indexManager.getCollectionParents(e,c).next(g=>it.forEach(g,y=>{const p=function(R,C){return new Ro(C,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next(A=>{A.forEach((R,C)=>{d=d.insert(R,C)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o))).next(d=>{c.forEach((y,p)=>{const A=p.getKey();d.get(A)===null&&(d=d.insert(A,hn.newInvalidDocument(A)))});let g=ro();return d.forEach((y,p)=>{const A=c.get(y);A!==void 0&&ho(A.mutation,p,On.empty(),ge.now()),kc(i,p)&&(g=g.insert(y,p))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,i){return it.resolve(this.Br.get(i))}saveBundleMetadata(e,i){return this.Br.set(i.id,function(o){return{id:o.id,version:o.version,createTime:wi(o.createTime)}}(i)),it.resolve()}getNamedQuery(e,i){return it.resolve(this.Lr.get(i))}saveNamedQuery(e,i){return this.Lr.set(i.name,function(o){return{name:o.name,query:Iw(o.bundledQuery),readTime:wi(o.readTime)}}(i)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(){this.overlays=new Ae(vt.comparator),this.kr=new Map}getOverlay(e,i){return it.resolve(this.overlays.get(i))}getOverlays(e,i){const s=xa();return it.forEach(i,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,c)=>{this.wt(e,i,c)}),it.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.kr.delete(s)),it.resolve()}getOverlaysForCollection(e,i,s){const o=xa(),c=i.length+1,d=new vt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===c&&y.largestBatchId>s&&o.set(y.getKey(),y)}return it.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new Ae((p,A)=>p-A);const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>s){let A=c.get(p.largestBatchId);A===null&&(A=xa(),c=c.insert(p.largestBatchId,A)),A.set(p.getKey(),p)}}const g=xa(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((p,A)=>g.set(p,A)),!(g.size()>=o)););return it.resolve(g)}wt(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new lw(i,s));let c=this.kr.get(i);c===void 0&&(c=Bt(),this.kr.set(i,c)),this.kr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return it.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(){this.qr=new Fe(Ze.Qr),this.$r=new Fe(Ze.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,i){const s=new Ze(e,i);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.Wr(new Ze(e,i))}Gr(e,i){e.forEach(s=>this.removeReference(s,i))}zr(e){const i=new vt(new pe([])),s=new Ze(i,e),o=new Ze(i,e+1),c=[];return this.$r.forEachInRange([s,o],d=>{this.Wr(d),c.push(d.key)}),c}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const i=new vt(new pe([])),s=new Ze(i,e),o=new Ze(i,e+1);let c=Bt();return this.$r.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(e){const i=new Ze(e,0),s=this.qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ze{constructor(e,i){this.key=e,this.Hr=i}static Qr(e,i){return vt.comparator(e.key,i.key)||Lt(e.Hr,i.Hr)}static Ur(e,i){return Lt(e.Hr,i.Hr)||vt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new Fe(Ze.Qr)}checkEmpty(e){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new sw(c,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Yr=this.Yr.add(new Ze(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return it.resolve(d)}lookupMutationBatch(e,i){return it.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Xr(s),c=o<0?0:o;return it.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?Kd:this.er-1)}getAllMutationBatches(e){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ze(i,0),o=new Ze(i,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([s,o],d=>{const g=this.Zr(d.Hr);c.push(g)}),it.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Fe(Lt);return i.forEach(o=>{const c=new Ze(o,0),d=new Ze(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,d],g=>{s=s.add(g.Hr)})}),it.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;vt.isDocumentKey(c)||(c=c.child(""));const d=new Ze(new vt(c),0);let g=new Fe(Lt);return this.Yr.forEachWhile(y=>{const p=y.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(g=g.add(y.Hr)),!0)},d),it.resolve(this.ei(g))}ei(e){const i=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){ie(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return it.forEach(i.mutations,o=>{const c=new Ze(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,i){const s=new Ze(i,0),o=this.Yr.firstAfterOrEqual(s);return it.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,it.resolve()}ti(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.ni=e,this.docs=function(){return new Ae(vt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.ni(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return it.resolve(s?s.document.mutableCopy():hn.newInvalidDocument(i))}getEntries(e,i){let s=lr();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():hn.newInvalidDocument(o))}),it.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=lr();const d=i.path,g=new vt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:A}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||Tb(Eb(A),s)<=0||(o.has(A.key)||kc(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return it.resolve(c)}getAllFromCollectionGroup(e,i,s,o){St(9500)}ri(e,i){return it.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new Qw(this)}getSize(e){return it.resolve(this.size)}}class Qw extends kw{constructor(e){super(),this.Or=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),it.waitFor(i)}getFromCache(e,i){return this.Or.getEntry(e,i)}getAllFromCache(e,i){return this.Or.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e){this.persistence=e,this.ii=new Ma(i=>Zd(i),Jd),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.si=0,this.oi=new rm,this.targetCount=0,this._i=Us.ar()}forEachTarget(e,i){return this.ii.forEach((s,o)=>i(o)),it.resolve()}getLastRemoteSnapshotVersion(e){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return it.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.si&&(this.si=i),it.resolve()}hr(e){this.ii.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this._i=new Us(i),this.highestTargetId=i),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,i){return this.hr(i),this.targetCount+=1,it.resolve()}updateTargetData(e,i){return this.hr(i),it.resolve()}removeTargetData(e,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,it.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.ii.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ii.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),it.waitFor(c).next(()=>o)}getTargetCount(e){return it.resolve(this.targetCount)}getTargetData(e,i){const s=this.ii.get(i)||null;return it.resolve(s)}addMatchingKeys(e,i,s){return this.oi.Kr(i,s),it.resolve()}removeMatchingKeys(e,i,s){this.oi.Gr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),it.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.oi.zr(i),it.resolve()}getMatchingKeysForTargetId(e,i){const s=this.oi.Jr(i);return it.resolve(s)}containsKey(e,i){return it.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,i){this.ai={},this.overlays={},this.ui=new Mc(0),this.ci=!1,this.ci=!0,this.li=new Hw,this.referenceDelegate=e(this),this.hi=new Yw(this),this.indexManager=new Vw,this.remoteDocumentCache=function(o){return new Gw(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new xw(i),this.Ti=new jw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new qw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ai[e.toKey()];return s||(s=new Fw(i,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,i,s){ft("MemoryPersistence","Starting transaction:",e);const o=new Kw(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ei(e,i){return it.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,i)))}}class Kw extends Sb{constructor(e){super(),this.currentSequenceNumber=e}}class am{constructor(e){this.persistence=e,this.Ai=new rm,this.Ri=null}static Vi(e){return new am(e)}get mi(){if(this.Ri)return this.Ri;throw St(60996)}addReference(e,i,s){return this.Ai.addReference(s,i),this.mi.delete(s.toString()),it.resolve()}removeReference(e,i,s){return this.Ai.removeReference(s,i),this.mi.add(s.toString()),it.resolve()}markPotentiallyOrphaned(e,i){return this.mi.add(i.toString()),it.resolve()}removeTarget(e,i){this.Ai.zr(i.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(c=>this.mi.add(c.toString()))}).next(()=>s.removeTargetData(e,i))}Ii(){this.Ri=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.mi,s=>{const o=vt.fromPath(s);return this.fi(e,o).next(c=>{c||i.removeEntry(o,Ct.min())})}).next(()=>(this.Ri=null,i.apply(e)))}updateLimboDocument(e,i){return this.fi(e,i).next(s=>{s?this.mi.delete(i.toString()):this.mi.add(i.toString())})}Pi(e){return 0}fi(e,i){return it.or([()=>it.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class Cc{constructor(e,i){this.persistence=e,this.gi=new Ma(s=>Rb(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Uw(this,i)}static Vi(e,i){return new Cc(e,i)}Ii(){}di(e){return it.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}mr(e){const i=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}yr(e){let i=0;return this.gr(e,s=>{i++}).next(()=>i)}gr(e,i){return it.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(c=>c?it.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ri(e,d=>this.Sr(e,d,i).next(g=>{g||(s++,c.removeEntry(d,Ct.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.gi.set(i,e.currentSequenceNumber),it.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.gi.set(s,e.currentSequenceNumber),it.resolve()}removeReference(e,i,s){return this.gi.set(s,e.currentSequenceNumber),it.resolve()}updateLimboDocument(e,i){return this.gi.set(i,e.currentSequenceNumber),it.resolve()}Pi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=oc(e.data.value)),i}Sr(e,i,s){return it.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.gi.get(i);return it.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Is=s,this.ds=o}static Es(e,i){let s=Bt(),o=Bt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new sm(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return HA()?8:bb(jA())>0?6:4}()}initialize(e,i){this.gs=e,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.ps(e,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ys(e,i,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new Xw;return this.ws(e,i,d).next(g=>{if(c.result=g,this.Rs)return this.Ss(e,i,d,g.size)})}).next(()=>c.result)}Ss(e,i,s,o){return s.documentReadCount<this.Vs?(Rs()<=Kt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",Cs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),it.resolve()):(Rs()<=Kt.DEBUG&&ft("QueryEngine","Query:",Cs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(Rs()<=Kt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",Cs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(i))):it.resolve())}ps(e,i){if(x_(i))return it.resolve(null);let s=bi(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=bd(i,null,"F"),s=bi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=Bt(...c);return this.gs.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(y=>{const p=this.bs(i,g);return this.Ds(i,p,d,y.readTime)?this.ps(e,bd(i,null,"F")):this.vs(e,p,i,y)}))})))}ys(e,i,s,o){return x_(i)||o.isEqual(Ct.min())?it.resolve(null):this.gs.getDocuments(e,s).next(c=>{const d=this.bs(i,c);return this.Ds(i,d,s,o)?it.resolve(null):(Rs()<=Kt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Cs(i)),this.vs(e,d,i,vb(o,go)).next(g=>g))})}bs(e,i){let s=new Fe(h0(e));return i.forEach((o,c)=>{kc(e,c)&&(s=s.add(c))}),s}Ds(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ws(e,i,s){return Rs()<=Kt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",Cs(i)),this.gs.getDocumentsMatchingQuery(e,i,qr.min(),s)}vs(e,i,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="LocalStore",Zw=3e8;class Jw{constructor(e,i,s,o){this.persistence=e,this.Cs=i,this.serializer=o,this.Fs=new Ae(Lt),this.Ms=new Ma(c=>Zd(c),Jd),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bw(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Fs))}}function Ww(r,e,i,s){return new Jw(r,e,i,s)}async function L0(r,e){const i=xt(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.Ns(e),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let y=Bt();for(const p of o){d.push(p.batchId);for(const A of p.mutations)y=y.add(A.key)}for(const p of c){g.push(p.batchId);for(const A of p.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(s,y).next(p=>({Bs:p,removedBatchIds:d,addedBatchIds:g}))})})}function tR(r,e){const i=xt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=i.Os.newChangeBuffer({trackRemovals:!0});return function(g,y,p,A){const R=p.batch,C=R.keys();let P=it.resolve();return C.forEach(H=>{P=P.next(()=>A.getEntry(y,H)).next($=>{const F=p.docVersions.get(H);ie(F!==null,48541),$.version.compareTo(F)<0&&(R.applyToRemoteDocument($,p),$.isValidDocument()&&($.setReadTime(p.commitVersion),A.addEntry($)))})}),P.next(()=>g.mutationQueue.removeMutationBatch(y,R))}(i,s,e,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let y=Bt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function P0(r){const e=xt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.hi.getLastRemoteSnapshotVersion(i))}function eR(r,e){const i=xt(r),s=e.snapshotVersion;let o=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.Os.newChangeBuffer({trackRemovals:!0});o=i.Fs;const g=[];e.targetChanges.forEach((A,R)=>{const C=o.get(R);if(!C)return;g.push(i.hi.removeMatchingKeys(c,A.removedDocuments,R).next(()=>i.hi.addMatchingKeys(c,A.addedDocuments,R)));let P=C.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(R)!==null?P=P.withResumeToken(sn.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):A.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(A.resumeToken,s)),o=o.insert(R,P),function($,F,nt){return $.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=Zw?!0:nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0}(C,P,A)&&g.push(i.hi.updateTargetData(c,P))});let y=lr(),p=Bt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(nR(c,d,e.documentUpdates).next(A=>{y=A.Ls,p=A.ks})),!s.isEqual(Ct.min())){const A=i.hi.getLastRemoteSnapshotVersion(c).next(R=>i.hi.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(A)}return it.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,y,p)).next(()=>y)}).then(c=>(i.Fs=o,c))}function nR(r,e,i){let s=Bt(),o=Bt();return i.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let d=lr();return i.forEach((g,y)=>{const p=c.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Ct.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):ft(lm,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)}),{Ls:d,ks:o}})}function iR(r,e){const i=xt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Kd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function rR(r,e){const i=xt(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.hi.getTargetData(s,e).next(c=>c?(o=c,it.resolve(o)):i.hi.allocateTargetId(s).next(d=>(o=new Pr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(s.targetId,s),i.Ms.set(e,s.targetId)),s})}async function xd(r,e,i){const s=xt(r),o=s.Fs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Fs(d))throw d;ft(lm,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function q_(r,e,i){const s=xt(r);let o=Ct.min(),c=Bt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(y,p,A){const R=xt(y),C=R.Ms.get(A);return C!==void 0?it.resolve(R.Fs.get(C)):R.hi.getTargetData(p,A)}(s,d,bi(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(d,g.targetId).next(y=>{c=y})}).next(()=>s.Cs.getDocumentsMatchingQuery(d,e,i?o:Ct.min(),i?c:Bt())).next(g=>(aR(s,Gb(e),g),{documents:g,qs:c})))}function aR(r,e,i){let s=r.xs.get(e)||Ct.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.xs.set(e,s)}class H_{constructor(){this.activeTargetIds=Zb()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sR{constructor(){this.Fo=new H_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,i,s){this.Mo[e]=i}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new H_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="ConnectivityMonitor";class G_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ft(F_,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ft(F_,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc=null;function Id(){return rc===null?rc=function(){return 268435456+Math.round(2147483648*Math.random())}():rc++,"0x"+rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld="RestConnection",oR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uR{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Ec?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,i,s,o,c){const d=Id(),g=this.Go(e,i.toUriEncodedString());ft(ld,`Sending RPC '${e}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(y,o,c);const{host:p}=new URL(g),A=Fd(p);return this.jo(e,g,y,s,A).then(R=>(ft(ld,`Received RPC '${e}' ${d}: `,R),R),R=>{throw jr(ld,`RPC '${e}' ${d} failed with error: `,R,"url: ",g,"request:",s),R})}Jo(e,i,s,o,c,d){return this.Wo(e,i,s,o,c)}zo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}Go(e,i){const s=oR[e];return`${this.$o}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class hR extends uR{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,i,s,o,c){const d=Id();return new Promise((g,y)=>{const p=new Uv;p.setWithCredentials(!0),p.listenOnce(kv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case lc.NO_ERROR:const R=p.getResponseJson();ft(un,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(R)),g(R);break;case lc.TIMEOUT:ft(un,`RPC '${e}' ${d} timed out`),y(new ht(J.DEADLINE_EXCEEDED,"Request time out"));break;case lc.HTTP_ERROR:const C=p.getStatus();if(ft(un,`RPC '${e}' ${d} failed with status:`,C,"response text:",p.getResponseText()),C>0){let P=p.getResponseJson();Array.isArray(P)&&(P=P[0]);const H=P?.error;if(H&&H.status&&H.message){const $=function(nt){const at=nt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(at)>=0?at:J.UNKNOWN}(H.status);y(new ht($,H.message))}else y(new ht(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new ht(J.UNAVAILABLE,"Connection failed."));break;default:St(9055,{c_:e,streamId:d,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{ft(un,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(o);ft(un,`RPC '${e}' ${d} sending request:`,o),p.send(i,"POST",A,s,15)})}P_(e,i,s){const o=Id(),c=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=jv(),g=Bv(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.zo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const A=c.join("");ft(un,`Creating RPC '${e}' stream ${o}: ${A}`,y);const R=d.createWebChannel(A,y);this.T_(R);let C=!1,P=!1;const H=new cR({Ho:F=>{P?ft(un,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(C||(ft(un,`Opening RPC '${e}' stream ${o} transport.`),R.open(),C=!0),ft(un,`RPC '${e}' stream ${o} sending:`,F),R.send(F))},Yo:()=>R.close()}),$=(F,nt,at)=>{F.listen(nt,st=>{try{at(st)}catch(Et){setTimeout(()=>{throw Et},0)}})};return $(R,io.EventType.OPEN,()=>{P||(ft(un,`RPC '${e}' stream ${o} transport opened.`),H.s_())}),$(R,io.EventType.CLOSE,()=>{P||(P=!0,ft(un,`RPC '${e}' stream ${o} transport closed`),H.__(),this.I_(R))}),$(R,io.EventType.ERROR,F=>{P||(P=!0,jr(un,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),H.__(new ht(J.UNAVAILABLE,"The operation could not be completed")))}),$(R,io.EventType.MESSAGE,F=>{var nt;if(!P){const at=F.data[0];ie(!!at,16349);const st=at,Et=st?.error||((nt=st[0])===null||nt===void 0?void 0:nt.error);if(Et){ft(un,`RPC '${e}' stream ${o} received error:`,Et);const gt=Et.status;let wt=function(T){const w=Pe[T];if(w!==void 0)return S0(w)}(gt),O=Et.message;wt===void 0&&(wt=J.INTERNAL,O="Unknown error status: "+gt+" with message "+Et.message),P=!0,H.__(new ht(wt,O)),R.close()}else ft(un,`RPC '${e}' stream ${o} received:`,at),H.a_(at)}}),$(g,zv.STAT_EVENT,F=>{F.stat===yd.PROXY?ft(un,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===yd.NOPROXY&&ft(un,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{H.o_()},0),H}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(i=>i===e)}}function od(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(r){return new pw(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Fi=e,this.timerId=i,this.d_=s,this.E_=o,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const i=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,i-s);o>0&&ft("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="PersistentStream";class k0{constructor(e,i,s,o,c,d,g,y){this.Fi=e,this.w_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new U0(e,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(sr(i.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(i)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===i&&this.W_(s,o)},s=>{e(()=>{const o=new ht(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,i){const s=this.K_(this.b_);this.stream=this.z_(e,i),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ft(Q_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return i=>{this.Fi.enqueueAndForget(()=>this.b_===e?i():(ft(Q_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fR extends k0{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}z_(e,i){return this.connection.P_("Listen",e,i)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const i=_w(this.serializer,e),s=function(c){if(!("targetChange"in c))return Ct.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ct.min():d.readTime?wi(d.readTime):Ct.min()}(e);return this.listener.J_(i,s)}H_(e){const i={};i.database=Dd(this.serializer),i.addTarget=function(c,d){let g;const y=d.target;if(g=Ad(y)?{documents:Tw(c,y)}:{query:Aw(c,y).Vt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=R0(c,d.resumeToken);const p=wd(c,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(Ct.min())>0){g.readTime=Rc(c,d.snapshotVersion.toTimestamp());const p=wd(c,d.expectedCount);p!==null&&(g.expectedCount=p)}return g}(this.serializer,e);const s=bw(this.serializer,e);s&&(i.labels=s),this.k_(i)}Y_(e){const i={};i.database=Dd(this.serializer),i.removeTarget=e,this.k_(i)}}class dR extends k0{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,i){return this.connection.P_("Write",e,i)}j_(e){return ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const i=Ew(e.writeResults,e.commitTime),s=wi(e.commitTime);return this.listener.ta(s,i)}na(){const e={};e.database=Dd(this.serializer),this.k_(e)}X_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>vw(this.serializer,s))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{}class pR extends mR{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ht(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,Rd(i,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(J.UNKNOWN,c.toString())})}Jo(e,i,s,o,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Jo(e,Rd(i,s),o,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ht(J.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class gR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(sr(i),this._a=!1):ft("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="RemoteStore";class yR{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo(d=>{s.enqueueAndForget(async()=>{La(this)&&(ft(Na,"Restarting streams for network reachability change."),await async function(y){const p=xt(y);p.Ia.add(4),await xo(p),p.Aa.set("Unknown"),p.Ia.delete(4),await Hc(p)}(this))})}),this.Aa=new gR(s,o)}}async function Hc(r){if(La(r))for(const e of r.da)await e(!0)}async function xo(r){for(const e of r.da)await e(!1)}function z0(r,e){const i=xt(r);i.Ta.has(e.targetId)||(i.Ta.set(e.targetId,e),hm(i)?cm(i):Gs(i).x_()&&um(i,e))}function om(r,e){const i=xt(r),s=Gs(i);i.Ta.delete(e),s.x_()&&B0(i,e),i.Ta.size===0&&(s.x_()?s.B_():La(i)&&i.Aa.set("Unknown"))}function um(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ct.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Gs(r).H_(e)}function B0(r,e){r.Ra.$e(e),Gs(r).Y_(e)}function cm(r){r.Ra=new hw({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Gs(r).start(),r.Aa.aa()}function hm(r){return La(r)&&!Gs(r).M_()&&r.Ta.size>0}function La(r){return xt(r).Ia.size===0}function j0(r){r.Ra=void 0}async function _R(r){r.Aa.set("Online")}async function vR(r){r.Ta.forEach((e,i)=>{um(r,e)})}async function ER(r,e){j0(r),hm(r)?(r.Aa.la(e),cm(r)):r.Aa.set("Unknown")}async function TR(r,e,i){if(r.Aa.set("Online"),e instanceof w0&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ta.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ta.delete(g),o.Ra.removeTarget(g))}(r,e)}catch(s){ft(Na,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Dc(r,s)}else if(e instanceof hc?r.Ra.Ye(e):e instanceof b0?r.Ra.it(e):r.Ra.et(e),!i.isEqual(Ct.min()))try{const s=await P0(r.localStore);i.compareTo(s)>=0&&await function(c,d){const g=c.Ra.Pt(d);return g.targetChanges.forEach((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ta.get(p);A&&c.Ta.set(p,A.withResumeToken(y.resumeToken,d))}}),g.targetMismatches.forEach((y,p)=>{const A=c.Ta.get(y);if(!A)return;c.Ta.set(y,A.withResumeToken(sn.EMPTY_BYTE_STRING,A.snapshotVersion)),B0(c,y);const R=new Pr(A.target,y,p,A.sequenceNumber);um(c,R)}),c.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(s){ft(Na,"Failed to raise snapshot:",s),await Dc(r,s)}}async function Dc(r,e,i){if(!Fs(e))throw e;r.Ia.add(1),await xo(r),r.Aa.set("Offline"),i||(i=()=>P0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ft(Na,"Retrying IndexedDB access"),await i(),r.Ia.delete(1),await Hc(r)})}function q0(r,e){return e().catch(i=>Dc(r,i,e))}async function Fc(r){const e=xt(r),i=Qr(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Kd;for(;AR(e);)try{const o=await iR(e.localStore,s);if(o===null){e.Pa.length===0&&i.B_();break}s=o.batchId,SR(e,o)}catch(o){await Dc(e,o)}H0(e)&&F0(e)}function AR(r){return La(r)&&r.Pa.length<10}function SR(r,e){r.Pa.push(e);const i=Qr(r);i.x_()&&i.Z_&&i.X_(e.mutations)}function H0(r){return La(r)&&!Qr(r).M_()&&r.Pa.length>0}function F0(r){Qr(r).start()}async function bR(r){Qr(r).na()}async function wR(r){const e=Qr(r);for(const i of r.Pa)e.X_(i.mutations)}async function RR(r,e,i){const s=r.Pa.shift(),o=em.from(s,e,i);await q0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Fc(r)}async function CR(r,e){e&&Qr(r).Z_&&await async function(s,o){if(function(d){return uw(d)&&d!==J.ABORTED}(o.code)){const c=s.Pa.shift();Qr(s).N_(),await q0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Fc(s)}}(r,e),H0(r)&&F0(r)}async function Y_(r,e){const i=xt(r);i.asyncQueue.verifyOperationInProgress(),ft(Na,"RemoteStore received new credentials");const s=La(i);i.Ia.add(3),await xo(i),s&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ia.delete(3),await Hc(i)}async function DR(r,e){const i=xt(r);e?(i.Ia.delete(2),await Hc(i)):e||(i.Ia.add(2),await xo(i),i.Aa.set("Unknown"))}function Gs(r){return r.Va||(r.Va=function(i,s,o){const c=xt(i);return c.ia(),new fR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Zo:_R.bind(null,r),e_:vR.bind(null,r),n_:ER.bind(null,r),J_:TR.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),hm(r)?cm(r):r.Aa.set("Unknown")):(await r.Va.stop(),j0(r))})),r.Va}function Qr(r){return r.ma||(r.ma=function(i,s,o){const c=xt(i);return c.ia(),new dR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:bR.bind(null,r),n_:CR.bind(null,r),ea:wR.bind(null,r),ta:RR.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await Fc(r)):(await r.ma.stop(),r.Pa.length>0&&(ft(Na,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,g=new fm(e,i,d,o,c);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dm(r,e){if(sr("AsyncQueue",`${e}: ${r}`),Fs(r))return new ht(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{static emptySet(e){return new Vs(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||vt.comparator(i.key,s.key):(i,s)=>vt.comparator(i.key,s.key),this.keyedMap=ro(),this.sortedSet=new Ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Vs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Vs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.fa=new Ae(vt.comparator)}track(e){const i=e.doc.key,s=this.fa.get(i);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(i,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(i):e.type===1&&s.type===2?this.fa=this.fa.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):St(63341,{At:e,ga:s}):this.fa=this.fa.insert(i,e)}pa(){const e=[];return this.fa.inorderTraversal((i,s)=>{e.push(s)}),e}}class ks{constructor(e,i,s,o,c,d,g,y,p){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new ks(e,i,Vs.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class IR{constructor(){this.queries=X_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,s){const o=xt(i),c=o.queries;o.queries=X_(),c.forEach((d,g)=>{for(const y of g.wa)y.onError(s)})})(this,new ht(J.ABORTED,"Firestore shutting down"))}}function X_(){return new Ma(r=>c0(r),Uc)}async function G0(r,e){const i=xt(r);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.ba()&&(s=2):(c=new xR,s=e.ba()?0:1);try{switch(s){case 0:c.ya=await i.onListen(o,!0);break;case 1:c.ya=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=dm(d,`Initialization of query '${Cs(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.wa.push(e),e.va(i.onlineState),c.ya&&e.Ca(c.ya)&&mm(i)}async function Q0(r,e){const i=xt(r),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.wa.indexOf(e);d>=0&&(c.wa.splice(d,1),c.wa.length===0?o=e.ba()?0:1:!c.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function VR(r,e){const i=xt(r);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.wa)g.Ca(o)&&(s=!0);d.ya=o}}s&&mm(i)}function NR(r,e,i){const s=xt(r),o=s.queries.get(e);if(o)for(const c of o.wa)c.onError(i);s.queries.delete(e)}function mm(r){r.Da.forEach(e=>{e.next()})}var Vd,$_;($_=Vd||(Vd={})).Fa="default",$_.Cache="cache";class Y0{constructor(e,i,s){this.query=e,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ks(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),i=!0):this.Ba(e,this.onlineState)&&(this.La(e),i=!0),this.Oa=e,i}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),i=!0),i}Ba(e,i){if(!e.fromCache||!this.ba())return!0;const s=i!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(e){e=ks.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Vd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e){this.key=e}}class X0{constructor(e){this.key=e}}class OR{constructor(e,i){this.query=e,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Bt(),this.mutatedKeys=Bt(),this.Xa=h0(e),this.eu=new Vs(this.Xa)}get tu(){return this.Ha}nu(e,i){const s=i?i.ru:new K_,o=i?i.eu:this.eu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,R)=>{const C=o.get(A),P=kc(this.query,R)?R:null,H=!!C&&this.mutatedKeys.has(C.key),$=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let F=!1;C&&P?C.data.isEqual(P.data)?H!==$&&(s.track({type:3,doc:P}),F=!0):this.iu(C,P)||(s.track({type:2,doc:P}),F=!0,(y&&this.Xa(P,y)>0||p&&this.Xa(P,p)<0)&&(g=!0)):!C&&P?(s.track({type:0,doc:P}),F=!0):C&&!P&&(s.track({type:1,doc:C}),F=!0,(y||p)&&(g=!0)),F&&(P?(d=d.add(P),c=$?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{eu:d,ru:s,Ds:g,mutatedKeys:c}}iu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((A,R)=>function(P,H){const $=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{At:F})}};return $(P)-$(H)}(A.type,R.type)||this.Xa(A.doc,R.doc)),this.su(s),o=o!=null&&o;const g=i&&!o?this.ou():[],y=this.Za.size===0&&this.current&&!o?1:0,p=y!==this.Ya;return this.Ya=y,d.length!==0||p?{snapshot:new ks(this.query,e.eu,c,d,e.mutatedKeys,y===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new K_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Bt(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const i=[];return e.forEach(s=>{this.Za.has(s)||i.push(new X0(s))}),this.Za.forEach(s=>{e.has(s)||i.push(new K0(s))}),i}uu(e){this.Ha=e.qs,this.Za=Bt();const i=this.nu(e.documents);return this.applyChanges(i,!0)}cu(){return ks.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const pm="SyncEngine";class MR{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class LR{constructor(e){this.key=e,this.lu=!1}}class PR{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new Ma(g=>c0(g),Uc),this.Tu=new Map,this.Iu=new Set,this.du=new Ae(vt.comparator),this.Eu=new Map,this.Au=new rm,this.Ru={},this.Vu=new Map,this.mu=Us.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function UR(r,e,i=!0){const s=eE(r);let o;const c=s.Pu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.cu()):o=await $0(s,e,i,!0),o}async function kR(r,e){const i=eE(r);await $0(i,e,!0,!1)}async function $0(r,e,i,s){const o=await rR(r.localStore,bi(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await zR(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&z0(r.remoteStore,o),g}async function zR(r,e,i,s,o){r.gu=(R,C,P)=>async function($,F,nt,at){let st=F.view.nu(nt);st.Ds&&(st=await q_($.localStore,F.query,!1).then(({documents:O})=>F.view.nu(O,st)));const Et=at&&at.targetChanges.get(F.targetId),gt=at&&at.targetMismatches.get(F.targetId)!=null,wt=F.view.applyChanges(st,$.isPrimaryClient,Et,gt);return J_($,F.targetId,wt._u),wt.snapshot}(r,R,C,P);const c=await q_(r.localStore,e,!0),d=new OR(e,c.qs),g=d.nu(c.documents),y=Do.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),p=d.applyChanges(g,r.isPrimaryClient,y);J_(r,i,p._u);const A=new MR(e,i,d);return r.Pu.set(e,A),r.Tu.has(i)?r.Tu.get(i).push(e):r.Tu.set(i,[e]),p.snapshot}async function BR(r,e,i){const s=xt(r),o=s.Pu.get(e),c=s.Tu.get(o.targetId);if(c.length>1)return s.Tu.set(o.targetId,c.filter(d=>!Uc(d,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await xd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&om(s.remoteStore,o.targetId),Nd(s,o.targetId)}).catch(Hs)):(Nd(s,o.targetId),await xd(s.localStore,o.targetId,!0))}async function jR(r,e){const i=xt(r),s=i.Pu.get(e),o=i.Tu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),om(i.remoteStore,s.targetId))}async function qR(r,e,i){const s=XR(r);try{const o=await function(d,g){const y=xt(d),p=ge.now(),A=g.reduce((P,H)=>P.add(H.key),Bt());let R,C;return y.persistence.runTransaction("Locally write mutations","readwrite",P=>{let H=lr(),$=Bt();return y.Os.getEntries(P,A).next(F=>{H=F,H.forEach((nt,at)=>{at.isValidDocument()||($=$.add(nt))})}).next(()=>y.localDocuments.getOverlayedDocuments(P,H)).next(F=>{R=F;const nt=[];for(const at of g){const st=rw(at,R.get(at.key).overlayedDocument);st!=null&&nt.push(new $r(at.key,st,n0(st.value.mapValue),ei.exists(!0)))}return y.mutationQueue.addMutationBatch(P,p,nt,g)}).next(F=>{C=F;const nt=F.applyToLocalDocumentSet(R,$);return y.documentOverlayCache.saveOverlays(P,F.batchId,nt)})}).then(()=>({batchId:C.batchId,changes:d0(R)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,y){let p=d.Ru[d.currentUser.toKey()];p||(p=new Ae(Lt)),p=p.insert(g,y),d.Ru[d.currentUser.toKey()]=p}(s,o.batchId,i),await Io(s,o.changes),await Fc(s.remoteStore)}catch(o){const c=dm(o,"Failed to persist write");i.reject(c)}}async function Z0(r,e){const i=xt(r);try{const s=await eR(i.localStore,e);e.targetChanges.forEach((o,c)=>{const d=i.Eu.get(c);d&&(ie(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.lu=!0:o.modifiedDocuments.size>0?ie(d.lu,14607):o.removedDocuments.size>0&&(ie(d.lu,42227),d.lu=!1))}),await Io(i,s,e)}catch(s){await Hs(s)}}function Z_(r,e,i){const s=xt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Pu.forEach((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const y=xt(d);y.onlineState=g;let p=!1;y.queries.forEach((A,R)=>{for(const C of R.wa)C.va(g)&&(p=!0)}),p&&mm(y)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function HR(r,e,i){const s=xt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Eu.get(e),c=o&&o.key;if(c){let d=new Ae(vt.comparator);d=d.insert(c,hn.newNoDocument(c,Ct.min()));const g=Bt().add(c),y=new jc(Ct.min(),new Map,new Ae(Lt),d,g);await Z0(s,y),s.du=s.du.remove(c),s.Eu.delete(e),gm(s)}else await xd(s.localStore,e,!1).then(()=>Nd(s,e,i)).catch(Hs)}async function FR(r,e){const i=xt(r),s=e.batch.batchId;try{const o=await tR(i.localStore,e);W0(i,s,null),J0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Io(i,o)}catch(o){await Hs(o)}}async function GR(r,e,i){const s=xt(r);try{const o=await function(d,g){const y=xt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let A;return y.mutationQueue.lookupMutationBatch(p,g).next(R=>(ie(R!==null,37113),A=R.keys(),y.mutationQueue.removeMutationBatch(p,R))).next(()=>y.mutationQueue.performConsistencyCheck(p)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(p,A,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,A)).next(()=>y.localDocuments.getDocuments(p,A))})}(s.localStore,e);W0(s,e,i),J0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Io(s,o)}catch(o){await Hs(o)}}function J0(r,e){(r.Vu.get(e)||[]).forEach(i=>{i.resolve()}),r.Vu.delete(e)}function W0(r,e,i){const s=xt(r);let o=s.Ru[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function Nd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),i&&r.hu.pu(s,i);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(s=>{r.Au.containsKey(s)||tE(r,s)})}function tE(r,e){r.Iu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(om(r.remoteStore,i),r.du=r.du.remove(e),r.Eu.delete(i),gm(r))}function J_(r,e,i){for(const s of i)s instanceof K0?(r.Au.addReference(s.key,e),QR(r,s)):s instanceof X0?(ft(pm,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||tE(r,s.key)):St(19791,{yu:s})}function QR(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Iu.has(s)||(ft(pm,"New document in limbo: "+i),r.Iu.add(s),gm(r))}function gm(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const i=new vt(pe.fromString(e)),s=r.mu.next();r.Eu.set(s,new LR(i)),r.du=r.du.insert(i,s),z0(r.remoteStore,new Pr(bi(Wd(i.path)),s,"TargetPurposeLimboResolution",Mc.ue))}}async function Io(r,e,i){const s=xt(r),o=[],c=[],d=[];s.Pu.isEmpty()||(s.Pu.forEach((g,y)=>{d.push(s.gu(y,e,i).then(p=>{var A;if((p||i)&&s.isPrimaryClient){const R=p?!p.fromCache:(A=i?.targetChanges.get(y.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(y.targetId,R?"current":"not-current")}if(p){o.push(p);const R=sm.Es(y.targetId,p);c.push(R)}}))}),await Promise.all(d),s.hu.J_(o),await async function(y,p){const A=xt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>it.forEach(p,C=>it.forEach(C.Is,P=>A.persistence.referenceDelegate.addReference(R,C.targetId,P)).next(()=>it.forEach(C.ds,P=>A.persistence.referenceDelegate.removeReference(R,C.targetId,P)))))}catch(R){if(!Fs(R))throw R;ft(lm,"Failed to update sequence numbers: "+R)}for(const R of p){const C=R.targetId;if(!R.fromCache){const P=A.Fs.get(C),H=P.snapshotVersion,$=P.withLastLimboFreeSnapshotVersion(H);A.Fs=A.Fs.insert(C,$)}}}(s.localStore,c))}async function YR(r,e){const i=xt(r);if(!i.currentUser.isEqual(e)){ft(pm,"User change. New user:",e.toKey());const s=await L0(i.localStore,e);i.currentUser=e,function(c,d){c.Vu.forEach(g=>{g.forEach(y=>{y.reject(new ht(J.CANCELLED,d))})}),c.Vu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Io(i,s.Bs)}}function KR(r,e){const i=xt(r),s=i.Eu.get(e);if(s&&s.lu)return Bt().add(s.key);{let o=Bt();const c=i.Tu.get(e);if(!c)return o;for(const d of c){const g=i.Pu.get(d);o=o.unionWith(g.view.tu)}return o}}function eE(r){const e=xt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Z0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HR.bind(null,e),e.hu.J_=VR.bind(null,e.eventManager),e.hu.pu=NR.bind(null,e.eventManager),e}function XR(r){const e=xt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GR.bind(null,e),e}class xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,i){return null}Fu(e,i){return null}vu(e){return Ww(this.persistence,new $w,e.initialUser,this.serializer)}Du(e){return new M0(am.Vi,this.serializer)}bu(e){return new sR}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xc.provider={build:()=>new xc};class $R extends xc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,i){ie(this.persistence.referenceDelegate instanceof Cc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Lw(s,e.asyncQueue,i)}Du(e){const i=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new M0(s=>Cc.Vi(s,i),this.serializer)}}class Od{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Z_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=YR.bind(null,this.syncEngine),await DR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new IR}()}createDatastore(e){const i=qc(e.databaseInfo.databaseId),s=function(c){return new hR(c)}(e.databaseInfo);return function(c,d,g,y){return new pR(c,d,g,y)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,c,d,g){return new yR(s,o,c,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>Z_(this.syncEngine,i,0),function(){return G_.C()?new G_:new lR}())}createSyncEngine(e,i){return function(o,c,d,g,y,p,A){const R=new PR(o,c,d,g,y,p);return A&&(R.fu=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const c=xt(o);ft(Na,"RemoteStore shutting down."),c.Ia.add(5),await xo(c),c.Ea.shutdown(),c.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Od.provider={build:()=>new Od};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="FirestoreClient";class ZR{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=Yd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{ft(Yr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ft(Yr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=dm(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function ud(r,e){r.asyncQueue.verifyOperationInProgress(),ft(Yr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await L0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{jr("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{ft("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{jr("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function W_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await JR(r);ft(Yr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>Y_(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Y_(e.remoteStore,o)),r._onlineComponents=e}async function JR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ft(Yr,"Using user provided OfflineComponentProvider");try{await ud(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;jr("Error using user provided cache. Falling back to memory cache: "+i),await ud(r,new xc)}}else ft(Yr,"Using default OfflineComponentProvider"),await ud(r,new $R(void 0));return r._offlineComponents}async function iE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ft(Yr,"Using user provided OnlineComponentProvider"),await W_(r,r._uninitializedComponentsProvider._online)):(ft(Yr,"Using default OnlineComponentProvider"),await W_(r,new Od))),r._onlineComponents}function WR(r){return iE(r).then(e=>e.syncEngine)}async function rE(r){const e=await iE(r),i=e.eventManager;return i.onListen=UR.bind(null,e.syncEngine),i.onUnlisten=BR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=kR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=jR.bind(null,e.syncEngine),i}function t2(r,e,i={}){const s=new nr;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,g,y,p){const A=new nE({next:C=>{A.Ou(),d.enqueueAndForget(()=>Q0(c,R));const P=C.docs.has(g);!P&&C.fromCache?p.reject(new ht(J.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&C.fromCache&&y&&y.source==="server"?p.reject(new ht(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(C)},error:C=>p.reject(C)}),R=new Y0(Wd(g.path),A,{includeMetadataChanges:!0,ka:!0});return G0(c,R)}(await rE(r),r.asyncQueue,e,i,s)),s.promise}function e2(r,e,i={}){const s=new nr;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,g,y,p){const A=new nE({next:C=>{A.Ou(),d.enqueueAndForget(()=>Q0(c,R)),C.fromCache&&y.source==="server"?p.reject(new ht(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(C)},error:C=>p.reject(C)}),R=new Y0(g,A,{includeMetadataChanges:!0,ka:!0});return G0(c,R)}(await rE(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="firestore.googleapis.com",ev=!0;class nv{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ht(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sE,this.ssl=ev}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:ev;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=O0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ow)throw new ht(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_b("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aE((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ht(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new ub;switch(s.type){case"firstParty":return new db(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=tv.get(i);s&&(ft("ComponentProvider","Removing Datastore"),tv.delete(i),s.terminate())}(this),Promise.resolve()}}function n2(r,e,i,s={}){var o;r=Di(r,Gc);const c=Fd(e),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),y=`${e}:${i}`;c&&(PA(`https://${y}`),BA("Firestore",!0)),d.host!==sE&&d.host!==y&&jr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},d),{host:y,ssl:c,emulatorOptions:s});if(!gc(p,g)&&(r._setSettings(p),s.mockUserToken)){let A,R;if(typeof s.mockUserToken=="string")A=s.mockUserToken,R=cn.MOCK_USER;else{A=UA(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new ht(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new cn(C)}r._authCredentials=new cb(new Hv(A,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Qs(this.firestore,e,this._query)}}class Ie{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ie(this.firestore,e,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(wo(i,Ie._jsonSchema))return new Ie(e,s||null,new vt(pe.fromString(i.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:ke("string",Ie._jsonSchemaVersion),referencePath:ke("string")};class Br extends Qs{constructor(e,i,s){super(e,i,Wd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ie(this.firestore,null,new vt(e))}withConverter(e){return new Br(this.firestore,e,this._path)}}function lE(r,e,...i){if(r=rr(r),Gv("collection","path",e),r instanceof Gc){const s=pe.fromString(e,...i);return p_(s),new Br(r,null,s)}{if(!(r instanceof Ie||r instanceof Br))throw new ht(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(pe.fromString(e,...i));return p_(s),new Br(r.firestore,null,s)}}function Ao(r,e,...i){if(r=rr(r),arguments.length===1&&(e=Yd.newId()),Gv("doc","path",e),r instanceof Gc){const s=pe.fromString(e,...i);return m_(s),new Ie(r,null,new vt(s))}{if(!(r instanceof Ie||r instanceof Br))throw new ht(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(pe.fromString(e,...i));return m_(s),new Ie(r.firestore,r instanceof Br?r.converter:null,new vt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="AsyncQueue";class rv{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new U0(this,"async_queue_retry"),this.oc=()=>{const s=od();s&&ft(iv,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const i=od();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const i=od();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const i=new nr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Fs(e))throw e;ft(iv,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const i=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,sr("INTERNAL UNHANDLED ERROR: ",av(s)),s}).then(s=>(this.nc=!1,s))));return this._c=i,i}enqueueAfterDelay(e,i,s){this.ac(),this.sc.indexOf(e)>-1&&(i=0);const o=fm.createAndSchedule(this,e,i,s,c=>this.lc(c));return this.ec.push(o),o}ac(){this.tc&&St(47125,{hc:av(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const i of this.ec)if(i.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.ec)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const i=this.ec.indexOf(e);this.ec.splice(i,1)}}function av(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Ys extends Gc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new rv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rv(e),this._firestoreClient=void 0,await e}}}function i2(r,e){const i=typeof r=="object"?r:$S(),s=typeof r=="string"?r:Ec,o=GS(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=MA("firestore");c&&n2(o,...c)}return o}function ym(r){if(r._terminated)throw new ht(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||r2(r),r._firestoreClient}function r2(r){var e,i,s;const o=r._freezeSettings(),c=function(g,y,p,A){return new xb(g,y,p,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,aE(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new ZR(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const y=g?._online.build();return{_offline:g?._offline.build(y),_online:y}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(sn.fromBase64String(e))}catch(i){throw new ht(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Yn(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wo(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:ke("string",Yn._jsonSchemaVersion),bytes:ke("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ht(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ht(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ht(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Lt(this._lat,e._lat)||Lt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(e){if(wo(e,Ri._jsonSchema))return new Ri(e.latitude,e.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:ke("string",Ri._jsonSchemaVersion),latitude:ke("number"),longitude:ke("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wo(e,Ci._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new Ci(e.vectorValues);throw new ht(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ci._jsonSchemaVersion="firestore/vectorValue/1.0",Ci._jsonSchema={type:ke("string",Ci._jsonSchemaVersion),vectorValues:ke("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=/^__.*__$/;class s2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new $r(e,this.data,this.fieldMask,i,this.fieldTransforms):new Co(e,this.data,i,this.fieldTransforms)}}class oE{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new $r(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function uE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ec:r})}}class vm{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new vm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ic(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(uE(this.Ec)&&a2.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class l2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||qc(e)}Dc(e,i,s,o=!1){return new vm({Ec:e,methodName:i,bc:s,path:an.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yc(r){const e=r._freezeSettings(),i=qc(r._databaseId);return new l2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function cE(r,e,i,s,o,c={}){const d=r.Dc(c.merge||c.mergeFields?2:0,e,i,o);Em("Data must be an object, but it was:",d,s);const g=hE(s,d);let y,p;if(c.merge)y=new On(d.fieldMask),p=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const R of c.mergeFields){const C=Md(e,R,i);if(!d.contains(C))throw new ht(J.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);dE(A,C)||A.push(C)}y=new On(A),p=d.fieldTransforms.filter(R=>y.covers(R.field))}else y=null,p=d.fieldTransforms;return new s2(new Sn(g),y,p)}class Kc extends _m{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kc}}function o2(r,e,i,s){const o=r.Dc(1,e,i);Em("Data must be an object, but it was:",o,s);const c=[],d=Sn.empty();Xr(s,(y,p)=>{const A=Tm(e,y,i);p=rr(p);const R=o.gc(A);if(p instanceof Kc)c.push(A);else{const C=Vo(p,R);C!=null&&(c.push(A),d.set(A,C))}});const g=new On(c);return new oE(d,g,o.fieldTransforms)}function u2(r,e,i,s,o,c){const d=r.Dc(1,e,i),g=[Md(e,s,i)],y=[o];if(c.length%2!=0)throw new ht(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<c.length;C+=2)g.push(Md(e,c[C])),y.push(c[C+1]);const p=[],A=Sn.empty();for(let C=g.length-1;C>=0;--C)if(!dE(p,g[C])){const P=g[C];let H=y[C];H=rr(H);const $=d.gc(P);if(H instanceof Kc)p.push(P);else{const F=Vo(H,$);F!=null&&(p.push(P),A.set(P,F))}}const R=new On(p);return new oE(A,R,d.fieldTransforms)}function c2(r,e,i,s=!1){return Vo(i,r.Dc(s?4:3,e))}function Vo(r,e){if(fE(r=rr(r)))return Em("Unsupported field value:",e,r),hE(r,e);if(r instanceof _m)return function(s,o){if(!uE(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const g of s){let y=Vo(g,o.yc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}}(r,e)}return function(s,o){if((s=rr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Jb(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ge.fromDate(s);return{timestampValue:Rc(o.serializer,c)}}if(s instanceof ge){const c=new ge(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Rc(o.serializer,c)}}if(s instanceof Ri)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Yn)return{bytesValue:R0(o.serializer,s._byteString)};if(s instanceof Ie){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:im(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ci)return function(d,g){return{mapValue:{fields:{[t0]:{stringValue:e0},[Tc]:{arrayValue:{values:d.toArray().map(p=>{if(typeof p!="number")throw g.wc("VectorValues must only contain numeric values.");return tm(g.serializer,p)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${Oc(s)}`)}(r,e)}function hE(r,e){const i={};return Kv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xr(r,(s,o)=>{const c=Vo(o,e.Vc(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function fE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ge||r instanceof Ri||r instanceof Yn||r instanceof Ie||r instanceof _m||r instanceof Ci)}function Em(r,e,i){if(!fE(i)||!Qv(i)){const s=Oc(i);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function Md(r,e,i){if((e=rr(e))instanceof Qc)return e._internalPath;if(typeof e=="string")return Tm(r,e);throw Ic("Field path arguments must be of type string or ",r,!1,void 0,i)}const h2=new RegExp("[~\\*/\\[\\]]");function Tm(r,e,i){if(e.search(h2)>=0)throw Ic(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Qc(...e.split("."))._internalPath}catch{throw Ic(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Ic(r,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${o}`),y+=")"),new ht(J.INVALID_ARGUMENT,g+r+y)}function dE(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new f2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Am("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class f2 extends mE{data(){return super.data()}}function Am(r,e){return typeof e=="string"?Tm(r,e):e instanceof Qc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ht(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sm{}class m2 extends Sm{}function p2(r,e,...i){let s=[];e instanceof Sm&&s.push(e),s=s.concat(i),function(c){const d=c.filter(y=>y instanceof bm).length,g=c.filter(y=>y instanceof Xc).length;if(d>1||d>0&&g>0)throw new ht(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Xc extends m2{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Xc(e,i,s)}_apply(e){const i=this._parse(e);return pE(e._query,i),new Qs(e.firestore,e.converter,Sd(e._query,i))}_parse(e){const i=Yc(e.firestore);return function(c,d,g,y,p,A,R){let C;if(p.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new ht(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){lv(R,A);const H=[];for(const $ of R)H.push(sv(y,c,$));C={arrayValue:{values:H}}}else C=sv(y,c,R)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||lv(R,A),C=c2(g,d,R,A==="in"||A==="not-in");return Ue.create(p,A,C)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function g2(r,e,i){const s=e,o=Am("where",r);return Xc._create(o,s,i)}class bm extends Sm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new bm(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:ni.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,c){let d=o;const g=c.getFlattenedFilters();for(const y of g)pE(d,y),d=Sd(d,y)}(e._query,i),new Qs(e.firestore,e.converter,Sd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function sv(r,e,i){if(typeof(i=rr(i))=="string"){if(i==="")throw new ht(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!u0(e)&&i.indexOf("/")!==-1)throw new ht(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(pe.fromString(i));if(!vt.isDocumentKey(s))throw new ht(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return S_(r,new vt(s))}if(i instanceof Ie)return S_(r,i._key);throw new ht(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oc(i)}.`)}function lv(r,e){if(!Array.isArray(r)||r.length===0)throw new ht(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pE(r,e){const i=function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new ht(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ht(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class y2{convertValue(e,i="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw St(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Xr(e,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(e){var i,s,o;const c=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[Tc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>xe(d.doubleValue));return new Ci(c)}convertGeoPoint(e){return new Ri(xe(e.latitude),xe(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Pc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(yo(e));default:return null}}convertTimestamp(e){const i=Hr(e);return new ge(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=pe.fromString(e);ie(N0(s),9688,{name:e});const o=new _o(s.get(1),s.get(3)),c=new vt(s.popFirst(5));return o.isEqual(i)||sr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class so{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ia extends mE{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Am("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ia._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ia._jsonSchema={type:ke("string",Ia._jsonSchemaVersion),bundleSource:ke("string","DocumentSnapshot"),bundleName:ke("string"),bundle:ke("string")};class fc extends Ia{data(e={}){return super.data(e)}}class Ns{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new so(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new fc(this._firestore,this._userDataWriter,s.key,s,new so(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ht(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const y=new fc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new so(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const y=new fc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new so(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,A=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:_2(g.type),doc:y,oldIndex:p,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ns._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Yd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(r){r=Di(r,Ie);const e=Di(r.firestore,Ys);return t2(ym(e),r._key).then(i=>A2(e,r,i))}Ns._jsonSchemaVersion="firestore/querySnapshot/1.0",Ns._jsonSchema={type:ke("string",Ns._jsonSchemaVersion),bundleSource:ke("string","QuerySnapshot"),bundleName:ke("string"),bundle:ke("string")};class _E extends y2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ie(this.firestore,null,i)}}function vE(r){r=Di(r,Qs);const e=Di(r.firestore,Ys),i=ym(e),s=new _E(e);return d2(r._query),e2(i,r._query).then(o=>new Ns(e,s,r,o))}function v2(r,e,i){r=Di(r,Ie);const s=Di(r.firestore,Ys),o=gE(r.converter,e);return wm(s,[cE(Yc(s),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,ei.none())])}function E2(r,e,i,...s){r=Di(r,Ie);const o=Di(r.firestore,Ys),c=Yc(o);let d;return d=typeof(e=rr(e))=="string"||e instanceof Qc?u2(c,"updateDoc",r._key,e,i,s):o2(c,"updateDoc",r._key,e),wm(o,[d.toMutation(r._key,ei.exists(!0))])}function T2(r,e){const i=Di(r.firestore,Ys),s=Ao(r),o=gE(r.converter,e);return wm(i,[cE(Yc(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ei.exists(!1))]).then(()=>s)}function wm(r,e){return function(s,o){const c=new nr;return s.asyncQueue.enqueueAndForget(async()=>qR(await WR(s),o,c)),c.promise}(ym(r),e)}function A2(r,e,i){const s=i.docs.get(e._key),o=new _E(r);return new Ia(r,o,e._key,s,new so(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){qs=o})(XS),_c(new mo("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Ys(new hb(s.getProvider("auth-internal")),new mb(d,s.getProvider("app-check-internal")),function(p,A){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ht(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _o(p.options.projectId,A)}(d,o),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Is(u_,c_,e),Is(u_,c_,"esm2017")})();const S2={apiKey:"AIzaSyCE0sN3G6zEg67iyXvDqDahmPJMlXITHoM",authDomain:"party-planner-b5e68.firebaseapp.com",projectId:"party-planner-b5e68",storageBucket:"party-planner-b5e68.firebasestorage.app",messagingSenderId:"357342056387",appId:"1:357342056387:web:908cfd2a3f334f3ca63776",measurementId:"G-YQJLL708DL"},b2=Ov(S2),Os=i2(b2);function w2(){const[r,e]=K.useState(""),[i,s]=K.useState(""),[o,c]=K.useState(""),[d,g]=K.useState(""),[y,p]=K.useState(""),[A,R]=K.useState(""),C=async()=>{const P=/^[a-zA-Z0-9\s]+$/;if(!r.match(P)){alert(" Company Name must not include special characters!");return}if(!i.match(P)){alert(" Event Title must not include special characters!");return}if(!r||!i||!o){alert(" Company Name, Event Title, and Date are required!");return}const H=Math.random().toString(36).substring(2,8),$={companyName:r,eventTitle:i,date:o,location:d||"Not specified",createdAt:new Date().toISOString()};try{await v2(Ao(Os,"parties",H),$);const F=window.location.origin;p(`${F}/#/rsvp/${H}`),R(`${F}/#/admin/${H}`),alert(" Party created successfully!")}catch(F){console.error("Error creating party:",F),alert(" Failed to create party. Please try again.")}};return rt.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-500 via-purple-500 to-indigo-500 flex justify-center items-center p-4",children:rt.jsxs("div",{className:"backdrop-blur-xl bg-white/20 border border-white/30 rounded-3xl shadow-2xl p-6 sm:p-8 w-full max-w-md relative",children:[rt.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-center text-white mb-4 sm:mb-6 drop-shadow-lg",children:" Plan Your Party"}),rt.jsx("p",{className:"text-center text-white/80 mb-4 sm:mb-6",children:"Enter details to create your party and share the RSVP link."}),rt.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[rt.jsx("input",{type:"text",placeholder:"Company Name",value:r,onChange:P=>e(P.target.value),className:"w-full bg-white/30 border border-white/50 rounded-xl px-4 py-3 placeholder-white text-white text-base sm:text-lg focus:outline-none focus:ring-2 focus:ring-white"}),rt.jsx("input",{type:"text",placeholder:"Event Title",value:i,onChange:P=>s(P.target.value),className:"w-full bg-white/30 border border-white/50 rounded-xl px-4 py-3 placeholder-white text-white text-base sm:text-lg focus:outline-none focus:ring-2 focus:ring-white"}),rt.jsxs("div",{className:"flex flex-col",children:[rt.jsx("label",{className:"text-white mb-1 font-medium",children:" Event Date"}),rt.jsx("input",{type:"date",value:o,onChange:P=>c(P.target.value),className:"w-full bg-white/30 border border-white/50 rounded-xl px-4 py-3 text-white text-base sm:text-lg focus:outline-none focus:ring-2 focus:ring-white appearance-none"})]}),rt.jsx("input",{type:"text",placeholder:"Location (Optional)",value:d,onChange:P=>g(P.target.value),className:"w-full bg-white/30 border border-white/50 rounded-xl px-4 py-3 placeholder-white text-white text-base sm:text-lg focus:outline-none focus:ring-2 focus:ring-white"}),rt.jsx("button",{onClick:C,className:"w-full bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-bold rounded-xl px-4 py-3 text-lg hover:scale-105 transition transform shadow-lg",children:"Create Party & Get Links"})]}),y&&rt.jsxs("div",{className:"mt-6 backdrop-blur-md bg-white/10 border border-white/20 rounded-xl p-4 text-white shadow-inner",children:[rt.jsx("h2",{className:"font-semibold text-lg mb-2",children:" Your Links"}),rt.jsxs("p",{className:"text-sm",children:[rt.jsx("strong",{children:"RSVP Link:"})," ",rt.jsx("a",{href:y,className:"text-blue-300 underline",target:"_blank",rel:"noopener noreferrer",children:y})]}),rt.jsxs("p",{className:"text-sm mt-2",children:[rt.jsx("strong",{children:"Admin Link:"})," ",rt.jsx("a",{href:A,className:"text-red-300 underline",target:"_blank",rel:"noopener noreferrer",children:A})]})]}),rt.jsxs("div",{className:"absolute bottom-3 left-0 right-0 text-center text-white/60 text-xs mt-6 sm:mt-2",children:["Developed with ",rt.jsx("span",{className:"text-red-400",children:""})," by Vipul"]})]})})}function R2(){const{id:r}=yv(),[e,i]=K.useState(null),[s,o]=K.useState(""),[c,d]=K.useState(""),[g,y]=K.useState(""),[p,A]=K.useState("Present"),[R,C]=K.useState("Non-Drinker"),[P,H]=K.useState("Mocktails"),[$,F]=K.useState(!1);K.useEffect(()=>{(async()=>{try{const st=Ao(Os,"parties",r),Et=await yE(st);Et.exists()?i(Et.data()):alert(" Party not found!")}catch(st){console.error("Error fetching party:",st),alert(" Failed to load party.")}})()},[r]);const nt=async()=>{if(!s.trim()||!c.trim()){alert(" Please enter your Name and Employee ID!");return}try{const at=lE(Os,"parties",r,"responses"),st=p2(at,g2("employeeId","==",c)),Et=await vE(st),gt={name:s,employeeId:c,workEmail:g,attendance:p,drinker:p==="Present"?R:"Not Applicable",drinkPreference:p==="Present"&&R==="Drinker"?P:"Not Applicable",submittedAt:new Date().toISOString()};if(Et.empty)await T2(at,gt),alert(" RSVP Submitted Successfully!");else{const wt=Et.docs[0];await E2(Ao(Os,"parties",r,"responses",wt.id),gt),alert(" RSVP Updated Successfully!")}F(!0)}catch(at){console.error("Error submitting RSVP:",at),alert(" Failed to submit RSVP.")}};return rt.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-400 via-blue-500 to-purple-600 flex justify-center items-center p-4",children:rt.jsx("div",{className:"backdrop-blur-lg bg-white/20 border border-white/30 rounded-3xl shadow-2xl p-5 sm:p-8 w-full max-w-lg",children:e?rt.jsxs(rt.Fragment,{children:[rt.jsxs("h1",{className:"text-2xl sm:text-3xl font-extrabold text-center text-white mb-3 drop-shadow-lg",children:[" RSVP for ",e.eventTitle]}),rt.jsxs("p",{className:"text-center text-white/80 text-sm sm:text-base mb-5",children:["Hosted by ",e.companyName," on"," ",new Date(e.date).toLocaleDateString()," at ",e.location]}),$?rt.jsx("p",{className:"text-white text-center text-lg sm:text-xl font-semibold",children:" Thank you for your RSVP!"}):rt.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[rt.jsx("input",{type:"text",placeholder:"Your Name",value:s,onChange:at=>o(at.target.value),className:"w-full bg-white/30 border border-white/50 rounded-xl px-4 py-2 sm:py-3 placeholder-white text-white focus:outline-none focus:ring-2 focus:ring-white"}),rt.jsx("input",{type:"text",placeholder:"Employee ID",value:c,onChange:at=>d(at.target.value),className:"w-full bg-white/30 border border-white/50 rounded-xl px-4 py-2 sm:py-3 placeholder-white text-white focus:outline-none focus:ring-2 focus:ring-white"}),rt.jsx("input",{type:"email",placeholder:"Work Email (optional)",value:g,onChange:at=>y(at.target.value),className:"w-full bg-white/30 border border-white/50 rounded-xl px-4 py-2 sm:py-3 placeholder-white text-white focus:outline-none focus:ring-2 focus:ring-white"}),rt.jsxs("div",{className:"flex flex-col gap-2",children:[rt.jsx("label",{className:"text-white font-medium text-sm sm:text-base",children:"Will you attend?"}),rt.jsxs("select",{value:p,onChange:at=>A(at.target.value),className:"w-full bg-white/30 border border-white/50 rounded-xl px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white appearance-none",children:[rt.jsx("option",{className:"bg-gray-800",value:"Present",children:"Present"}),rt.jsx("option",{className:"bg-gray-800",value:"Not Present",children:"Not Present"})]})]}),p==="Present"&&rt.jsxs(rt.Fragment,{children:[rt.jsxs("div",{className:"flex flex-col gap-2",children:[rt.jsx("label",{className:"text-white font-medium text-sm sm:text-base",children:"Are you a drinker?"}),rt.jsxs("select",{value:R,onChange:at=>C(at.target.value),className:"w-full bg-white/30 border border-white/50 rounded-xl px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white appearance-none",children:[rt.jsx("option",{className:"bg-gray-800",value:"Drinker",children:"Drinker"}),rt.jsx("option",{className:"bg-gray-800",value:"Non-Drinker",children:"Non-Drinker"})]})]}),R==="Drinker"&&rt.jsxs("div",{className:"flex flex-col gap-2",children:[rt.jsx("label",{className:"text-white font-medium text-sm sm:text-base",children:"What drinks do you prefer?"}),rt.jsxs("select",{value:P,onChange:at=>H(at.target.value),className:"w-full bg-white/30 border border-white/50 rounded-xl px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white appearance-none",children:[rt.jsx("option",{className:"bg-gray-800",value:"Beer",children:" Beer"}),rt.jsx("option",{className:"bg-gray-800",value:"Whisky",children:" Whisky"}),rt.jsx("option",{className:"bg-gray-800",value:"Cocktails",children:" Cocktails"}),rt.jsx("option",{className:"bg-gray-800",value:"Mocktails",children:" Mocktails"}),rt.jsx("option",{className:"bg-gray-800",value:"Wine",children:" Wine"})]})]})]}),rt.jsx("button",{onClick:nt,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold rounded-xl px-4 py-3 hover:scale-105 transition transform shadow-lg",children:"Submit RSVP"})]})]}):rt.jsx("p",{className:"text-white text-center",children:"Loading party details..."})})})}var dc={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var C2=dc.exports,ov;function D2(){return ov||(ov=1,function(r,e){((i,s)=>{r.exports=s()})(C2,function i(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},o,c=!s.document&&!!s.postMessage,d=s.IS_PAPA_WORKER||!1,g={},y=0,p={};function A(E){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(T){var w=gt(T);w.chunkSize=parseInt(w.chunkSize),T.step||T.chunk||(w.chunkSize=null),this._handle=new $(w),(this._handle.streamer=this)._config=w}).call(this,E),this.parseChunk=function(T,w){var x=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<x){let D=this._config.newline;D||(I=this._config.quoteChar||'"',D=this._handle.guessLineEndings(T,I)),T=[...T.split(D).slice(x)].join(D)}this.isFirstChunk&&O(this._config.beforeFirstChunk)&&(I=this._config.beforeFirstChunk(T))!==void 0&&(T=I),this.isFirstChunk=!1,this._halted=!1;var x=this._partialLine+T,I=(this._partialLine="",this._handle.parse(x,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(T=I.meta.cursor,x=(this._finished||(this._partialLine=x.substring(T-this._baseIndex),this._baseIndex=T),I&&I.data&&(this._rowCount+=I.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),d)s.postMessage({results:I,workerId:p.WORKER_ID,finished:x});else if(O(this._config.chunk)&&!w){if(this._config.chunk(I,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=I=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(I.data),this._completeResults.errors=this._completeResults.errors.concat(I.errors),this._completeResults.meta=I.meta),this._completed||!x||!O(this._config.complete)||I&&I.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),x||I&&I.meta.paused||this._nextChunk(),I}this._halted=!0},this._sendError=function(T){O(this._config.error)?this._config.error(T):d&&this._config.error&&s.postMessage({workerId:p.WORKER_ID,error:T,finished:!1})}}function R(E){var T;(E=E||{}).chunkSize||(E.chunkSize=p.RemoteChunkSize),A.call(this,E),this._nextChunk=c?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(w){this._input=w,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(T=new XMLHttpRequest,this._config.withCredentials&&(T.withCredentials=this._config.withCredentials),c||(T.onload=wt(this._chunkLoaded,this),T.onerror=wt(this._chunkError,this)),T.open(this._config.downloadRequestBody?"POST":"GET",this._input,!c),this._config.downloadRequestHeaders){var w,x=this._config.downloadRequestHeaders;for(w in x)T.setRequestHeader(w,x[w])}var I;this._config.chunkSize&&(I=this._start+this._config.chunkSize-1,T.setRequestHeader("Range","bytes="+this._start+"-"+I));try{T.send(this._config.downloadRequestBody)}catch(D){this._chunkError(D.message)}c&&T.status===0&&this._chunkError()}},this._chunkLoaded=function(){T.readyState===4&&(T.status<200||400<=T.status?this._chunkError():(this._start+=this._config.chunkSize||T.responseText.length,this._finished=!this._config.chunkSize||this._start>=(w=>(w=w.getResponseHeader("Content-Range"))!==null?parseInt(w.substring(w.lastIndexOf("/")+1)):-1)(T),this.parseChunk(T.responseText)))},this._chunkError=function(w){w=T.statusText||w,this._sendError(new Error(w))}}function C(E){(E=E||{}).chunkSize||(E.chunkSize=p.LocalChunkSize),A.call(this,E);var T,w,x=typeof FileReader<"u";this.stream=function(I){this._input=I,w=I.slice||I.webkitSlice||I.mozSlice,x?((T=new FileReader).onload=wt(this._chunkLoaded,this),T.onerror=wt(this._chunkError,this)):T=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var I=this._input,D=(this._config.chunkSize&&(D=Math.min(this._start+this._config.chunkSize,this._input.size),I=w.call(I,this._start,D)),T.readAsText(I,this._config.encoding));x||this._chunkLoaded({target:{result:D}})},this._chunkLoaded=function(I){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(I.target.result)},this._chunkError=function(){this._sendError(T.error)}}function P(E){var T;A.call(this,E=E||{}),this.stream=function(w){return T=w,this._nextChunk()},this._nextChunk=function(){var w,x;if(!this._finished)return w=this._config.chunkSize,T=w?(x=T.substring(0,w),T.substring(w)):(x=T,""),this._finished=!T,this.parseChunk(x)}}function H(E){A.call(this,E=E||{});var T=[],w=!0,x=!1;this.pause=function(){A.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){A.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(I){this._input=I,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){x&&T.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),T.length?this.parseChunk(T.shift()):w=!0},this._streamData=wt(function(I){try{T.push(typeof I=="string"?I:I.toString(this._config.encoding)),w&&(w=!1,this._checkIsFinished(),this.parseChunk(T.shift()))}catch(D){this._streamError(D)}},this),this._streamError=wt(function(I){this._streamCleanUp(),this._sendError(I)},this),this._streamEnd=wt(function(){this._streamCleanUp(),x=!0,this._streamData("")},this),this._streamCleanUp=wt(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function $(E){var T,w,x,I,D=Math.pow(2,53),Ut=-D,jt=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Y=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,W=this,ot=0,ut=0,N=!1,q=!1,tt=[],G={data:[],errors:[],meta:{}};function ct(pt){return E.skipEmptyLines==="greedy"?pt.join("").trim()==="":pt.length===1&&pt[0].length===0}function yt(){if(G&&x&&(Jt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+p.DefaultDelimiter+"'"),x=!1),E.skipEmptyLines&&(G.data=G.data.filter(function(Xt){return!ct(Xt)})),dt()){let Xt=function(fe,$t){O(E.transformHeader)&&(fe=E.transformHeader(fe,$t)),tt.push(fe)};var Rt=Xt;if(G)if(Array.isArray(G.data[0])){for(var pt=0;dt()&&pt<G.data.length;pt++)G.data[pt].forEach(Xt);G.data.splice(0,1)}else G.data.forEach(Xt)}function It(Xt,fe){for(var $t=E.header?{}:[],qt=0;qt<Xt.length;qt++){var Vt=qt,re=Xt[qt],re=((Ht,ee)=>(de=>(E.dynamicTypingFunction&&E.dynamicTyping[de]===void 0&&(E.dynamicTyping[de]=E.dynamicTypingFunction(de)),(E.dynamicTyping[de]||E.dynamicTyping)===!0))(Ht)?ee==="true"||ee==="TRUE"||ee!=="false"&&ee!=="FALSE"&&((de=>{if(jt.test(de)&&(de=parseFloat(de),Ut<de&&de<D))return 1})(ee)?parseFloat(ee):Y.test(ee)?new Date(ee):ee===""?null:ee):ee)(Vt=E.header?qt>=tt.length?"__parsed_extra":tt[qt]:Vt,re=E.transform?E.transform(re,Vt):re);Vt==="__parsed_extra"?($t[Vt]=$t[Vt]||[],$t[Vt].push(re)):$t[Vt]=re}return E.header&&(qt>tt.length?Jt("FieldMismatch","TooManyFields","Too many fields: expected "+tt.length+" fields but parsed "+qt,ut+fe):qt<tt.length&&Jt("FieldMismatch","TooFewFields","Too few fields: expected "+tt.length+" fields but parsed "+qt,ut+fe)),$t}var Wt;G&&(E.header||E.dynamicTyping||E.transform)&&(Wt=1,!G.data.length||Array.isArray(G.data[0])?(G.data=G.data.map(It),Wt=G.data.length):G.data=It(G.data,0),E.header&&G.meta&&(G.meta.fields=tt),ut+=Wt)}function dt(){return E.header&&tt.length===0}function Jt(pt,It,Wt,Rt){pt={type:pt,code:It,message:Wt},Rt!==void 0&&(pt.row=Rt),G.errors.push(pt)}O(E.step)&&(I=E.step,E.step=function(pt){G=pt,dt()?yt():(yt(),G.data.length!==0&&(ot+=pt.data.length,E.preview&&ot>E.preview?w.abort():(G.data=G.data[0],I(G,W))))}),this.parse=function(pt,It,Wt){var Rt=E.quoteChar||'"',Rt=(E.newline||(E.newline=this.guessLineEndings(pt,Rt)),x=!1,E.delimiter?O(E.delimiter)&&(E.delimiter=E.delimiter(pt),G.meta.delimiter=E.delimiter):((Rt=((Xt,fe,$t,qt,Vt)=>{var re,Ht,ee,de;Vt=Vt||[",","	","|",";",p.RECORD_SEP,p.UNIT_SEP];for(var yn=0;yn<Vt.length;yn++){for(var _n,Mn=Vt[yn],Se=0,fn=0,Nt=0,Dt=(ee=void 0,new nt({comments:qt,delimiter:Mn,newline:fe,preview:10}).parse(Xt)),Ee=0;Ee<Dt.data.length;Ee++)$t&&ct(Dt.data[Ee])?Nt++:(_n=Dt.data[Ee].length,fn+=_n,ee===void 0?ee=_n:0<_n&&(Se+=Math.abs(_n-ee),ee=_n));0<Dt.data.length&&(fn/=Dt.data.length-Nt),(Ht===void 0||Se<=Ht)&&(de===void 0||de<fn)&&1.99<fn&&(Ht=Se,re=Mn,de=fn)}return{successful:!!(E.delimiter=re),bestDelimiter:re}})(pt,E.newline,E.skipEmptyLines,E.comments,E.delimitersToGuess)).successful?E.delimiter=Rt.bestDelimiter:(x=!0,E.delimiter=p.DefaultDelimiter),G.meta.delimiter=E.delimiter),gt(E));return E.preview&&E.header&&Rt.preview++,T=pt,w=new nt(Rt),G=w.parse(T,It,Wt),yt(),N?{meta:{paused:!0}}:G||{meta:{paused:!1}}},this.paused=function(){return N},this.pause=function(){N=!0,w.abort(),T=O(E.chunk)?"":T.substring(w.getCharIndex())},this.resume=function(){W.streamer._halted?(N=!1,W.streamer.parseChunk(T,!0)):setTimeout(W.resume,3)},this.aborted=function(){return q},this.abort=function(){q=!0,w.abort(),G.meta.aborted=!0,O(E.complete)&&E.complete(G),T=""},this.guessLineEndings=function(Xt,Rt){Xt=Xt.substring(0,1048576);var Rt=new RegExp(F(Rt)+"([^]*?)"+F(Rt),"gm"),Wt=(Xt=Xt.replace(Rt,"")).split("\r"),Rt=Xt.split(`
`),Xt=1<Rt.length&&Rt[0].length<Wt[0].length;if(Wt.length===1||Xt)return`
`;for(var fe=0,$t=0;$t<Wt.length;$t++)Wt[$t][0]===`
`&&fe++;return fe>=Wt.length/2?`\r
`:"\r"}}function F(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function nt(E){var T=(E=E||{}).delimiter,w=E.newline,x=E.comments,I=E.step,D=E.preview,Ut=E.fastMode,jt=null,Y=!1,W=E.quoteChar==null?'"':E.quoteChar,ot=W;if(E.escapeChar!==void 0&&(ot=E.escapeChar),(typeof T!="string"||-1<p.BAD_DELIMITERS.indexOf(T))&&(T=","),x===T)throw new Error("Comment character same as delimiter");x===!0?x="#":(typeof x!="string"||-1<p.BAD_DELIMITERS.indexOf(x))&&(x=!1),w!==`
`&&w!=="\r"&&w!==`\r
`&&(w=`
`);var ut=0,N=!1;this.parse=function(q,tt,G){if(typeof q!="string")throw new Error("Input must be a string");var ct=q.length,yt=T.length,dt=w.length,Jt=x.length,pt=O(I),It=[],Wt=[],Rt=[],Xt=ut=0;if(!q)return Se();if(Ut||Ut!==!1&&q.indexOf(W)===-1){for(var fe=q.split(w),$t=0;$t<fe.length;$t++){if(Rt=fe[$t],ut+=Rt.length,$t!==fe.length-1)ut+=w.length;else if(G)return Se();if(!x||Rt.substring(0,Jt)!==x){if(pt){if(It=[],de(Rt.split(T)),fn(),N)return Se()}else de(Rt.split(T));if(D&&D<=$t)return It=It.slice(0,D),Se(!0)}}return Se()}for(var qt=q.indexOf(T,ut),Vt=q.indexOf(w,ut),re=new RegExp(F(ot)+F(W),"g"),Ht=q.indexOf(W,ut);;)if(q[ut]===W)for(Ht=ut,ut++;;){if((Ht=q.indexOf(W,Ht+1))===-1)return G||Wt.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:It.length,index:ut}),_n();if(Ht===ct-1)return _n(q.substring(ut,Ht).replace(re,W));if(W===ot&&q[Ht+1]===ot)Ht++;else if(W===ot||Ht===0||q[Ht-1]!==ot){qt!==-1&&qt<Ht+1&&(qt=q.indexOf(T,Ht+1));var ee=yn((Vt=Vt!==-1&&Vt<Ht+1?q.indexOf(w,Ht+1):Vt)===-1?qt:Math.min(qt,Vt));if(q.substr(Ht+1+ee,yt)===T){Rt.push(q.substring(ut,Ht).replace(re,W)),q[ut=Ht+1+ee+yt]!==W&&(Ht=q.indexOf(W,ut)),qt=q.indexOf(T,ut),Vt=q.indexOf(w,ut);break}if(ee=yn(Vt),q.substring(Ht+1+ee,Ht+1+ee+dt)===w){if(Rt.push(q.substring(ut,Ht).replace(re,W)),Mn(Ht+1+ee+dt),qt=q.indexOf(T,ut),Ht=q.indexOf(W,ut),pt&&(fn(),N))return Se();if(D&&It.length>=D)return Se(!0);break}Wt.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:It.length,index:ut}),Ht++}}else if(x&&Rt.length===0&&q.substring(ut,ut+Jt)===x){if(Vt===-1)return Se();ut=Vt+dt,Vt=q.indexOf(w,ut),qt=q.indexOf(T,ut)}else if(qt!==-1&&(qt<Vt||Vt===-1))Rt.push(q.substring(ut,qt)),ut=qt+yt,qt=q.indexOf(T,ut);else{if(Vt===-1)break;if(Rt.push(q.substring(ut,Vt)),Mn(Vt+dt),pt&&(fn(),N))return Se();if(D&&It.length>=D)return Se(!0)}return _n();function de(Nt){It.push(Nt),Xt=ut}function yn(Nt){var Dt=0;return Dt=Nt!==-1&&(Nt=q.substring(Ht+1,Nt))&&Nt.trim()===""?Nt.length:Dt}function _n(Nt){return G||(Nt===void 0&&(Nt=q.substring(ut)),Rt.push(Nt),ut=ct,de(Rt),pt&&fn()),Se()}function Mn(Nt){ut=Nt,de(Rt),Rt=[],Vt=q.indexOf(w,ut)}function Se(Nt){if(E.header&&!tt&&It.length&&!Y){var Dt=It[0],Ee=Object.create(null),Ve=new Set(Dt);let Zr=!1;for(let ai=0;ai<Dt.length;ai++){let Ge=Dt[ai];if(Ee[Ge=O(E.transformHeader)?E.transformHeader(Ge,ai):Ge]){let bn,si=Ee[Ge];for(;bn=Ge+"_"+si,si++,Ve.has(bn););Ve.add(bn),Dt[ai]=bn,Ee[Ge]++,Zr=!0,(jt=jt===null?{}:jt)[bn]=Ge}else Ee[Ge]=1,Dt[ai]=Ge;Ve.add(Ge)}Zr&&console.warn("Duplicate headers found and renamed."),Y=!0}return{data:It,errors:Wt,meta:{delimiter:T,linebreak:w,aborted:N,truncated:!!Nt,cursor:Xt+(tt||0),renamedHeaders:jt}}}function fn(){I(Se()),It=[],Wt=[]}},this.abort=function(){N=!0},this.getCharIndex=function(){return ut}}function at(E){var T=E.data,w=g[T.workerId],x=!1;if(T.error)w.userError(T.error,T.file);else if(T.results&&T.results.data){var I={abort:function(){x=!0,st(T.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:Et,resume:Et};if(O(w.userStep)){for(var D=0;D<T.results.data.length&&(w.userStep({data:T.results.data[D],errors:T.results.errors,meta:T.results.meta},I),!x);D++);delete T.results}else O(w.userChunk)&&(w.userChunk(T.results,I,T.file),delete T.results)}T.finished&&!x&&st(T.workerId,T.results)}function st(E,T){var w=g[E];O(w.userComplete)&&w.userComplete(T),w.terminate(),delete g[E]}function Et(){throw new Error("Not implemented.")}function gt(E){if(typeof E!="object"||E===null)return E;var T,w=Array.isArray(E)?[]:{};for(T in E)w[T]=gt(E[T]);return w}function wt(E,T){return function(){E.apply(T,arguments)}}function O(E){return typeof E=="function"}return p.parse=function(E,T){var w=(T=T||{}).dynamicTyping||!1;if(O(w)&&(T.dynamicTypingFunction=w,w={}),T.dynamicTyping=w,T.transform=!!O(T.transform)&&T.transform,!T.worker||!p.WORKERS_SUPPORTED)return w=null,p.NODE_STREAM_INPUT,typeof E=="string"?(E=(x=>x.charCodeAt(0)!==65279?x:x.slice(1))(E),w=new(T.download?R:P)(T)):E.readable===!0&&O(E.read)&&O(E.on)?w=new H(T):(s.File&&E instanceof File||E instanceof Object)&&(w=new C(T)),w.stream(E);(w=(()=>{var x;return!!p.WORKERS_SUPPORTED&&(x=(()=>{var I=s.URL||s.webkitURL||null,D=i.toString();return p.BLOB_URL||(p.BLOB_URL=I.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",D,")();"],{type:"text/javascript"})))})(),(x=new s.Worker(x)).onmessage=at,x.id=y++,g[x.id]=x)})()).userStep=T.step,w.userChunk=T.chunk,w.userComplete=T.complete,w.userError=T.error,T.step=O(T.step),T.chunk=O(T.chunk),T.complete=O(T.complete),T.error=O(T.error),delete T.worker,w.postMessage({input:E,config:T,workerId:w.id})},p.unparse=function(E,T){var w=!1,x=!0,I=",",D=`\r
`,Ut='"',jt=Ut+Ut,Y=!1,W=null,ot=!1,ut=((()=>{if(typeof T=="object"){if(typeof T.delimiter!="string"||p.BAD_DELIMITERS.filter(function(tt){return T.delimiter.indexOf(tt)!==-1}).length||(I=T.delimiter),typeof T.quotes!="boolean"&&typeof T.quotes!="function"&&!Array.isArray(T.quotes)||(w=T.quotes),typeof T.skipEmptyLines!="boolean"&&typeof T.skipEmptyLines!="string"||(Y=T.skipEmptyLines),typeof T.newline=="string"&&(D=T.newline),typeof T.quoteChar=="string"&&(Ut=T.quoteChar),typeof T.header=="boolean"&&(x=T.header),Array.isArray(T.columns)){if(T.columns.length===0)throw new Error("Option columns is empty");W=T.columns}T.escapeChar!==void 0&&(jt=T.escapeChar+Ut),T.escapeFormulae instanceof RegExp?ot=T.escapeFormulae:typeof T.escapeFormulae=="boolean"&&T.escapeFormulae&&(ot=/^[=+\-@\t\r].*$/)}})(),new RegExp(F(Ut),"g"));if(typeof E=="string"&&(E=JSON.parse(E)),Array.isArray(E)){if(!E.length||Array.isArray(E[0]))return N(null,E,Y);if(typeof E[0]=="object")return N(W||Object.keys(E[0]),E,Y)}else if(typeof E=="object")return typeof E.data=="string"&&(E.data=JSON.parse(E.data)),Array.isArray(E.data)&&(E.fields||(E.fields=E.meta&&E.meta.fields||W),E.fields||(E.fields=Array.isArray(E.data[0])?E.fields:typeof E.data[0]=="object"?Object.keys(E.data[0]):[]),Array.isArray(E.data[0])||typeof E.data[0]=="object"||(E.data=[E.data])),N(E.fields||[],E.data||[],Y);throw new Error("Unable to serialize unrecognized input");function N(tt,G,ct){var yt="",dt=(typeof tt=="string"&&(tt=JSON.parse(tt)),typeof G=="string"&&(G=JSON.parse(G)),Array.isArray(tt)&&0<tt.length),Jt=!Array.isArray(G[0]);if(dt&&x){for(var pt=0;pt<tt.length;pt++)0<pt&&(yt+=I),yt+=q(tt[pt],pt);0<G.length&&(yt+=D)}for(var It=0;It<G.length;It++){var Wt=(dt?tt:G[It]).length,Rt=!1,Xt=dt?Object.keys(G[It]).length===0:G[It].length===0;if(ct&&!dt&&(Rt=ct==="greedy"?G[It].join("").trim()==="":G[It].length===1&&G[It][0].length===0),ct==="greedy"&&dt){for(var fe=[],$t=0;$t<Wt;$t++){var qt=Jt?tt[$t]:$t;fe.push(G[It][qt])}Rt=fe.join("").trim()===""}if(!Rt){for(var Vt=0;Vt<Wt;Vt++){0<Vt&&!Xt&&(yt+=I);var re=dt&&Jt?tt[Vt]:Vt;yt+=q(G[It][re],Vt)}It<G.length-1&&(!ct||0<Wt&&!Xt)&&(yt+=D)}}return yt}function q(tt,G){var ct,yt;return tt==null?"":tt.constructor===Date?JSON.stringify(tt).slice(1,25):(yt=!1,ot&&typeof tt=="string"&&ot.test(tt)&&(tt="'"+tt,yt=!0),ct=tt.toString().replace(ut,jt),(yt=yt||w===!0||typeof w=="function"&&w(tt,G)||Array.isArray(w)&&w[G]||((dt,Jt)=>{for(var pt=0;pt<Jt.length;pt++)if(-1<dt.indexOf(Jt[pt]))return!0;return!1})(ct,p.BAD_DELIMITERS)||-1<ct.indexOf(I)||ct.charAt(0)===" "||ct.charAt(ct.length-1)===" ")?Ut+ct+Ut:ct)}},p.RECORD_SEP="",p.UNIT_SEP="",p.BYTE_ORDER_MARK="\uFEFF",p.BAD_DELIMITERS=["\r",`
`,'"',p.BYTE_ORDER_MARK],p.WORKERS_SUPPORTED=!c&&!!s.Worker,p.NODE_STREAM_INPUT=1,p.LocalChunkSize=10485760,p.RemoteChunkSize=5242880,p.DefaultDelimiter=",",p.Parser=nt,p.ParserHandle=$,p.NetworkStreamer=R,p.FileStreamer=C,p.StringStreamer=P,p.ReadableStreamStreamer=H,s.jQuery&&((o=s.jQuery).fn.parse=function(E){var T=E.config||{},w=[];return this.each(function(D){if(!(o(this).prop("tagName").toUpperCase()==="INPUT"&&o(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var Ut=0;Ut<this.files.length;Ut++)w.push({file:this.files[Ut],inputElem:this,instanceConfig:o.extend({},T)})}),x(),this;function x(){if(w.length===0)O(E.complete)&&E.complete();else{var D,Ut,jt,Y,W=w[0];if(O(E.before)){var ot=E.before(W.file,W.inputElem);if(typeof ot=="object"){if(ot.action==="abort")return D="AbortError",Ut=W.file,jt=W.inputElem,Y=ot.reason,void(O(E.error)&&E.error({name:D},Ut,jt,Y));if(ot.action==="skip")return void I();typeof ot.config=="object"&&(W.instanceConfig=o.extend(W.instanceConfig,ot.config))}else if(ot==="skip")return void I()}var ut=W.instanceConfig.complete;W.instanceConfig.complete=function(N){O(ut)&&ut(N,W.file,W.inputElem),I()},p.parse(W.file,W.instanceConfig)}}function I(){w.splice(0,1),x()}}),d&&(s.onmessage=function(E){E=E.data,p.WORKER_ID===void 0&&E&&(p.WORKER_ID=E.workerId),typeof E.input=="string"?s.postMessage({workerId:p.WORKER_ID,results:p.parse(E.input,E.config),finished:!0}):(s.File&&E.input instanceof File||E.input instanceof Object)&&(E=p.parse(E.input,E.config))&&s.postMessage({workerId:p.WORKER_ID,results:E,finished:!0})}),(R.prototype=Object.create(A.prototype)).constructor=R,(C.prototype=Object.create(A.prototype)).constructor=C,(P.prototype=Object.create(P.prototype)).constructor=P,(H.prototype=Object.create(A.prototype)).constructor=H,p})}(dc)),dc.exports}var x2=D2();const I2=FT(x2);function V2(){const{id:r}=yv(),[e,i]=K.useState(null),[s,o]=K.useState([]),[c,d]=K.useState(!0);K.useEffect(()=>{const y=async()=>{try{const A=await yE(Ao(Os,"parties",r));A.exists()?i(A.data()):alert(" Party not found!")}catch(A){console.error("Error fetching party details:",A),alert("Failed to load party details.")}},p=async()=>{try{const R=(await vE(lE(Os,"parties",r,"responses"))).docs.map(C=>({id:C.id,...C.data()}));o(R)}catch(A){console.error("Error fetching responses:",A),alert("Failed to load RSVP responses.")}finally{d(!1)}};y(),p()},[r]);const g=()=>{if(s.length===0){alert(" No RSVPs to download.");return}const y=I2.unparse(s.map(R=>({"Employee ID":R.employeeId||"N/A",Name:R.name,"Work Email":R.workEmail||"N/A",Attendance:R.attendance,Drinker:R.drinker,"Drink Preference":R.drinkPreference,"Submitted At":new Date(R.submittedAt).toLocaleString()}))),p=new Blob([y],{type:"text/csv;charset=utf-8;"}),A=document.createElement("a");A.href=URL.createObjectURL(p),A.setAttribute("download",`RSVP_List_${r}.csv`),document.body.appendChild(A),A.click(),document.body.removeChild(A)};return rt.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-red-400 flex justify-center items-center p-2 sm:p-4",children:rt.jsxs("div",{className:"backdrop-blur-xl bg-white/20 border border-white/30 rounded-2xl shadow-2xl p-4 sm:p-8 w-full max-w-6xl overflow-hidden",children:[rt.jsx("h1",{className:"text-2xl sm:text-4xl font-extrabold text-center text-white mb-4 sm:mb-6 drop-shadow-lg",children:" Admin Summary"}),c?rt.jsx("p",{className:"text-white text-center",children:"Loading data..."}):rt.jsxs(rt.Fragment,{children:[e&&rt.jsxs("div",{className:"backdrop-blur-lg bg-white/10 border border-white/20 rounded-xl p-3 sm:p-4 text-white mb-4 sm:mb-6",children:[rt.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold mb-2",children:[" ",e.eventTitle]}),rt.jsxs("p",{className:"text-sm sm:text-base",children:[" Hosted by: ",e.companyName]}),rt.jsxs("p",{className:"text-sm sm:text-base",children:[" Date: ",new Date(e.date).toLocaleDateString()]}),rt.jsxs("p",{className:"text-sm sm:text-base",children:[" Location: ",e.location]})]}),rt.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-3 sm:mb-4 gap-2",children:[rt.jsxs("h3",{className:"text-lg sm:text-2xl font-semibold text-white",children:[" RSVP Responses (",s.length,")"]}),rt.jsx("button",{onClick:g,className:"w-full sm:w-auto bg-gradient-to-r from-green-500 to-teal-500 text-white font-bold rounded-xl px-4 py-2 hover:scale-105 transition transform shadow-lg",children:" Download CSV"})]}),s.length>0?rt.jsx("div",{className:"overflow-x-auto rounded-lg",children:rt.jsxs("table",{className:"min-w-full text-xs sm:text-sm bg-white/20 text-white rounded-xl shadow-inner",children:[rt.jsx("thead",{className:"sticky top-0 bg-white/10",children:rt.jsxs("tr",{className:"text-left",children:[rt.jsx("th",{className:"px-2 py-2 sm:px-4 sm:py-3",children:"Emp ID"}),rt.jsx("th",{className:"px-2 py-2 sm:px-4 sm:py-3",children:"Name"}),rt.jsx("th",{className:"px-2 py-2 sm:px-4 sm:py-3",children:"Email"}),rt.jsx("th",{className:"px-2 py-2 sm:px-4 sm:py-3",children:"Attend"}),rt.jsx("th",{className:"px-2 py-2 sm:px-4 sm:py-3",children:"Drinker"}),rt.jsx("th",{className:"px-2 py-2 sm:px-4 sm:py-3",children:"Preference"}),rt.jsx("th",{className:"px-2 py-2 sm:px-4 sm:py-3",children:"Submitted"})]})}),rt.jsx("tbody",{children:s.map((y,p)=>rt.jsxs("tr",{className:`${p%2===0?"bg-white/10":"bg-white/5"}`,children:[rt.jsx("td",{className:"px-2 py-2 sm:px-4 sm:py-2",children:y.employeeId||"N/A"}),rt.jsx("td",{className:"px-2 py-2 sm:px-4 sm:py-2",children:y.name}),rt.jsx("td",{className:"px-2 py-2 sm:px-4 sm:py-2",children:y.workEmail||"N/A"}),rt.jsx("td",{className:"px-2 py-2 sm:px-4 sm:py-2",children:y.attendance}),rt.jsx("td",{className:"px-2 py-2 sm:px-4 sm:py-2",children:y.drinker}),rt.jsx("td",{className:"px-2 py-2 sm:px-4 sm:py-2",children:y.drinkPreference}),rt.jsx("td",{className:"px-2 py-2 sm:px-4 sm:py-2",children:new Date(y.submittedAt).toLocaleString()})]},y.id))})]})}):rt.jsx("p",{className:"text-white text-center",children:"No RSVPs yet."})]})]})})}function N2(){return rt.jsx(mA,{children:rt.jsxs(G1,{children:[rt.jsx(no,{path:"/",element:rt.jsx(H1,{to:"/create"})}),rt.jsx(no,{path:"/create",element:rt.jsx(w2,{})}),rt.jsx(no,{path:"/rsvp/:id",element:rt.jsx(R2,{})}),rt.jsx(no,{path:"/admin/:id",element:rt.jsx(V2,{})})]})})}t1.createRoot(document.getElementById("root")).render(rt.jsx(K.StrictMode,{children:rt.jsx(N2,{})}));
